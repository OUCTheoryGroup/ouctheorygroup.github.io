const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/RealTimeMonthlyForecastView-ROMnUkpq.js","assets/vue-vendor-DB0sj3qF.js","assets/element-plus-vendor-BSOUQG5-.js","assets/element-plus-vendor-DoIVmZ8R.css","assets/utils-vendor-D8rVyQy1.js","assets/RealTimeMonthlyForecastView-02TVCYm5.css","assets/DailyForecastPredictView-BjpAFKG8.js","assets/ImageUploadPredictor-CED7m6Nh.js","assets/ImageUploadPredictor-BfKjGWmO.css","assets/DailyForecastPredictView-CzVGUjw0.css","assets/MonthlyForecastPredictView-C1hvi-dM.js","assets/MonthlyForecastPredictView-DO4Un9eo.css","assets/UncertaintyAnalysisView-DctLhOUt.js","assets/globe-core-DRVJ5Qu7.js","assets/three-vendor-DGFpXVQk.js","assets/d3-vendor-CzdIrv80.js","assets/UncertaintyAnalysisView-CO8c9uvS.css","assets/DynamicsAnalysisView-B0xmEDRZ.js","assets/DynamicsAnalysisView-CHiKCAS3.css"])))=>i.map(i=>d[i]);
import{z as q,E as N,a as z,b as j,c as G,e as H,f as W,h as K,i as J,t as Q,j as Y,s as X,l as Z,k as ee,m as te,n as ae}from"./element-plus-vendor-BSOUQG5-.js";import{r as _,ap as se,x as S,J as ne,u as b,aq as oe,ar as re,o as g,K as l,M as r,s as o,a6 as E,v as T,R as le,m as h,G as A,P as O,I as D,S as ie,as as ce,O as ue,Q as de,at as me,au as pe,av as fe}from"./vue-vendor-DB0sj3qF.js";import{a as ve}from"./utils-vendor-D8rVyQy1.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const a of c.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(s){if(s.ep)return;s.ep=!0;const c=n(s);fetch(s.href,c)}})();const _e="/seaice/assets/logo_01-BAeM1VEk.svg",ge={class:"sidebar-container"},he={class:"content-container"},ye={__name:"App",setup(t){const e=se(),n=oe(),i=_(e.path);S(()=>e.path,c=>{i.value=c});const s=c=>{n.push(c)};return(c,a)=>{const d=W,m=H,f=G,x=j,v=ee,R=re("router-view"),k=te,L=ae,w=z,$=N;return g(),ne($,{locale:b(q)},{default:l(()=>[r(w,{class:"container-full-height"},{default:l(()=>[r(x,{width:"200px",class:"dark-bg sidebar-overflow"},{default:l(()=>[o("div",ge,[a[6]||(a[6]=o("div",{class:"logo-container"},[o("img",{src:_e,class:"logo-image",alt:"OUC AI GROUP"}),o("strong",{class:"logo-text"},"OUC AI GROUP")],-1)),r(f,{class:"menu-container","default-active":i.value,onSelect:s,"background-color":"#001529","text-color":"#ffffff","active-text-color":"#409EFF"},{default:l(()=>[r(m,{index:"/"},{title:l(()=>a[0]||(a[0]=[E("实时逐日预报")])),default:l(()=>[r(d,null,{default:l(()=>[r(b(K))]),_:1})]),_:1}),r(m,{index:"/real-time-monthly-forecast"},{title:l(()=>a[1]||(a[1]=[E("实时逐月预报")])),default:l(()=>[r(d,null,{default:l(()=>[r(b(J))]),_:1})]),_:1}),r(m,{index:"/daily-forecast-predict"},{title:l(()=>a[2]||(a[2]=[E("逐日预报测试")])),default:l(()=>[r(d,null,{default:l(()=>[r(b(Q))]),_:1})]),_:1}),r(m,{index:"/monthly-forecast-predict"},{title:l(()=>a[3]||(a[3]=[E("逐月预报测试")])),default:l(()=>[r(d,null,{default:l(()=>[r(b(Y))]),_:1})]),_:1}),r(m,{index:"/uncertainty-analysis"},{title:l(()=>a[4]||(a[4]=[E("不确定性分析")])),default:l(()=>[r(d,null,{default:l(()=>[r(b(X))]),_:1})]),_:1}),r(m,{index:"/dynamics-analysis"},{title:l(()=>a[5]||(a[5]=[E("动力学分析")])),default:l(()=>[r(d,null,{default:l(()=>[r(b(Z))]),_:1})]),_:1})]),_:1},8,["default-active"])])]),_:1}),r(w,null,{default:l(()=>[r(v,{class:"header"},{default:l(()=>a[7]||(a[7]=[o("div",{class:"header-container"},[o("div",{class:"header-title"},[o("h1",{class:"main-title"},"北极海冰时空多尺度预报基础模型 MetaICE"),o("p",{class:"sub-title"}," MetaICE: Foundation Model for Arctic Sea Ice Spatio-Temporal Multi-Scale Forecasting ")]),o("a",{href:"https://oucai.club/",target:"_blank",class:"about-link"}," 关于我们 ")],-1)])),_:1}),r(k,{class:"main-content"},{default:l(()=>[o("div",he,[r(R)])]),_:1}),r(L,{class:"footer"},{default:l(()=>a[8]||(a[8]=[E(" OUC AI GROUP 2024 Copyright by 中国海洋大学人工智能研究院 ")])),_:1})]),_:1})]),_:1})]),_:1},8,["locale"])}}},we="modulepreload",be=function(t){return"/seaice/"+t},V={},M=function(e,n,i){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),d=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(m=>{if(m=be(m),m in V)return;V[m]=!0;const f=m.endsWith(".css"),x=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${x}`))return;const v=document.createElement("link");if(v.rel=f?"stylesheet":we,f||(v.as="script"),v.crossOrigin="",v.href=m,d&&v.setAttribute("nonce",d),document.head.appendChild(v),f)return new Promise((R,k)=>{v.addEventListener("load",R),v.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${m}`)))})}))}function c(a){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=a,window.dispatchEvent(d),!d.defaultPrevented)throw a}return s.then(a=>{for(const d of a||[])d.status==="rejected"&&c(d.reason);return e().catch(c)})},y=ve.create({baseURL:"https://seaice.52lxy.one:20443/seaice/",timeout:2e4});y.interceptors.request.use(t=>t);y.interceptors.response.use(t=>t.data,t=>{let e="";switch(t.response.status){case 401:e="TOKEN过期";break;case 403:e="无权访问";break;case 404:e="请求地址错误";break;case 500:e="服务器出现问题";break;default:e="网络出现问题";break}return console.log("报错",e),Promise.reject(t)});async function Xe(t,e){try{return(await y.post("/day-prediction",{data:{start_date:t,image_paths:e}})).data}catch(n){throw console.error("Error fetching day predictions:",n),n}}async function Ze(t,e){try{return(await y.post("/month-prediction",{data:{start_date:t,image_paths:e}})).data}catch(n){throw console.error("Error fetching month predictions:",n),n}}async function et(t){try{return(await y.get(`/day-prediction/${t}`)).data}catch(e){throw console.error("Error fetching day prediction result:",e),e}}async function tt(t){try{return(await y.get(`/month-prediction/${t}`)).data}catch(e){throw console.error("Error fetching month prediction result:",e),e}}async function at(){try{return(await y.get("/realtime-month-prediction")).data}catch(t){return console.error("Error fetching realtime month predictions:",t),[]}}async function Ee(){try{return(await y.get("/realtime-day-prediction")).data}catch(t){return console.error("Error fetching realtime day predictions:",t),[]}}async function st(t,e,n,i){try{return(await y.post("/dynamics-analysis",{data:{start_time:t,end_time:e,grad_type:n,grad_month:i}})).data}catch(s){throw console.error("Error fetching dynamics analysis:",s),s}}async function nt(t){try{return(await y.get(`/dynamics-analysis/${t}`)).data}catch(e){throw console.error("Error fetching dynamics analysis result:",e),e}}const xe={class:"container-flex"},ke={key:0,class:"title"},Pe={key:1,class:"image-container"},Ie={key:0,class:"loading-overlay"},Ce=["src"],Re={key:1,class:"tooltip"},$e={class:"button-grid"},Ae=["disabled"],Me=["disabled"],Oe={class:"slider-container"},Le={for:"intervalRange",class:"slider-label"},Se=["src"],De={class:"image-date"},Ve={__name:"ArcticSeaIceViewer",props:{images:{type:Array,required:!0}},setup(t){const e=t,n=_(null),i=_(0),s=_(null),c=_(1),a=_(2),d=_(!1),m=_(!1),f=_(!1),x=p=>new Promise((u,P)=>{const I=new Image;I.onload=()=>u(),I.onerror=P,I.src=p}),v=p=>{p&&(n.value=p,c.value=1)},R=p=>{const u=Math.sign(p.deltaY),P=Math.max(1,Math.min(3,c.value-u*.2));c.value=P,p.preventDefault()},k=async()=>{if(e.images&&e.images.length>0){f.value=!0;const p=(i.value+1)%e.images.length;try{await x(e.images[p].path),i.value=p,s.value=e.images[i.value]}catch(u){console.error("Failed to load next image:",u)}finally{f.value=!1}}},L=async()=>{if(e.images&&e.images.length>0){f.value=!0;const p=(i.value-1+e.images.length)%e.images.length;try{await x(e.images[p].path),i.value=p,s.value=e.images[i.value]}catch(u){console.error("Failed to load previous image:",u)}finally{f.value=!1}}};let w;const $=()=>{clearInterval(w),d.value||(w=setInterval(async()=>{f.value||await k()},a.value*1e3))},B=()=>{d.value=!d.value,$()};return T(()=>{$()}),le(()=>{w&&(clearInterval(w),w=null)}),S(()=>e.images,p=>{(p==null?void 0:p.length)>0?(i.value=0,s.value=p[0]):s.value=null},{immediate:!0}),S(a,()=>{$()}),(p,u)=>{var P,I;return g(),h("div",xe,[s.value?(g(),h("h2",ke,O(s.value.date),1)):A("",!0),s.value?(g(),h("div",Pe,[f.value?(g(),h("div",Ie,u[6]||(u[6]=[o("div",{class:"loading-spinner"},null,-1)]))):A("",!0),o("img",{src:s.value.path,alt:"Arctic Sea Ice Prediction",class:"image",onClick:u[0]||(u[0]=C=>v(s.value)),onMouseover:u[1]||(u[1]=C=>m.value=!0),onMouseleave:u[2]||(u[2]=C=>m.value=!1)},null,40,Ce),m.value?(g(),h("div",Re,"点击图片可以放大查看")):A("",!0)])):A("",!0),o("div",$e,[o("button",{onClick:L,class:D(["button",{"button-disabled":i.value===0}]),disabled:i.value===0}," 上一张 ",10,Ae),o("button",{onClick:B,class:"button"},O(d.value?"点击继续":"点击暂停"),1),o("button",{onClick:k,class:D(["button",{"button-disabled":!((P=t.images)!=null&&P.length)||i.value===t.images.length-1}]),disabled:!((I=t.images)!=null&&I.length)||i.value===t.images.length-1}," 下一张 ",10,Me)]),o("div",Oe,[ie(o("input",{id:"intervalRange",type:"range",min:"1",max:"3",step:"0.1","onUpdate:modelValue":u[3]||(u[3]=C=>a.value=C),class:"slider"},null,512),[[ce,a.value]]),o("label",Le,"图片播放速度: "+O(a.value)+"s",1)]),n.value?(g(),h("div",{key:2,class:"modal-overlay",onWheel:R,onClick:u[5]||(u[5]=ue(C=>n.value=null,["self"]))},[o("div",{class:"modal-content",style:de({transform:`scale(${c.value})`})},[o("img",{src:n.value.path,alt:"Large view",class:"modal-image"},null,8,Se),o("p",De,O(n.value.date),1)],4),o("button",{onClick:u[4]||(u[4]=C=>n.value=null),class:"close-button"},u[7]||(u[7]=[o("svg",{class:"close-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))],32)):A("",!0)])}}},U=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n},Te={},Ue={class:"loading-animation"};function Fe(t,e){return g(),h("div",Ue,e[0]||(e[0]=[o("svg",{class:"spinner",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[o("circle",{class:"spinner-circle",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),o("path",{class:"spinner-path",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})],-1)]))}const Be=U(Te,[["render",Fe],["__scopeId","data-v-bd8e11bc"]]),qe={class:"forecast-container"},Ne={class:"forecast-content"},ze={class:"viewer-wrapper"},je={key:0},Ge={key:1},He={__name:"RealTimeDailyForecastView",setup(t){const e=_([]),n=_(!0);return T(()=>{Ee().then(i=>{e.value=i,n.value=!1})}),(i,s)=>(g(),h("div",qe,[o("div",Ne,[o("div",ze,[n.value?(g(),h("div",je,[r(Be)])):(g(),h("div",Ge,[r(Ve,{images:e.value},null,8,["images"])]))])])]))}},We=U(He,[["__scopeId","data-v-aba54651"]]),Ke=me({history:pe("/seaice/"),routes:[{path:"/",name:"real-time-daily-forecast",component:We},{path:"/real-time-monthly-forecast",name:"real-time-monthly-forecast",component:()=>M(()=>import("./RealTimeMonthlyForecastView-ROMnUkpq.js"),__vite__mapDeps([0,1,2,3,4,5]))},{path:"/daily-forecast-predict",name:"daily-forecast-predict",component:()=>M(()=>import("./DailyForecastPredictView-BjpAFKG8.js"),__vite__mapDeps([6,2,1,3,7,8,4,9]))},{path:"/monthly-forecast-predict",name:"monthly-forecast-predict",component:()=>M(()=>import("./MonthlyForecastPredictView-C1hvi-dM.js"),__vite__mapDeps([10,2,1,3,7,8,4,11]))},{path:"/uncertainty-analysis",name:"uncertainty-analysis",component:()=>M(()=>import("./UncertaintyAnalysisView-DctLhOUt.js"),__vite__mapDeps([12,13,14,15,2,1,3,4,16]))},{path:"/dynamics-analysis",name:"dynamics-analysis",component:()=>M(()=>import("./DynamicsAnalysisView-B0xmEDRZ.js"),__vite__mapDeps([17,2,1,3,4,18]))}]}),F=fe(ye);F.use(Ke);F.mount("#app");export{Be as L,U as _,Ve as a,Xe as b,Ze as c,tt as d,st as e,nt as f,et as g,at as u};
