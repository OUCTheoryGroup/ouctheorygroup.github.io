function br(n){const t=+this._x.call(null,n),e=+this._y.call(null,n),i=+this._z.call(null,n);return Ii(this.cover(t,e,i),t,e,i,n)}function Ii(n,t,e,i,r){if(isNaN(t)||isNaN(e)||isNaN(i))return n;var o,s=n._root,l={data:r},u=n._x0,f=n._y0,c=n._z0,a=n._x1,h=n._y1,g=n._z1,p,d,_,y,m,v,S,M,b,E,P;if(!s)return n._root=l,n;for(;s.length;)if((S=t>=(p=(u+a)/2))?u=p:a=p,(M=e>=(d=(f+h)/2))?f=d:h=d,(b=i>=(_=(c+g)/2))?c=_:g=_,o=s,!(s=s[E=b<<2|M<<1|S]))return o[E]=l,n;if(y=+n._x.call(null,s.data),m=+n._y.call(null,s.data),v=+n._z.call(null,s.data),t===y&&e===m&&i===v)return l.next=s,o?o[E]=l:n._root=l,n;do o=o?o[E]=new Array(8):n._root=new Array(8),(S=t>=(p=(u+a)/2))?u=p:a=p,(M=e>=(d=(f+h)/2))?f=d:h=d,(b=i>=(_=(c+g)/2))?c=_:g=_;while((E=b<<2|M<<1|S)===(P=(v>=_)<<2|(m>=d)<<1|y>=p));return o[P]=s,o[E]=l,n}function Ar(n){Array.isArray(n)||(n=Array.from(n));const t=n.length,e=new Float64Array(t),i=new Float64Array(t),r=new Float64Array(t);let o=1/0,s=1/0,l=1/0,u=-1/0,f=-1/0,c=-1/0;for(let a=0,h,g,p,d;a<t;++a)isNaN(g=+this._x.call(null,h=n[a]))||isNaN(p=+this._y.call(null,h))||isNaN(d=+this._z.call(null,h))||(e[a]=g,i[a]=p,r[a]=d,g<o&&(o=g),g>u&&(u=g),p<s&&(s=p),p>f&&(f=p),d<l&&(l=d),d>c&&(c=d));if(o>u||s>f||l>c)return this;this.cover(o,s,l).cover(u,f,c);for(let a=0;a<t;++a)Ii(this,e[a],i[a],r[a],n[a]);return this}function Er(n,t,e){if(isNaN(n=+n)||isNaN(t=+t)||isNaN(e=+e))return this;var i=this._x0,r=this._y0,o=this._z0,s=this._x1,l=this._y1,u=this._z1;if(isNaN(i))s=(i=Math.floor(n))+1,l=(r=Math.floor(t))+1,u=(o=Math.floor(e))+1;else{for(var f=s-i||1,c=this._root,a,h;i>n||n>=s||r>t||t>=l||o>e||e>=u;)switch(h=(e<o)<<2|(t<r)<<1|n<i,a=new Array(8),a[h]=c,c=a,f*=2,h){case 0:s=i+f,l=r+f,u=o+f;break;case 1:i=s-f,l=r+f,u=o+f;break;case 2:s=i+f,r=l-f,u=o+f;break;case 3:i=s-f,r=l-f,u=o+f;break;case 4:s=i+f,l=r+f,o=u-f;break;case 5:i=s-f,l=r+f,o=u-f;break;case 6:s=i+f,r=l-f,o=u-f;break;case 7:i=s-f,r=l-f,o=u-f;break}this._root&&this._root.length&&(this._root=c)}return this._x0=i,this._y0=r,this._z0=o,this._x1=s,this._y1=l,this._z1=u,this}function $r(){var n=[];return this.visit(function(t){if(!t.length)do n.push(t.data);while(t=t.next)}),n}function Pr(n){return arguments.length?this.cover(+n[0][0],+n[0][1],+n[0][2]).cover(+n[1][0],+n[1][1],+n[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function B(n,t,e,i,r,o,s){this.node=n,this.x0=t,this.y0=e,this.z0=i,this.x1=r,this.y1=o,this.z1=s}function kr(n,t,e,i){var r,o=this._x0,s=this._y0,l=this._z0,u,f,c,a,h,g,p=this._x1,d=this._y1,_=this._z1,y=[],m=this._root,v,S;for(m&&y.push(new B(m,o,s,l,p,d,_)),i==null?i=1/0:(o=n-i,s=t-i,l=e-i,p=n+i,d=t+i,_=e+i,i*=i);v=y.pop();)if(!(!(m=v.node)||(u=v.x0)>p||(f=v.y0)>d||(c=v.z0)>_||(a=v.x1)<o||(h=v.y1)<s||(g=v.z1)<l))if(m.length){var M=(u+a)/2,b=(f+h)/2,E=(c+g)/2;y.push(new B(m[7],M,b,E,a,h,g),new B(m[6],u,b,E,M,h,g),new B(m[5],M,f,E,a,b,g),new B(m[4],u,f,E,M,b,g),new B(m[3],M,b,c,a,h,E),new B(m[2],u,b,c,M,h,E),new B(m[1],M,f,c,a,b,E),new B(m[0],u,f,c,M,b,E)),(S=(e>=E)<<2|(t>=b)<<1|n>=M)&&(v=y[y.length-1],y[y.length-1]=y[y.length-1-S],y[y.length-1-S]=v)}else{var P=n-+this._x.call(null,m.data),N=t-+this._y.call(null,m.data),$=e-+this._z.call(null,m.data),w=P*P+N*N+$*$;if(w<i){var k=Math.sqrt(i=w);o=n-k,s=t-k,l=e-k,p=n+k,d=t+k,_=e+k,r=m.data}}return r}const zr=(n,t,e,i,r,o)=>Math.sqrt((n-i)**2+(t-r)**2+(e-o)**2);function Ir(n,t,e,i){const r=[],o=n-i,s=t-i,l=e-i,u=n+i,f=t+i,c=e+i;return this.visit((a,h,g,p,d,_,y)=>{if(!a.length)do{const m=a.data;zr(n,t,e,this._x(m),this._y(m),this._z(m))<=i&&r.push(m)}while(a=a.next);return h>u||g>f||p>c||d<o||_<s||y<l}),r}function Rr(n){if(isNaN(h=+this._x.call(null,n))||isNaN(g=+this._y.call(null,n))||isNaN(p=+this._z.call(null,n)))return this;var t,e=this._root,i,r,o,s=this._x0,l=this._y0,u=this._z0,f=this._x1,c=this._y1,a=this._z1,h,g,p,d,_,y,m,v,S,M,b;if(!e)return this;if(e.length)for(;;){if((m=h>=(d=(s+f)/2))?s=d:f=d,(v=g>=(_=(l+c)/2))?l=_:c=_,(S=p>=(y=(u+a)/2))?u=y:a=y,t=e,!(e=e[M=S<<2|v<<1|m]))return this;if(!e.length)break;(t[M+1&7]||t[M+2&7]||t[M+3&7]||t[M+4&7]||t[M+5&7]||t[M+6&7]||t[M+7&7])&&(i=t,b=M)}for(;e.data!==n;)if(r=e,!(e=e.next))return this;return(o=e.next)&&delete e.next,r?(o?r.next=o:delete r.next,this):t?(o?t[M]=o:delete t[M],(e=t[0]||t[1]||t[2]||t[3]||t[4]||t[5]||t[6]||t[7])&&e===(t[7]||t[6]||t[5]||t[4]||t[3]||t[2]||t[1]||t[0])&&!e.length&&(i?i[b]=e:this._root=e),this):(this._root=o,this)}function Cr(n){for(var t=0,e=n.length;t<e;++t)this.remove(n[t]);return this}function Tr(){return this._root}function Lr(){var n=0;return this.visit(function(t){if(!t.length)do++n;while(t=t.next)}),n}function Fr(n){var t=[],e,i=this._root,r,o,s,l,u,f,c;for(i&&t.push(new B(i,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));e=t.pop();)if(!n(i=e.node,o=e.x0,s=e.y0,l=e.z0,u=e.x1,f=e.y1,c=e.z1)&&i.length){var a=(o+u)/2,h=(s+f)/2,g=(l+c)/2;(r=i[7])&&t.push(new B(r,a,h,g,u,f,c)),(r=i[6])&&t.push(new B(r,o,h,g,a,f,c)),(r=i[5])&&t.push(new B(r,a,s,g,u,h,c)),(r=i[4])&&t.push(new B(r,o,s,g,a,h,c)),(r=i[3])&&t.push(new B(r,a,h,l,u,f,g)),(r=i[2])&&t.push(new B(r,o,h,l,a,f,g)),(r=i[1])&&t.push(new B(r,a,s,l,u,h,g)),(r=i[0])&&t.push(new B(r,o,s,l,a,h,g))}return this}function qr(n){var t=[],e=[],i;for(this._root&&t.push(new B(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));i=t.pop();){var r=i.node;if(r.length){var o,s=i.x0,l=i.y0,u=i.z0,f=i.x1,c=i.y1,a=i.z1,h=(s+f)/2,g=(l+c)/2,p=(u+a)/2;(o=r[0])&&t.push(new B(o,s,l,u,h,g,p)),(o=r[1])&&t.push(new B(o,h,l,u,f,g,p)),(o=r[2])&&t.push(new B(o,s,g,u,h,c,p)),(o=r[3])&&t.push(new B(o,h,g,u,f,c,p)),(o=r[4])&&t.push(new B(o,s,l,p,h,g,a)),(o=r[5])&&t.push(new B(o,h,l,p,f,g,a)),(o=r[6])&&t.push(new B(o,s,g,p,h,c,a)),(o=r[7])&&t.push(new B(o,h,g,p,f,c,a))}e.push(i)}for(;i=e.pop();)n(i.node,i.x0,i.y0,i.z0,i.x1,i.y1,i.z1);return this}function Dr(n){return n[0]}function Hr(n){return arguments.length?(this._x=n,this):this._x}function Or(n){return n[1]}function Br(n){return arguments.length?(this._y=n,this):this._y}function Xr(n){return n[2]}function Vr(n){return arguments.length?(this._z=n,this):this._z}function Yr(n,t,e,i){var r=new de(t??Dr,e??Or,i??Xr,NaN,NaN,NaN,NaN,NaN,NaN);return n==null?r:r.addAll(n)}function de(n,t,e,i,r,o,s,l,u){this._x=n,this._y=t,this._z=e,this._x0=i,this._y0=r,this._z0=o,this._x1=s,this._y1=l,this._z1=u,this._root=void 0}function Pe(n){for(var t={data:n.data},e=t;n=n.next;)e=e.next={data:n.data};return t}var U=Yr.prototype=de.prototype;U.copy=function(){var n=new de(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),t=this._root,e,i;if(!t)return n;if(!t.length)return n._root=Pe(t),n;for(e=[{source:t,target:n._root=new Array(8)}];t=e.pop();)for(var r=0;r<8;++r)(i=t.source[r])&&(i.length?e.push({source:i,target:t.target[r]=new Array(8)}):t.target[r]=Pe(i));return n};U.add=br;U.addAll=Ar;U.cover=Er;U.data=$r;U.extent=Pr;U.find=kr;U.findAllWithinRadius=Ir;U.remove=Rr;U.removeAll=Cr;U.root=Tr;U.size=Lr;U.visit=Fr;U.visitAfter=qr;U.x=Hr;U.y=Br;U.z=Vr;function ct(n,t){return n==null||t==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function Ur(n,t){return n==null||t==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function Ri(n){let t,e,i;n.length!==2?(t=ct,e=(l,u)=>ct(n(l),u),i=(l,u)=>n(l)-u):(t=n===ct||n===Ur?n:Gr,e=n,i=n);function r(l,u,f=0,c=l.length){if(f<c){if(t(u,u)!==0)return c;do{const a=f+c>>>1;e(l[a],u)<0?f=a+1:c=a}while(f<c)}return f}function o(l,u,f=0,c=l.length){if(f<c){if(t(u,u)!==0)return c;do{const a=f+c>>>1;e(l[a],u)<=0?f=a+1:c=a}while(f<c)}return f}function s(l,u,f=0,c=l.length){const a=r(l,u,f,c-1);return a>f&&i(l[a-1],u)>-i(l[a],u)?a-1:a}return{left:r,center:s,right:o}}function Gr(){return 0}function Kr(n){return n===null?NaN:+n}const Zr=Ri(ct),Ci=Zr.right;Ri(Kr).center;function Ti(n,t){let e,i;if(t===void 0)for(const r of n)r!=null&&(e===void 0?r>=r&&(e=i=r):(e>r&&(e=r),i<r&&(i=r)));else{let r=-1;for(let o of n)(o=t(o,++r,n))!=null&&(e===void 0?o>=o&&(e=i=o):(e>o&&(e=o),i<o&&(i=o)))}return[e,i]}class _n{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let i=0;for(let r=0;r<this._n&&r<32;r++){const o=e[r],s=t+o,l=Math.abs(t)<Math.abs(o)?t-(s-o):o-(s-t);l&&(e[i++]=l),t=s}return e[i]=t,this._n=i+1,this}valueOf(){const t=this._partials;let e=this._n,i,r,o,s=0;if(e>0){for(s=t[--e];e>0&&(i=s,r=t[--e],s=i+r,o=r-(s-i),!o););e>0&&(o<0&&t[e-1]<0||o>0&&t[e-1]>0)&&(r=o*2,i=s+r,r==i-s&&(s=i))}return s}}const Wr=Math.sqrt(50),jr=Math.sqrt(10),Qr=Math.sqrt(2);function dt(n,t,e){const i=(t-n)/Math.max(0,e),r=Math.floor(Math.log10(i)),o=i/Math.pow(10,r),s=o>=Wr?10:o>=jr?5:o>=Qr?2:1;let l,u,f;return r<0?(f=Math.pow(10,-r)/s,l=Math.round(n*f),u=Math.round(t*f),l/f<n&&++l,u/f>t&&--u,f=-f):(f=Math.pow(10,r)*s,l=Math.round(n/f),u=Math.round(t/f),l*f<n&&++l,u*f>t&&--u),u<l&&.5<=e&&e<2?dt(n,t,e*2):[l,u,f]}function Jr(n,t,e){if(t=+t,n=+n,e=+e,!(e>0))return[];if(n===t)return[n];const i=t<n,[r,o,s]=i?dt(t,n,e):dt(n,t,e);if(!(o>=r))return[];const l=o-r+1,u=new Array(l);if(i)if(s<0)for(let f=0;f<l;++f)u[f]=(o-f)/-s;else for(let f=0;f<l;++f)u[f]=(o-f)*s;else if(s<0)for(let f=0;f<l;++f)u[f]=(r+f)/-s;else for(let f=0;f<l;++f)u[f]=(r+f)*s;return u}function Gt(n,t,e){return t=+t,n=+n,e=+e,dt(n,t,e)[2]}function no(n,t,e){t=+t,n=+n,e=+e;const i=t<n,r=i?Gt(t,n,e):Gt(n,t,e);return(i?-1:1)*(r<0?1/-r:r)}function lf(n,t){let e;for(const i of n)i!=null&&(e<i||e===void 0&&i>=i)&&(e=i);return e}function uf(n,t){let e=0,i=0;if(t===void 0)for(let r of n)r!=null&&(r=+r)>=r&&(++e,i+=r);else{let r=-1;for(let o of n)(o=t(o,++r,n))!=null&&(o=+o)>=o&&(++e,i+=o)}if(e)return i/e}function*to(n){for(const t of n)yield*t}function Li(n){return Array.from(to(n))}function Rn(n,t,e){n=+n,t=+t,e=(r=arguments.length)<2?(t=n,n=0,1):r<3?1:+e;for(var i=-1,r=Math.max(0,Math.ceil((t-n)/e))|0,o=new Array(r);++i<r;)o[i]=n+i*e;return o}function ff(n,t){let e=0;for(let i of n)(i=+i)&&(e+=i);return e}function Fi(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n);break}return this}function ye(n,t,e){n.prototype=t.prototype=e,e.constructor=n}function qi(n,t){var e=Object.create(n.prototype);for(var i in t)e[i]=t[i];return e}function Wn(){}var Yn=.7,yt=1/Yn,Ln="\\s*([+-]?\\d+)\\s*",Un="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",gn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eo=/^#([0-9a-f]{3,8})$/,io=new RegExp(`^rgb\\(${Ln},${Ln},${Ln}\\)$`),ro=new RegExp(`^rgb\\(${gn},${gn},${gn}\\)$`),oo=new RegExp(`^rgba\\(${Ln},${Ln},${Ln},${Un}\\)$`),so=new RegExp(`^rgba\\(${gn},${gn},${gn},${Un}\\)$`),lo=new RegExp(`^hsl\\(${Un},${gn},${gn}\\)$`),uo=new RegExp(`^hsla\\(${Un},${gn},${gn},${Un}\\)$`),ke={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ye(Wn,Gn,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:ze,formatHex:ze,formatHex8:fo,formatHsl:ao,formatRgb:Ie,toString:Ie});function ze(){return this.rgb().formatHex()}function fo(){return this.rgb().formatHex8()}function ao(){return Di(this).formatHsl()}function Ie(){return this.rgb().formatRgb()}function Gn(n){var t,e;return n=(n+"").trim().toLowerCase(),(t=eo.exec(n))?(e=t[1].length,t=parseInt(t[1],16),e===6?Re(t):e===3?new nn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):e===8?nt(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):e===4?nt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=io.exec(n))?new nn(t[1],t[2],t[3],1):(t=ro.exec(n))?new nn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=oo.exec(n))?nt(t[1],t[2],t[3],t[4]):(t=so.exec(n))?nt(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=lo.exec(n))?Le(t[1],t[2]/100,t[3]/100,1):(t=uo.exec(n))?Le(t[1],t[2]/100,t[3]/100,t[4]):ke.hasOwnProperty(n)?Re(ke[n]):n==="transparent"?new nn(NaN,NaN,NaN,0):null}function Re(n){return new nn(n>>16&255,n>>8&255,n&255,1)}function nt(n,t,e,i){return i<=0&&(n=t=e=NaN),new nn(n,t,e,i)}function co(n){return n instanceof Wn||(n=Gn(n)),n?(n=n.rgb(),new nn(n.r,n.g,n.b,n.opacity)):new nn}function Kt(n,t,e,i){return arguments.length===1?co(n):new nn(n,t,e,i??1)}function nn(n,t,e,i){this.r=+n,this.g=+t,this.b=+e,this.opacity=+i}ye(nn,Kt,qi(Wn,{brighter(n){return n=n==null?yt:Math.pow(yt,n),new nn(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?Yn:Math.pow(Yn,n),new nn(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new nn($n(this.r),$n(this.g),$n(this.b),_t(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ce,formatHex:Ce,formatHex8:ho,formatRgb:Te,toString:Te}));function Ce(){return`#${An(this.r)}${An(this.g)}${An(this.b)}`}function ho(){return`#${An(this.r)}${An(this.g)}${An(this.b)}${An((isNaN(this.opacity)?1:this.opacity)*255)}`}function Te(){const n=_t(this.opacity);return`${n===1?"rgb(":"rgba("}${$n(this.r)}, ${$n(this.g)}, ${$n(this.b)}${n===1?")":`, ${n})`}`}function _t(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function $n(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function An(n){return n=$n(n),(n<16?"0":"")+n.toString(16)}function Le(n,t,e,i){return i<=0?n=t=e=NaN:e<=0||e>=1?n=t=NaN:t<=0&&(n=NaN),new cn(n,t,e,i)}function Di(n){if(n instanceof cn)return new cn(n.h,n.s,n.l,n.opacity);if(n instanceof Wn||(n=Gn(n)),!n)return new cn;if(n instanceof cn)return n;n=n.rgb();var t=n.r/255,e=n.g/255,i=n.b/255,r=Math.min(t,e,i),o=Math.max(t,e,i),s=NaN,l=o-r,u=(o+r)/2;return l?(t===o?s=(e-i)/l+(e<i)*6:e===o?s=(i-t)/l+2:s=(t-e)/l+4,l/=u<.5?o+r:2-o-r,s*=60):l=u>0&&u<1?0:s,new cn(s,l,u,n.opacity)}function go(n,t,e,i){return arguments.length===1?Di(n):new cn(n,t,e,i??1)}function cn(n,t,e,i){this.h=+n,this.s=+t,this.l=+e,this.opacity=+i}ye(cn,go,qi(Wn,{brighter(n){return n=n==null?yt:Math.pow(yt,n),new cn(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?Yn:Math.pow(Yn,n),new cn(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*t,r=2*e-i;return new nn(Ot(n>=240?n-240:n+120,r,i),Ot(n,r,i),Ot(n<120?n+240:n-120,r,i),this.opacity)},clamp(){return new cn(Fe(this.h),tt(this.s),tt(this.l),_t(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=_t(this.opacity);return`${n===1?"hsl(":"hsla("}${Fe(this.h)}, ${tt(this.s)*100}%, ${tt(this.l)*100}%${n===1?")":`, ${n})`}`}}));function Fe(n){return n=(n||0)%360,n<0?n+360:n}function tt(n){return Math.max(0,Math.min(1,n||0))}function Ot(n,t,e){return(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)*255}const _e=n=>()=>n;function po(n,t){return function(e){return n+e*t}}function yo(n,t,e){return n=Math.pow(n,e),t=Math.pow(t,e)-n,e=1/e,function(i){return Math.pow(n+i*t,e)}}function _o(n){return(n=+n)==1?Hi:function(t,e){return e-t?yo(t,e,n):_e(isNaN(t)?e:t)}}function Hi(n,t){var e=t-n;return e?po(n,e):_e(isNaN(n)?t:n)}const qe=function n(t){var e=_o(t);function i(r,o){var s=e((r=Kt(r)).r,(o=Kt(o)).r),l=e(r.g,o.g),u=e(r.b,o.b),f=Hi(r.opacity,o.opacity);return function(c){return r.r=s(c),r.g=l(c),r.b=u(c),r.opacity=f(c),r+""}}return i.gamma=n,i}(1);function Oi(n,t){t||(t=[]);var e=n?Math.min(t.length,n.length):0,i=t.slice(),r;return function(o){for(r=0;r<e;++r)i[r]=n[r]*(1-o)+t[r]*o;return i}}function Bi(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function af(n,t){return(Bi(t)?Oi:Xi)(n,t)}function Xi(n,t){var e=t?t.length:0,i=n?Math.min(e,n.length):0,r=new Array(i),o=new Array(e),s;for(s=0;s<i;++s)r[s]=ve(n[s],t[s]);for(;s<e;++s)o[s]=t[s];return function(l){for(s=0;s<i;++s)o[s]=r[s](l);return o}}function vo(n,t){var e=new Date;return n=+n,t=+t,function(i){return e.setTime(n*(1-i)+t*i),e}}function vt(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}function mo(n,t){var e={},i={},r;(n===null||typeof n!="object")&&(n={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in n?e[r]=ve(n[r],t[r]):i[r]=t[r];return function(o){for(r in e)i[r]=e[r](o);return i}}var Zt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Bt=new RegExp(Zt.source,"g");function wo(n){return function(){return n}}function xo(n){return function(t){return n(t)+""}}function Mo(n,t){var e=Zt.lastIndex=Bt.lastIndex=0,i,r,o,s=-1,l=[],u=[];for(n=n+"",t=t+"";(i=Zt.exec(n))&&(r=Bt.exec(t));)(o=r.index)>e&&(o=t.slice(e,o),l[s]?l[s]+=o:l[++s]=o),(i=i[0])===(r=r[0])?l[s]?l[s]+=r:l[++s]=r:(l[++s]=null,u.push({i:s,x:vt(i,r)})),e=Bt.lastIndex;return e<t.length&&(o=t.slice(e),l[s]?l[s]+=o:l[++s]=o),l.length<2?u[0]?xo(u[0].x):wo(t):(t=u.length,function(f){for(var c=0,a;c<t;++c)l[(a=u[c]).i]=a.x(f);return l.join("")})}function ve(n,t){var e=typeof t,i;return t==null||e==="boolean"?_e(t):(e==="number"?vt:e==="string"?(i=Gn(t))?(t=i,qe):Mo:t instanceof Gn?qe:t instanceof Date?vo:Bi(t)?Oi:Array.isArray(t)?Xi:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?mo:vt)(n,t)}function So(n,t){return n=+n,t=+t,function(e){return Math.round(n*(1-e)+t*e)}}function No(n){return function(){return n}}function bo(n){return+n}var De=[0,1];function Cn(n){return n}function Wt(n,t){return(t-=n=+n)?function(e){return(e-n)/t}:No(isNaN(t)?NaN:.5)}function Ao(n,t){var e;return n>t&&(e=n,n=t,t=e),function(i){return Math.max(n,Math.min(t,i))}}function Eo(n,t,e){var i=n[0],r=n[1],o=t[0],s=t[1];return r<i?(i=Wt(r,i),o=e(s,o)):(i=Wt(i,r),o=e(o,s)),function(l){return o(i(l))}}function $o(n,t,e){var i=Math.min(n.length,t.length)-1,r=new Array(i),o=new Array(i),s=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++s<i;)r[s]=Wt(n[s],n[s+1]),o[s]=e(t[s],t[s+1]);return function(l){var u=Ci(n,l,1,i)-1;return o[u](r[u](l))}}function Po(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function ko(){var n=De,t=De,e=ve,i,r,o,s=Cn,l,u,f;function c(){var h=Math.min(n.length,t.length);return s!==Cn&&(s=Ao(n[0],n[h-1])),l=h>2?$o:Eo,u=f=null,a}function a(h){return h==null||isNaN(h=+h)?o:(u||(u=l(n.map(i),t,e)))(i(s(h)))}return a.invert=function(h){return s(r((f||(f=l(t,n.map(i),vt)))(h)))},a.domain=function(h){return arguments.length?(n=Array.from(h,bo),c()):n.slice()},a.range=function(h){return arguments.length?(t=Array.from(h),c()):t.slice()},a.rangeRound=function(h){return t=Array.from(h),e=So,c()},a.clamp=function(h){return arguments.length?(s=h?!0:Cn,c()):s!==Cn},a.interpolate=function(h){return arguments.length?(e=h,c()):e},a.unknown=function(h){return arguments.length?(o=h,a):o},function(h,g){return i=h,r=g,c()}}function zo(){return ko()(Cn,Cn)}function Io(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function mt(n,t){if((e=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var e,i=n.slice(0,e);return[i.length>1?i[0]+i.slice(2):i,+n.slice(e+1)]}function qn(n){return n=mt(Math.abs(n)),n?n[1]:NaN}function Ro(n,t){return function(e,i){for(var r=e.length,o=[],s=0,l=n[0],u=0;r>0&&l>0&&(u+l+1>i&&(l=Math.max(1,i-u)),o.push(e.substring(r-=l,r+l)),!((u+=l+1)>i));)l=n[s=(s+1)%n.length];return o.reverse().join(t)}}function Co(n){return function(t){return t.replace(/[0-9]/g,function(e){return n[+e]})}}var To=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wt(n){if(!(t=To.exec(n)))throw new Error("invalid format: "+n);var t;return new me({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}wt.prototype=me.prototype;function me(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}me.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Lo(n){n:for(var t=n.length,e=1,i=-1,r;e<t;++e)switch(n[e]){case".":i=r=e;break;case"0":i===0&&(i=e),r=e;break;default:if(!+n[e])break n;i>0&&(i=0);break}return i>0?n.slice(0,i)+n.slice(r+1):n}var Vi;function Fo(n,t){var e=mt(n,t);if(!e)return n+"";var i=e[0],r=e[1],o=r-(Vi=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,s=i.length;return o===s?i:o>s?i+new Array(o-s+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+mt(n,Math.max(0,t+o-1))[0]}function He(n,t){var e=mt(n,t);if(!e)return n+"";var i=e[0],r=e[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const Oe={"%":(n,t)=>(n*100).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:Io,e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>He(n*100,t),r:He,s:Fo,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function Be(n){return n}var Xe=Array.prototype.map,Ve=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function qo(n){var t=n.grouping===void 0||n.thousands===void 0?Be:Ro(Xe.call(n.grouping,Number),n.thousands+""),e=n.currency===void 0?"":n.currency[0]+"",i=n.currency===void 0?"":n.currency[1]+"",r=n.decimal===void 0?".":n.decimal+"",o=n.numerals===void 0?Be:Co(Xe.call(n.numerals,String)),s=n.percent===void 0?"%":n.percent+"",l=n.minus===void 0?"−":n.minus+"",u=n.nan===void 0?"NaN":n.nan+"";function f(a){a=wt(a);var h=a.fill,g=a.align,p=a.sign,d=a.symbol,_=a.zero,y=a.width,m=a.comma,v=a.precision,S=a.trim,M=a.type;M==="n"?(m=!0,M="g"):Oe[M]||(v===void 0&&(v=12),S=!0,M="g"),(_||h==="0"&&g==="=")&&(_=!0,h="0",g="=");var b=d==="$"?e:d==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",E=d==="$"?i:/[%p]/.test(M)?s:"",P=Oe[M],N=/[defgprs%]/.test(M);v=v===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function $(w){var k=b,z=E,I,x,A;if(M==="c")z=P(w)+z,w="";else{w=+w;var T=w<0||1/w<0;if(w=isNaN(w)?u:P(Math.abs(w),v),S&&(w=Lo(w)),T&&+w==0&&p!=="+"&&(T=!1),k=(T?p==="("?p:l:p==="-"||p==="("?"":p)+k,z=(M==="s"?Ve[8+Vi/3]:"")+z+(T&&p==="("?")":""),N){for(I=-1,x=w.length;++I<x;)if(A=w.charCodeAt(I),48>A||A>57){z=(A===46?r+w.slice(I+1):w.slice(I))+z,w=w.slice(0,I);break}}}m&&!_&&(w=t(w,1/0));var D=k.length+w.length+z.length,F=D<y?new Array(y-D+1).join(h):"";switch(m&&_&&(w=t(F+w,F.length?y-z.length:1/0),F=""),g){case"<":w=k+w+z+F;break;case"=":w=k+F+w+z;break;case"^":w=F.slice(0,D=F.length>>1)+k+w+z+F.slice(D);break;default:w=F+k+w+z;break}return o(w)}return $.toString=function(){return a+""},$}function c(a,h){var g=f((a=wt(a),a.type="f",a)),p=Math.max(-8,Math.min(8,Math.floor(qn(h)/3)))*3,d=Math.pow(10,-p),_=Ve[8+p/3];return function(y){return g(d*y)+_}}return{format:f,formatPrefix:c}}var et,Yi,Ui;Do({thousands:",",grouping:[3],currency:["$",""]});function Do(n){return et=qo(n),Yi=et.format,Ui=et.formatPrefix,et}function Ho(n){return Math.max(0,-qn(Math.abs(n)))}function Oo(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qn(t)/3)))*3-qn(Math.abs(n)))}function Bo(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,qn(t)-qn(n))+1}function Xo(n,t,e,i){var r=no(n,t,e),o;switch(i=wt(i??",f"),i.type){case"s":{var s=Math.max(Math.abs(n),Math.abs(t));return i.precision==null&&!isNaN(o=Oo(r,s))&&(i.precision=o),Ui(i,s)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(o=Bo(r,Math.max(Math.abs(n),Math.abs(t))))&&(i.precision=o-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(o=Ho(r))&&(i.precision=o-(i.type==="%")*2);break}}return Yi(i)}function Gi(n){var t=n.domain;return n.ticks=function(e){var i=t();return Jr(i[0],i[i.length-1],e??10)},n.tickFormat=function(e,i){var r=t();return Xo(r[0],r[r.length-1],e??10,i)},n.nice=function(e){e==null&&(e=10);var i=t(),r=0,o=i.length-1,s=i[r],l=i[o],u,f,c=10;for(l<s&&(f=s,s=l,l=f,f=r,r=o,o=f);c-- >0;){if(f=Gt(s,l,e),f===u)return i[r]=s,i[o]=l,t(i);if(f>0)s=Math.floor(s/f)*f,l=Math.ceil(l/f)*f;else if(f<0)s=Math.ceil(s*f)/f,l=Math.floor(l*f)/f;else break;u=f}return n},n}function Vo(){var n=zo();return n.copy=function(){return Po(n,Vo())},Fi.apply(n,arguments),Gi(n)}function Yo(){var n=0,t=1,e=1,i=[.5],r=[0,1],o;function s(u){return u!=null&&u<=u?r[Ci(i,u,0,e)]:o}function l(){var u=-1;for(i=new Array(e);++u<e;)i[u]=((u+1)*t-(u-e)*n)/(e+1);return s}return s.domain=function(u){return arguments.length?([n,t]=u,n=+n,t=+t,l()):[n,t]},s.range=function(u){return arguments.length?(e=(r=Array.from(u)).length-1,l()):r.slice()},s.invertExtent=function(u){var f=r.indexOf(u);return f<0?[NaN,NaN]:f<1?[n,i[0]]:f>=e?[i[e-1],t]:[i[f-1],i[f]]},s.unknown=function(u){return arguments.length&&(o=u),s},s.thresholds=function(){return i.slice()},s.copy=function(){return Yo().domain([n,t]).range(r).unknown(o)},Fi.apply(Gi(s),arguments)}var q=1e-6,jt=1e-12,H=Math.PI,tn=H/2,xt=H/4,sn=H*2,Y=180/H,C=H/180,O=Math.abs,we=Math.atan,un=Math.atan2,L=Math.cos,it=Math.ceil,Uo=Math.exp,Qt=Math.hypot,Go=Math.log,R=Math.sin,Ko=Math.sign||function(n){return n>0?1:n<0?-1:0},mn=Math.sqrt,Zo=Math.tan;function Wo(n){return n>1?0:n<-1?H:Math.acos(n)}function wn(n){return n>1?tn:n<-1?-tn:Math.asin(n)}function Ye(n){return(n=R(n/2))*n}function K(){}function Mt(n,t){n&&Ge.hasOwnProperty(n.type)&&Ge[n.type](n,t)}var Ue={Feature:function(n,t){Mt(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,i=-1,r=e.length;++i<r;)Mt(e[i].geometry,t)}},Ge={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,i=-1,r=e.length;++i<r;)n=e[i],t.point(n[0],n[1],n[2])},LineString:function(n,t){Jt(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,i=-1,r=e.length;++i<r;)Jt(e[i],t,0)},Polygon:function(n,t){Ke(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,i=-1,r=e.length;++i<r;)Ke(e[i],t)},GeometryCollection:function(n,t){for(var e=n.geometries,i=-1,r=e.length;++i<r;)Mt(e[i],t)}};function Jt(n,t,e){var i=-1,r=n.length-e,o;for(t.lineStart();++i<r;)o=n[i],t.point(o[0],o[1],o[2]);t.lineEnd()}function Ke(n,t){var e=-1,i=n.length;for(t.polygonStart();++e<i;)Jt(n[e],t,1);t.polygonEnd()}function Ht(n,t){n&&Ue.hasOwnProperty(n.type)?Ue[n.type](n,t):Mt(n,t)}var St=new _n,Ze=new _n,Ki,Zi,ne,te,ee,xn={point:K,lineStart:K,lineEnd:K,polygonStart:function(){St=new _n,xn.lineStart=jo,xn.lineEnd=Qo},polygonEnd:function(){var n=+St;Ze.add(n<0?sn+n:n),this.lineStart=this.lineEnd=this.point=K},sphere:function(){Ze.add(sn)}};function jo(){xn.point=Jo}function Qo(){Wi(Ki,Zi)}function Jo(n,t){xn.point=Wi,Ki=n,Zi=t,n*=C,t*=C,ne=n,te=L(t=t/2+xt),ee=R(t)}function Wi(n,t){n*=C,t*=C,t=t/2+xt;var e=n-ne,i=e>=0?1:-1,r=i*e,o=L(t),s=R(t),l=ee*s,u=te*o+l*L(r),f=l*i*R(r);St.add(un(f,u)),ne=n,te=o,ee=s}function Nt(n){return[un(n[1],n[0]),wn(n[2])]}function Pn(n){var t=n[0],e=n[1],i=L(e);return[i*L(t),i*R(t),R(e)]}function rt(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function Dn(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Xt(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function ot(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function bt(n){var t=mn(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}var X,J,V,on,bn,ji,Qi,Fn,Vn,Sn,Mn,yn={point:ie,lineStart:We,lineEnd:je,polygonStart:function(){yn.point=nr,yn.lineStart=ns,yn.lineEnd=ts,Vn=new _n,xn.polygonStart()},polygonEnd:function(){xn.polygonEnd(),yn.point=ie,yn.lineStart=We,yn.lineEnd=je,St<0?(X=-(V=180),J=-(on=90)):Vn>q?on=90:Vn<-1e-6&&(J=-90),Mn[0]=X,Mn[1]=V},sphere:function(){X=-(V=180),J=-(on=90)}};function ie(n,t){Sn.push(Mn=[X=n,V=n]),t<J&&(J=t),t>on&&(on=t)}function Ji(n,t){var e=Pn([n*C,t*C]);if(Fn){var i=Dn(Fn,e),r=[i[1],-i[0],0],o=Dn(r,i);bt(o),o=Nt(o);var s=n-bn,l=s>0?1:-1,u=o[0]*Y*l,f,c=O(s)>180;c^(l*bn<u&&u<l*n)?(f=o[1]*Y,f>on&&(on=f)):(u=(u+360)%360-180,c^(l*bn<u&&u<l*n)?(f=-o[1]*Y,f<J&&(J=f)):(t<J&&(J=t),t>on&&(on=t))),c?n<bn?en(X,n)>en(X,V)&&(V=n):en(n,V)>en(X,V)&&(X=n):V>=X?(n<X&&(X=n),n>V&&(V=n)):n>bn?en(X,n)>en(X,V)&&(V=n):en(n,V)>en(X,V)&&(X=n)}else Sn.push(Mn=[X=n,V=n]);t<J&&(J=t),t>on&&(on=t),Fn=e,bn=n}function We(){yn.point=Ji}function je(){Mn[0]=X,Mn[1]=V,yn.point=ie,Fn=null}function nr(n,t){if(Fn){var e=n-bn;Vn.add(O(e)>180?e+(e>0?360:-360):e)}else ji=n,Qi=t;xn.point(n,t),Ji(n,t)}function ns(){xn.lineStart()}function ts(){nr(ji,Qi),xn.lineEnd(),O(Vn)>q&&(X=-(V=180)),Mn[0]=X,Mn[1]=V,Fn=null}function en(n,t){return(t-=n)<0?t+360:t}function es(n,t){return n[0]-t[0]}function Qe(n,t){return n[0]<=n[1]?n[0]<=t&&t<=n[1]:t<n[0]||n[1]<t}function cf(n){var t,e,i,r,o,s,l;if(on=V=-(X=J=1/0),Sn=[],Ht(n,yn),e=Sn.length){for(Sn.sort(es),t=1,i=Sn[0],o=[i];t<e;++t)r=Sn[t],Qe(i,r[0])||Qe(i,r[1])?(en(i[0],r[1])>en(i[0],i[1])&&(i[1]=r[1]),en(r[0],i[1])>en(i[0],i[1])&&(i[0]=r[0])):o.push(i=r);for(s=-1/0,e=o.length-1,t=0,i=o[e];t<=e;i=r,++t)r=o[t],(l=en(i[1],r[0]))>s&&(s=l,X=r[0],V=i[1])}return Sn=Mn=null,X===1/0||J===1/0?[[NaN,NaN],[NaN,NaN]]:[[X,J],[V,on]]}var Xn,At,Et,$t,Pt,kt,zt,It,re,oe,se,tr,er,W,j,Q,hn={sphere:K,point:xe,lineStart:Je,lineEnd:ni,polygonStart:function(){hn.lineStart=os,hn.lineEnd=ss},polygonEnd:function(){hn.lineStart=Je,hn.lineEnd=ni}};function xe(n,t){n*=C,t*=C;var e=L(t);jn(e*L(n),e*R(n),R(t))}function jn(n,t,e){++Xn,Et+=(n-Et)/Xn,$t+=(t-$t)/Xn,Pt+=(e-Pt)/Xn}function Je(){hn.point=is}function is(n,t){n*=C,t*=C;var e=L(t);W=e*L(n),j=e*R(n),Q=R(t),hn.point=rs,jn(W,j,Q)}function rs(n,t){n*=C,t*=C;var e=L(t),i=e*L(n),r=e*R(n),o=R(t),s=un(mn((s=j*o-Q*r)*s+(s=Q*i-W*o)*s+(s=W*r-j*i)*s),W*i+j*r+Q*o);At+=s,kt+=s*(W+(W=i)),zt+=s*(j+(j=r)),It+=s*(Q+(Q=o)),jn(W,j,Q)}function ni(){hn.point=xe}function os(){hn.point=ls}function ss(){ir(tr,er),hn.point=xe}function ls(n,t){tr=n,er=t,n*=C,t*=C,hn.point=ir;var e=L(t);W=e*L(n),j=e*R(n),Q=R(t),jn(W,j,Q)}function ir(n,t){n*=C,t*=C;var e=L(t),i=e*L(n),r=e*R(n),o=R(t),s=j*o-Q*r,l=Q*i-W*o,u=W*r-j*i,f=Qt(s,l,u),c=wn(f),a=f&&-c/f;re.add(a*s),oe.add(a*l),se.add(a*u),At+=c,kt+=c*(W+(W=i)),zt+=c*(j+(j=r)),It+=c*(Q+(Q=o)),jn(W,j,Q)}function ti(n){Xn=At=Et=$t=Pt=kt=zt=It=0,re=new _n,oe=new _n,se=new _n,Ht(n,hn);var t=+re,e=+oe,i=+se,r=Qt(t,e,i);return r<jt&&(t=kt,e=zt,i=It,At<q&&(t=Et,e=$t,i=Pt),r=Qt(t,e,i),r<jt)?[NaN,NaN]:[un(e,t)*Y,wn(i/r)*Y]}function le(n,t){function e(i,r){return i=n(i,r),t(i[0],i[1])}return n.invert&&t.invert&&(e.invert=function(i,r){return i=t.invert(i,r),i&&n.invert(i[0],i[1])}),e}function ue(n,t){return O(n)>H&&(n-=Math.round(n/sn)*sn),[n,t]}ue.invert=ue;function rr(n,t,e){return(n%=sn)?t||e?le(ii(n),ri(t,e)):ii(n):t||e?ri(t,e):ue}function ei(n){return function(t,e){return t+=n,O(t)>H&&(t-=Math.round(t/sn)*sn),[t,e]}}function ii(n){var t=ei(n);return t.invert=ei(-n),t}function ri(n,t){var e=L(n),i=R(n),r=L(t),o=R(t);function s(l,u){var f=L(u),c=L(l)*f,a=R(l)*f,h=R(u),g=h*e+c*i;return[un(a*r-g*o,c*e-h*i),wn(g*r+a*o)]}return s.invert=function(l,u){var f=L(u),c=L(l)*f,a=R(l)*f,h=R(u),g=h*r-a*o;return[un(a*r+h*o,c*e+g*i),wn(g*e-c*i)]},s}function us(n){n=rr(n[0]*C,n[1]*C,n.length>2?n[2]*C:0);function t(e){return e=n(e[0]*C,e[1]*C),e[0]*=Y,e[1]*=Y,e}return t.invert=function(e){return e=n.invert(e[0]*C,e[1]*C),e[0]*=Y,e[1]*=Y,e},t}function fs(n,t,e,i,r,o){if(e){var s=L(t),l=R(t),u=i*e;r==null?(r=t+i*sn,o=t-u/2):(r=oi(s,r),o=oi(s,o),(i>0?r<o:r>o)&&(r+=i*sn));for(var f,c=r;i>0?c>o:c<o;c-=u)f=Nt([s,-l*L(c),-l*R(c)]),n.point(f[0],f[1])}}function oi(n,t){t=Pn(t),t[0]-=n,bt(t);var e=Wo(-t[1]);return((-t[2]<0?-e:e)+sn-q)%sn}function or(){var n=[],t;return{point:function(e,i,r){t.push([e,i,r])},lineStart:function(){n.push(t=[])},lineEnd:K,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function ht(n,t){return O(n[0]-t[0])<q&&O(n[1]-t[1])<q}function st(n,t,e,i){this.x=n,this.z=t,this.o=e,this.e=i,this.v=!1,this.n=this.p=null}function sr(n,t,e,i,r){var o=[],s=[],l,u;if(n.forEach(function(p){if(!((d=p.length-1)<=0)){var d,_=p[0],y=p[d],m;if(ht(_,y)){if(!_[2]&&!y[2]){for(r.lineStart(),l=0;l<d;++l)r.point((_=p[l])[0],_[1]);r.lineEnd();return}y[0]+=2*q}o.push(m=new st(_,p,null,!0)),s.push(m.o=new st(_,null,m,!1)),o.push(m=new st(y,p,null,!1)),s.push(m.o=new st(y,null,m,!0))}}),!!o.length){for(s.sort(t),si(o),si(s),l=0,u=s.length;l<u;++l)s[l].e=e=!e;for(var f=o[0],c,a;;){for(var h=f,g=!0;h.v;)if((h=h.n)===f)return;c=h.z,r.lineStart();do{if(h.v=h.o.v=!0,h.e){if(g)for(l=0,u=c.length;l<u;++l)r.point((a=c[l])[0],a[1]);else i(h.x,h.n.x,1,r);h=h.n}else{if(g)for(c=h.p.z,l=c.length-1;l>=0;--l)r.point((a=c[l])[0],a[1]);else i(h.x,h.p.x,-1,r);h=h.p}h=h.o,c=h.z,g=!g}while(!h.v);r.lineEnd()}}}function si(n){if(t=n.length){for(var t,e=0,i=n[0],r;++e<t;)i.n=r=n[e],r.p=i,i=r;i.n=r=n[0],r.p=i}}function Vt(n){return O(n[0])<=H?n[0]:Ko(n[0])*((O(n[0])+H)%sn-H)}function lr(n,t){var e=Vt(t),i=t[1],r=R(i),o=[R(e),-L(e),0],s=0,l=0,u=new _n;r===1?i=tn+q:r===-1&&(i=-tn-q);for(var f=0,c=n.length;f<c;++f)if(h=(a=n[f]).length)for(var a,h,g=a[h-1],p=Vt(g),d=g[1]/2+xt,_=R(d),y=L(d),m=0;m<h;++m,p=S,_=b,y=E,g=v){var v=a[m],S=Vt(v),M=v[1]/2+xt,b=R(M),E=L(M),P=S-p,N=P>=0?1:-1,$=N*P,w=$>H,k=_*b;if(u.add(un(k*N*R($),y*E+k*L($))),s+=w?P+N*sn:P,w^p>=e^S>=e){var z=Dn(Pn(g),Pn(v));bt(z);var I=Dn(o,z);bt(I);var x=(w^P>=0?-1:1)*wn(I[2]);(i>x||i===x&&(z[0]||z[1]))&&(l+=w^P>=0?1:-1)}}return(s<-1e-6||s<q&&u<-1e-12)^l&1}function ur(n,t,e,i){return function(r){var o=t(r),s=or(),l=t(s),u=!1,f,c,a,h={point:g,lineStart:d,lineEnd:_,polygonStart:function(){h.point=y,h.lineStart=m,h.lineEnd=v,c=[],f=[]},polygonEnd:function(){h.point=g,h.lineStart=d,h.lineEnd=_,c=Li(c);var S=lr(f,i);c.length?(u||(r.polygonStart(),u=!0),sr(c,cs,S,e,r)):S&&(u||(r.polygonStart(),u=!0),r.lineStart(),e(null,null,1,r),r.lineEnd()),u&&(r.polygonEnd(),u=!1),c=f=null},sphere:function(){r.polygonStart(),r.lineStart(),e(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function g(S,M){n(S,M)&&r.point(S,M)}function p(S,M){o.point(S,M)}function d(){h.point=p,o.lineStart()}function _(){h.point=g,o.lineEnd()}function y(S,M){a.push([S,M]),l.point(S,M)}function m(){l.lineStart(),a=[]}function v(){y(a[0][0],a[0][1]),l.lineEnd();var S=l.clean(),M=s.result(),b,E=M.length,P,N,$;if(a.pop(),f.push(a),a=null,!!E){if(S&1){if(N=M[0],(P=N.length-1)>0){for(u||(r.polygonStart(),u=!0),r.lineStart(),b=0;b<P;++b)r.point(($=N[b])[0],$[1]);r.lineEnd()}return}E>1&&S&2&&M.push(M.pop().concat(M.shift())),c.push(M.filter(as))}}return h}}function as(n){return n.length>1}function cs(n,t){return((n=n.x)[0]<0?n[1]-tn-q:tn-n[1])-((t=t.x)[0]<0?t[1]-tn-q:tn-t[1])}const li=ur(function(){return!0},hs,ps,[-H,-tn]);function hs(n){var t=NaN,e=NaN,i=NaN,r;return{lineStart:function(){n.lineStart(),r=1},point:function(o,s){var l=o>0?H:-H,u=O(o-t);O(u-H)<q?(n.point(t,e=(e+s)/2>0?tn:-tn),n.point(i,e),n.lineEnd(),n.lineStart(),n.point(l,e),n.point(o,e),r=0):i!==l&&u>=H&&(O(t-i)<q&&(t-=i*q),O(o-l)<q&&(o-=l*q),e=gs(t,e,o,s),n.point(i,e),n.lineEnd(),n.lineStart(),n.point(l,e),r=0),n.point(t=o,e=s),i=l},lineEnd:function(){n.lineEnd(),t=e=NaN},clean:function(){return 2-r}}}function gs(n,t,e,i){var r,o,s=R(n-e);return O(s)>q?we((R(t)*(o=L(i))*R(e)-R(i)*(r=L(t))*R(n))/(r*o*s)):(t+i)/2}function ps(n,t,e,i){var r;if(n==null)r=e*tn,i.point(-H,r),i.point(0,r),i.point(H,r),i.point(H,0),i.point(H,-r),i.point(0,-r),i.point(-H,-r),i.point(-H,0),i.point(-H,r);else if(O(n[0]-t[0])>q){var o=n[0]<t[0]?H:-H;r=e*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(t[0],t[1])}function ds(n){var t=L(n),e=2*C,i=t>0,r=O(t)>q;function o(c,a,h,g){fs(g,n,e,h,c,a)}function s(c,a){return L(c)*L(a)>t}function l(c){var a,h,g,p,d;return{lineStart:function(){p=g=!1,d=1},point:function(_,y){var m=[_,y],v,S=s(_,y),M=i?S?0:f(_,y):S?f(_+(_<0?H:-H),y):0;if(!a&&(p=g=S)&&c.lineStart(),S!==g&&(v=u(a,m),(!v||ht(a,v)||ht(m,v))&&(m[2]=1)),S!==g)d=0,S?(c.lineStart(),v=u(m,a),c.point(v[0],v[1])):(v=u(a,m),c.point(v[0],v[1],2),c.lineEnd()),a=v;else if(r&&a&&i^S){var b;!(M&h)&&(b=u(m,a,!0))&&(d=0,i?(c.lineStart(),c.point(b[0][0],b[0][1]),c.point(b[1][0],b[1][1]),c.lineEnd()):(c.point(b[1][0],b[1][1]),c.lineEnd(),c.lineStart(),c.point(b[0][0],b[0][1],3)))}S&&(!a||!ht(a,m))&&c.point(m[0],m[1]),a=m,g=S,h=M},lineEnd:function(){g&&c.lineEnd(),a=null},clean:function(){return d|(p&&g)<<1}}}function u(c,a,h){var g=Pn(c),p=Pn(a),d=[1,0,0],_=Dn(g,p),y=rt(_,_),m=_[0],v=y-m*m;if(!v)return!h&&c;var S=t*y/v,M=-t*m/v,b=Dn(d,_),E=ot(d,S),P=ot(_,M);Xt(E,P);var N=b,$=rt(E,N),w=rt(N,N),k=$*$-w*(rt(E,E)-1);if(!(k<0)){var z=mn(k),I=ot(N,(-$-z)/w);if(Xt(I,E),I=Nt(I),!h)return I;var x=c[0],A=a[0],T=c[1],D=a[1],F;A<x&&(F=x,x=A,A=F);var ln=A-x,an=O(ln-H)<q,Nn=an||ln<q;if(!an&&D<T&&(F=T,T=D,D=F),Nn?an?T+D>0^I[1]<(O(I[0]-x)<q?T:D):T<=I[1]&&I[1]<=D:ln>H^(x<=I[0]&&I[0]<=A)){var dn=ot(N,(-$+z)/w);return Xt(dn,E),[I,Nt(dn)]}}}function f(c,a){var h=i?n:H-n,g=0;return c<-h?g|=1:c>h&&(g|=2),a<-h?g|=4:a>h&&(g|=8),g}return ur(s,l,o,i?[0,-n]:[-H,n-H])}function ys(n,t,e,i,r,o){var s=n[0],l=n[1],u=t[0],f=t[1],c=0,a=1,h=u-s,g=f-l,p;if(p=e-s,!(!h&&p>0)){if(p/=h,h<0){if(p<c)return;p<a&&(a=p)}else if(h>0){if(p>a)return;p>c&&(c=p)}if(p=r-s,!(!h&&p<0)){if(p/=h,h<0){if(p>a)return;p>c&&(c=p)}else if(h>0){if(p<c)return;p<a&&(a=p)}if(p=i-l,!(!g&&p>0)){if(p/=g,g<0){if(p<c)return;p<a&&(a=p)}else if(g>0){if(p>a)return;p>c&&(c=p)}if(p=o-l,!(!g&&p<0)){if(p/=g,g<0){if(p>a)return;p>c&&(c=p)}else if(g>0){if(p<c)return;p<a&&(a=p)}return c>0&&(n[0]=s+c*h,n[1]=l+c*g),a<1&&(t[0]=s+a*h,t[1]=l+a*g),!0}}}}}var lt=1e9,ut=-1e9;function _s(n,t,e,i){function r(f,c){return n<=f&&f<=e&&t<=c&&c<=i}function o(f,c,a,h){var g=0,p=0;if(f==null||(g=s(f,a))!==(p=s(c,a))||u(f,c)<0^a>0)do h.point(g===0||g===3?n:e,g>1?i:t);while((g=(g+a+4)%4)!==p);else h.point(c[0],c[1])}function s(f,c){return O(f[0]-n)<q?c>0?0:3:O(f[0]-e)<q?c>0?2:1:O(f[1]-t)<q?c>0?1:0:c>0?3:2}function l(f,c){return u(f.x,c.x)}function u(f,c){var a=s(f,1),h=s(c,1);return a!==h?a-h:a===0?c[1]-f[1]:a===1?f[0]-c[0]:a===2?f[1]-c[1]:c[0]-f[0]}return function(f){var c=f,a=or(),h,g,p,d,_,y,m,v,S,M,b,E={point:P,lineStart:k,lineEnd:z,polygonStart:$,polygonEnd:w};function P(x,A){r(x,A)&&c.point(x,A)}function N(){for(var x=0,A=0,T=g.length;A<T;++A)for(var D=g[A],F=1,ln=D.length,an=D[0],Nn,dn,Jn=an[0],kn=an[1];F<ln;++F)Nn=Jn,dn=kn,an=D[F],Jn=an[0],kn=an[1],dn<=i?kn>i&&(Jn-Nn)*(i-dn)>(kn-dn)*(n-Nn)&&++x:kn<=i&&(Jn-Nn)*(i-dn)<(kn-dn)*(n-Nn)&&--x;return x}function $(){c=a,h=[],g=[],b=!0}function w(){var x=N(),A=b&&x,T=(h=Li(h)).length;(A||T)&&(f.polygonStart(),A&&(f.lineStart(),o(null,null,1,f),f.lineEnd()),T&&sr(h,l,x,o,f),f.polygonEnd()),c=f,h=g=p=null}function k(){E.point=I,g&&g.push(p=[]),M=!0,S=!1,m=v=NaN}function z(){h&&(I(d,_),y&&S&&a.rejoin(),h.push(a.result())),E.point=P,S&&c.lineEnd()}function I(x,A){var T=r(x,A);if(g&&p.push([x,A]),M)d=x,_=A,y=T,M=!1,T&&(c.lineStart(),c.point(x,A));else if(T&&S)c.point(x,A);else{var D=[m=Math.max(ut,Math.min(lt,m)),v=Math.max(ut,Math.min(lt,v))],F=[x=Math.max(ut,Math.min(lt,x)),A=Math.max(ut,Math.min(lt,A))];ys(D,F,n,t,e,i)?(S||(c.lineStart(),c.point(D[0],D[1])),c.point(F[0],F[1]),T||c.lineEnd(),b=!1):T&&(c.lineStart(),c.point(x,A),b=!1)}m=x,v=A,S=T}return E}}var fe,ae,gt,pt,Hn={sphere:K,point:K,lineStart:vs,lineEnd:K,polygonStart:K,polygonEnd:K};function vs(){Hn.point=ws,Hn.lineEnd=ms}function ms(){Hn.point=Hn.lineEnd=K}function ws(n,t){n*=C,t*=C,ae=n,gt=R(t),pt=L(t),Hn.point=xs}function xs(n,t){n*=C,t*=C;var e=R(t),i=L(t),r=O(n-ae),o=L(r),s=R(r),l=i*s,u=pt*e-gt*i*o,f=gt*e+pt*i*o;fe.add(un(mn(l*l+u*u),f)),ae=n,gt=e,pt=i}function Ms(n){return fe=new _n,Ht(n,Hn),+fe}var ce=[null,null],Ss={type:"LineString",coordinates:ce};function Kn(n,t){return ce[0]=n,ce[1]=t,Ms(Ss)}var ui={Feature:function(n,t){return Rt(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,i=-1,r=e.length;++i<r;)if(Rt(e[i].geometry,t))return!0;return!1}},fi={Sphere:function(){return!0},Point:function(n,t){return ai(n.coordinates,t)},MultiPoint:function(n,t){for(var e=n.coordinates,i=-1,r=e.length;++i<r;)if(ai(e[i],t))return!0;return!1},LineString:function(n,t){return ci(n.coordinates,t)},MultiLineString:function(n,t){for(var e=n.coordinates,i=-1,r=e.length;++i<r;)if(ci(e[i],t))return!0;return!1},Polygon:function(n,t){return hi(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,i=-1,r=e.length;++i<r;)if(hi(e[i],t))return!0;return!1},GeometryCollection:function(n,t){for(var e=n.geometries,i=-1,r=e.length;++i<r;)if(Rt(e[i],t))return!0;return!1}};function Rt(n,t){return n&&fi.hasOwnProperty(n.type)?fi[n.type](n,t):!1}function ai(n,t){return Kn(n,t)===0}function ci(n,t){for(var e,i,r,o=0,s=n.length;o<s;o++){if(i=Kn(n[o],t),i===0||o>0&&(r=Kn(n[o],n[o-1]),r>0&&e<=r&&i<=r&&(e+i-r)*(1-Math.pow((e-i)/r,2))<jt*r))return!0;e=i}return!1}function hi(n,t){return!!lr(n.map(Ns),fr(t))}function Ns(n){return n=n.map(fr),n.pop(),n}function fr(n){return[n[0]*C,n[1]*C]}function hf(n,t){return(n&&ui.hasOwnProperty(n.type)?ui[n.type]:Rt)(n,t)}function gi(n,t,e){var i=Rn(n,t-q,e).concat(t);return function(r){return i.map(function(o){return[r,o]})}}function pi(n,t,e){var i=Rn(n,t-q,e).concat(t);return function(r){return i.map(function(o){return[o,r]})}}function bs(){var n,t,e,i,r,o,s,l,u=10,f=u,c=90,a=360,h,g,p,d,_=2.5;function y(){return{type:"MultiLineString",coordinates:m()}}function m(){return Rn(it(i/c)*c,e,c).map(p).concat(Rn(it(l/a)*a,s,a).map(d)).concat(Rn(it(t/u)*u,n,u).filter(function(v){return O(v%c)>q}).map(h)).concat(Rn(it(o/f)*f,r,f).filter(function(v){return O(v%a)>q}).map(g))}return y.lines=function(){return m().map(function(v){return{type:"LineString",coordinates:v}})},y.outline=function(){return{type:"Polygon",coordinates:[p(i).concat(d(s).slice(1),p(e).reverse().slice(1),d(l).reverse().slice(1))]}},y.extent=function(v){return arguments.length?y.extentMajor(v).extentMinor(v):y.extentMinor()},y.extentMajor=function(v){return arguments.length?(i=+v[0][0],e=+v[1][0],l=+v[0][1],s=+v[1][1],i>e&&(v=i,i=e,e=v),l>s&&(v=l,l=s,s=v),y.precision(_)):[[i,l],[e,s]]},y.extentMinor=function(v){return arguments.length?(t=+v[0][0],n=+v[1][0],o=+v[0][1],r=+v[1][1],t>n&&(v=t,t=n,n=v),o>r&&(v=o,o=r,r=v),y.precision(_)):[[t,o],[n,r]]},y.step=function(v){return arguments.length?y.stepMajor(v).stepMinor(v):y.stepMinor()},y.stepMajor=function(v){return arguments.length?(c=+v[0],a=+v[1],y):[c,a]},y.stepMinor=function(v){return arguments.length?(u=+v[0],f=+v[1],y):[u,f]},y.precision=function(v){return arguments.length?(_=+v,h=gi(o,r,90),g=pi(t,n,_),p=gi(l,s,90),d=pi(i,e,_),y):_},y.extentMajor([[-180,-90+q],[180,90-q]]).extentMinor([[-180,-80-q],[180,80+q]])}function gf(){return bs()()}function pf(n,t){var e=n[0]*C,i=n[1]*C,r=t[0]*C,o=t[1]*C,s=L(i),l=R(i),u=L(o),f=R(o),c=s*L(e),a=s*R(e),h=u*L(r),g=u*R(r),p=2*wn(mn(Ye(o-i)+s*u*Ye(r-e))),d=R(p),_=p?function(y){var m=R(y*=p)/d,v=R(p-y)/d,S=v*c+m*h,M=v*a+m*g,b=v*l+m*f;return[un(M,S)*Y,un(b,mn(S*S+M*M))*Y]}:function(){return[e*Y,i*Y]};return _.distance=p,_}const di=n=>n;var On=1/0,Ct=On,Zn=-On,Tt=Zn,yi={point:As,lineStart:K,lineEnd:K,polygonStart:K,polygonEnd:K,result:function(){var n=[[On,Ct],[Zn,Tt]];return Zn=Tt=-(Ct=On=1/0),n}};function As(n,t){n<On&&(On=n),n>Zn&&(Zn=n),t<Ct&&(Ct=t),t>Tt&&(Tt=t)}function Me(n){return function(t){var e=new he;for(var i in n)e[i]=n[i];return e.stream=t,e}}function he(){}he.prototype={constructor:he,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Se(n,t,e){var i=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),i!=null&&n.clipExtent(null),Ht(e,n.stream(yi)),t(yi.result()),i!=null&&n.clipExtent(i),n}function ar(n,t,e){return Se(n,function(i){var r=t[1][0]-t[0][0],o=t[1][1]-t[0][1],s=Math.min(r/(i[1][0]-i[0][0]),o/(i[1][1]-i[0][1])),l=+t[0][0]+(r-s*(i[1][0]+i[0][0]))/2,u=+t[0][1]+(o-s*(i[1][1]+i[0][1]))/2;n.scale(150*s).translate([l,u])},e)}function Es(n,t,e){return ar(n,[[0,0],t],e)}function $s(n,t,e){return Se(n,function(i){var r=+t,o=r/(i[1][0]-i[0][0]),s=(r-o*(i[1][0]+i[0][0]))/2,l=-o*i[0][1];n.scale(150*o).translate([s,l])},e)}function Ps(n,t,e){return Se(n,function(i){var r=+t,o=r/(i[1][1]-i[0][1]),s=-o*i[0][0],l=(r-o*(i[1][1]+i[0][1]))/2;n.scale(150*o).translate([s,l])},e)}var _i=16,ks=L(30*C);function vi(n,t){return+t?Is(n,t):zs(n)}function zs(n){return Me({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}})}function Is(n,t){function e(i,r,o,s,l,u,f,c,a,h,g,p,d,_){var y=f-i,m=c-r,v=y*y+m*m;if(v>4*t&&d--){var S=s+h,M=l+g,b=u+p,E=mn(S*S+M*M+b*b),P=wn(b/=E),N=O(O(b)-1)<q||O(o-a)<q?(o+a)/2:un(M,S),$=n(N,P),w=$[0],k=$[1],z=w-i,I=k-r,x=m*z-y*I;(x*x/v>t||O((y*z+m*I)/v-.5)>.3||s*h+l*g+u*p<ks)&&(e(i,r,o,s,l,u,w,k,N,S/=E,M/=E,b,d,_),_.point(w,k),e(w,k,N,S,M,b,f,c,a,h,g,p,d,_))}}return function(i){var r,o,s,l,u,f,c,a,h,g,p,d,_={point:y,lineStart:m,lineEnd:S,polygonStart:function(){i.polygonStart(),_.lineStart=M},polygonEnd:function(){i.polygonEnd(),_.lineStart=m}};function y(P,N){P=n(P,N),i.point(P[0],P[1])}function m(){a=NaN,_.point=v,i.lineStart()}function v(P,N){var $=Pn([P,N]),w=n(P,N);e(a,h,c,g,p,d,a=w[0],h=w[1],c=P,g=$[0],p=$[1],d=$[2],_i,i),i.point(a,h)}function S(){_.point=y,i.lineEnd()}function M(){m(),_.point=b,_.lineEnd=E}function b(P,N){v(r=P,N),o=a,s=h,l=g,u=p,f=d,_.point=v}function E(){e(a,h,c,g,p,d,o,s,r,l,u,f,_i,i),_.lineEnd=S,S()}return _}}var Rs=Me({point:function(n,t){this.stream.point(n*C,t*C)}});function Cs(n){return Me({point:function(t,e){var i=n(t,e);return this.stream.point(i[0],i[1])}})}function Ts(n,t,e,i,r){function o(s,l){return s*=i,l*=r,[t+n*s,e-n*l]}return o.invert=function(s,l){return[(s-t)/n*i,(e-l)/n*r]},o}function mi(n,t,e,i,r,o){if(!o)return Ts(n,t,e,i,r);var s=L(o),l=R(o),u=s*n,f=l*n,c=s/n,a=l/n,h=(l*e-s*t)/n,g=(l*t+s*e)/n;function p(d,_){return d*=i,_*=r,[u*d-f*_+t,e-f*d-u*_]}return p.invert=function(d,_){return[i*(c*d-a*_+h),r*(g-a*d-c*_)]},p}function Ls(n){return Fs(function(){return n})()}function Fs(n){var t,e=150,i=480,r=250,o=0,s=0,l=0,u=0,f=0,c,a=0,h=1,g=1,p=null,d=li,_=null,y,m,v,S=di,M=.5,b,E,P,N,$;function w(x){return P(x[0]*C,x[1]*C)}function k(x){return x=P.invert(x[0],x[1]),x&&[x[0]*Y,x[1]*Y]}w.stream=function(x){return N&&$===x?N:N=Rs(Cs(c)(d(b(S($=x)))))},w.preclip=function(x){return arguments.length?(d=x,p=void 0,I()):d},w.postclip=function(x){return arguments.length?(S=x,_=y=m=v=null,I()):S},w.clipAngle=function(x){return arguments.length?(d=+x?ds(p=x*C):(p=null,li),I()):p*Y},w.clipExtent=function(x){return arguments.length?(S=x==null?(_=y=m=v=null,di):_s(_=+x[0][0],y=+x[0][1],m=+x[1][0],v=+x[1][1]),I()):_==null?null:[[_,y],[m,v]]},w.scale=function(x){return arguments.length?(e=+x,z()):e},w.translate=function(x){return arguments.length?(i=+x[0],r=+x[1],z()):[i,r]},w.center=function(x){return arguments.length?(o=x[0]%360*C,s=x[1]%360*C,z()):[o*Y,s*Y]},w.rotate=function(x){return arguments.length?(l=x[0]%360*C,u=x[1]%360*C,f=x.length>2?x[2]%360*C:0,z()):[l*Y,u*Y,f*Y]},w.angle=function(x){return arguments.length?(a=x%360*C,z()):a*Y},w.reflectX=function(x){return arguments.length?(h=x?-1:1,z()):h<0},w.reflectY=function(x){return arguments.length?(g=x?-1:1,z()):g<0},w.precision=function(x){return arguments.length?(b=vi(E,M=x*x),I()):mn(M)},w.fitExtent=function(x,A){return ar(w,x,A)},w.fitSize=function(x,A){return Es(w,x,A)},w.fitWidth=function(x,A){return $s(w,x,A)},w.fitHeight=function(x,A){return Ps(w,x,A)};function z(){var x=mi(e,0,0,h,g,a).apply(null,t(o,s)),A=mi(e,i-x[0],r-x[1],h,g,a);return c=rr(l,u,f),E=le(t,A),P=le(c,E),b=vi(E,M),I()}function I(){return N=$=null,w}return function(){return t=n.apply(this,arguments),w.invert=t.invert&&k,z()}}function qs(n){return function(t,e){var i=mn(t*t+e*e),r=n(i),o=R(r),s=L(r);return[un(t*o,i*s),wn(i&&e*o/i)]}}function Ds(n,t){return[n,Go(Zo((tn+t)/2))]}Ds.invert=function(n,t){return[n,2*we(Uo(t))-tn]};function cr(n,t){var e=L(t),i=1+L(n)*e;return[e*R(n)/i,R(t)/i]}cr.invert=qs(function(n){return 2*we(n)});function Hs(){return Ls(cr).scale(250).clipAngle(142)}const vn=11102230246251565e-32,G=134217729,Os=(3+8*vn)*vn;function Yt(n,t,e,i,r){let o,s,l,u,f=t[0],c=i[0],a=0,h=0;c>f==c>-f?(o=f,f=t[++a]):(o=c,c=i[++h]);let g=0;if(a<n&&h<e)for(c>f==c>-f?(s=f+o,l=o-(s-f),f=t[++a]):(s=c+o,l=o-(s-c),c=i[++h]),o=s,l!==0&&(r[g++]=l);a<n&&h<e;)c>f==c>-f?(s=o+f,u=s-o,l=o-(s-u)+(f-u),f=t[++a]):(s=o+c,u=s-o,l=o-(s-u)+(c-u),c=i[++h]),o=s,l!==0&&(r[g++]=l);for(;a<n;)s=o+f,u=s-o,l=o-(s-u)+(f-u),f=t[++a],o=s,l!==0&&(r[g++]=l);for(;h<e;)s=o+c,u=s-o,l=o-(s-u)+(c-u),c=i[++h],o=s,l!==0&&(r[g++]=l);return(o!==0||g===0)&&(r[g++]=o),g}function Bs(n,t){let e=t[0];for(let i=1;i<n;i++)e+=t[i];return e}function Qn(n){return new Float64Array(n)}const Xs=(3+16*vn)*vn,Vs=(2+12*vn)*vn,Ys=(9+64*vn)*vn*vn,zn=Qn(4),wi=Qn(8),xi=Qn(12),Mi=Qn(16),Z=Qn(4);function Us(n,t,e,i,r,o,s){let l,u,f,c,a,h,g,p,d,_,y,m,v,S,M,b,E,P;const N=n-r,$=e-r,w=t-o,k=i-o;S=N*k,h=G*N,g=h-(h-N),p=N-g,h=G*k,d=h-(h-k),_=k-d,M=p*_-(S-g*d-p*d-g*_),b=w*$,h=G*w,g=h-(h-w),p=w-g,h=G*$,d=h-(h-$),_=$-d,E=p*_-(b-g*d-p*d-g*_),y=M-E,a=M-y,zn[0]=M-(y+a)+(a-E),m=S+y,a=m-S,v=S-(m-a)+(y-a),y=v-b,a=v-y,zn[1]=v-(y+a)+(a-b),P=m+y,a=P-m,zn[2]=m-(P-a)+(y-a),zn[3]=P;let z=Bs(4,zn),I=Vs*s;if(z>=I||-z>=I||(a=n-N,l=n-(N+a)+(a-r),a=e-$,f=e-($+a)+(a-r),a=t-w,u=t-(w+a)+(a-o),a=i-k,c=i-(k+a)+(a-o),l===0&&u===0&&f===0&&c===0)||(I=Ys*s+Os*Math.abs(z),z+=N*c+k*l-(w*f+$*u),z>=I||-z>=I))return z;S=l*k,h=G*l,g=h-(h-l),p=l-g,h=G*k,d=h-(h-k),_=k-d,M=p*_-(S-g*d-p*d-g*_),b=u*$,h=G*u,g=h-(h-u),p=u-g,h=G*$,d=h-(h-$),_=$-d,E=p*_-(b-g*d-p*d-g*_),y=M-E,a=M-y,Z[0]=M-(y+a)+(a-E),m=S+y,a=m-S,v=S-(m-a)+(y-a),y=v-b,a=v-y,Z[1]=v-(y+a)+(a-b),P=m+y,a=P-m,Z[2]=m-(P-a)+(y-a),Z[3]=P;const x=Yt(4,zn,4,Z,wi);S=N*c,h=G*N,g=h-(h-N),p=N-g,h=G*c,d=h-(h-c),_=c-d,M=p*_-(S-g*d-p*d-g*_),b=w*f,h=G*w,g=h-(h-w),p=w-g,h=G*f,d=h-(h-f),_=f-d,E=p*_-(b-g*d-p*d-g*_),y=M-E,a=M-y,Z[0]=M-(y+a)+(a-E),m=S+y,a=m-S,v=S-(m-a)+(y-a),y=v-b,a=v-y,Z[1]=v-(y+a)+(a-b),P=m+y,a=P-m,Z[2]=m-(P-a)+(y-a),Z[3]=P;const A=Yt(x,wi,4,Z,xi);S=l*c,h=G*l,g=h-(h-l),p=l-g,h=G*c,d=h-(h-c),_=c-d,M=p*_-(S-g*d-p*d-g*_),b=u*f,h=G*u,g=h-(h-u),p=u-g,h=G*f,d=h-(h-f),_=f-d,E=p*_-(b-g*d-p*d-g*_),y=M-E,a=M-y,Z[0]=M-(y+a)+(a-E),m=S+y,a=m-S,v=S-(m-a)+(y-a),y=v-b,a=v-y,Z[1]=v-(y+a)+(a-b),P=m+y,a=P-m,Z[2]=m-(P-a)+(y-a),Z[3]=P;const T=Yt(A,xi,4,Z,Mi);return Mi[T-1]}function ft(n,t,e,i,r,o){const s=(t-o)*(e-r),l=(n-r)*(i-o),u=s-l,f=Math.abs(s+l);return Math.abs(u)>=Xs*f?u:-Us(n,t,e,i,r,o,f)}const Si=Math.pow(2,-52),at=new Uint32Array(512);class Lt{static from(t,e=js,i=Qs){const r=t.length,o=new Float64Array(r*2);for(let s=0;s<r;s++){const l=t[s];o[2*s]=e(l),o[2*s+1]=i(l)}return new Lt(o)}constructor(t){const e=t.length>>1;if(e>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const i=Math.max(2*e-5,0);this._triangles=new Uint32Array(i*3),this._halfedges=new Int32Array(i*3),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}update(){const{coords:t,_hullPrev:e,_hullNext:i,_hullTri:r,_hullHash:o}=this,s=t.length>>1;let l=1/0,u=1/0,f=-1/0,c=-1/0;for(let N=0;N<s;N++){const $=t[2*N],w=t[2*N+1];$<l&&(l=$),w<u&&(u=w),$>f&&(f=$),w>c&&(c=w),this._ids[N]=N}const a=(l+f)/2,h=(u+c)/2;let g,p,d;for(let N=0,$=1/0;N<s;N++){const w=Ut(a,h,t[2*N],t[2*N+1]);w<$&&(g=N,$=w)}const _=t[2*g],y=t[2*g+1];for(let N=0,$=1/0;N<s;N++){if(N===g)continue;const w=Ut(_,y,t[2*N],t[2*N+1]);w<$&&w>0&&(p=N,$=w)}let m=t[2*p],v=t[2*p+1],S=1/0;for(let N=0;N<s;N++){if(N===g||N===p)continue;const $=Zs(_,y,m,v,t[2*N],t[2*N+1]);$<S&&(d=N,S=$)}let M=t[2*d],b=t[2*d+1];if(S===1/0){for(let w=0;w<s;w++)this._dists[w]=t[2*w]-t[0]||t[2*w+1]-t[1];Tn(this._ids,this._dists,0,s-1);const N=new Uint32Array(s);let $=0;for(let w=0,k=-1/0;w<s;w++){const z=this._ids[w],I=this._dists[z];I>k&&(N[$++]=z,k=I)}this.hull=N.subarray(0,$),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(ft(_,y,m,v,M,b)<0){const N=p,$=m,w=v;p=d,m=M,v=b,d=N,M=$,b=w}const E=Ws(_,y,m,v,M,b);this._cx=E.x,this._cy=E.y;for(let N=0;N<s;N++)this._dists[N]=Ut(t[2*N],t[2*N+1],E.x,E.y);Tn(this._ids,this._dists,0,s-1),this._hullStart=g;let P=3;i[g]=e[d]=p,i[p]=e[g]=d,i[d]=e[p]=g,r[g]=0,r[p]=1,r[d]=2,o.fill(-1),o[this._hashKey(_,y)]=g,o[this._hashKey(m,v)]=p,o[this._hashKey(M,b)]=d,this.trianglesLen=0,this._addTriangle(g,p,d,-1,-1,-1);for(let N=0,$,w;N<this._ids.length;N++){const k=this._ids[N],z=t[2*k],I=t[2*k+1];if(N>0&&Math.abs(z-$)<=Si&&Math.abs(I-w)<=Si||($=z,w=I,k===g||k===p||k===d))continue;let x=0;for(let ln=0,an=this._hashKey(z,I);ln<this._hashSize&&(x=o[(an+ln)%this._hashSize],!(x!==-1&&x!==i[x]));ln++);x=e[x];let A=x,T;for(;T=i[A],ft(z,I,t[2*A],t[2*A+1],t[2*T],t[2*T+1])>=0;)if(A=T,A===x){A=-1;break}if(A===-1)continue;let D=this._addTriangle(A,k,i[A],-1,-1,r[A]);r[k]=this._legalize(D+2),r[A]=D,P++;let F=i[A];for(;T=i[F],ft(z,I,t[2*F],t[2*F+1],t[2*T],t[2*T+1])<0;)D=this._addTriangle(F,k,T,r[k],-1,r[F]),r[k]=this._legalize(D+2),i[F]=F,P--,F=T;if(A===x)for(;T=e[A],ft(z,I,t[2*T],t[2*T+1],t[2*A],t[2*A+1])<0;)D=this._addTriangle(T,k,A,-1,r[A],r[T]),this._legalize(D+2),r[T]=D,i[A]=A,P--,A=T;this._hullStart=e[k]=A,i[A]=e[F]=k,i[k]=F,o[this._hashKey(z,I)]=k,o[this._hashKey(t[2*A],t[2*A+1])]=A}this.hull=new Uint32Array(P);for(let N=0,$=this._hullStart;N<P;N++)this.hull[N]=$,$=i[$];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,e){return Math.floor(Gs(t-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:e,_halfedges:i,coords:r}=this;let o=0,s=0;for(;;){const l=i[t],u=t-t%3;if(s=u+(t+2)%3,l===-1){if(o===0)break;t=at[--o];continue}const f=l-l%3,c=u+(t+1)%3,a=f+(l+2)%3,h=e[s],g=e[t],p=e[c],d=e[a];if(Ks(r[2*h],r[2*h+1],r[2*g],r[2*g+1],r[2*p],r[2*p+1],r[2*d],r[2*d+1])){e[t]=d,e[l]=h;const y=i[a];if(y===-1){let v=this._hullStart;do{if(this._hullTri[v]===a){this._hullTri[v]=t;break}v=this._hullPrev[v]}while(v!==this._hullStart)}this._link(t,y),this._link(l,i[s]),this._link(s,a);const m=f+(l+1)%3;o<at.length&&(at[o++]=m)}else{if(o===0)break;t=at[--o]}}return s}_link(t,e){this._halfedges[t]=e,e!==-1&&(this._halfedges[e]=t)}_addTriangle(t,e,i,r,o,s){const l=this.trianglesLen;return this._triangles[l]=t,this._triangles[l+1]=e,this._triangles[l+2]=i,this._link(l,r),this._link(l+1,o),this._link(l+2,s),this.trianglesLen+=3,l}}function Gs(n,t){const e=n/(Math.abs(n)+Math.abs(t));return(t>0?3-e:1+e)/4}function Ut(n,t,e,i){const r=n-e,o=t-i;return r*r+o*o}function Ks(n,t,e,i,r,o,s,l){const u=n-s,f=t-l,c=e-s,a=i-l,h=r-s,g=o-l,p=u*u+f*f,d=c*c+a*a,_=h*h+g*g;return u*(a*_-d*g)-f*(c*_-d*h)+p*(c*g-a*h)<0}function Zs(n,t,e,i,r,o){const s=e-n,l=i-t,u=r-n,f=o-t,c=s*s+l*l,a=u*u+f*f,h=.5/(s*f-l*u),g=(f*c-l*a)*h,p=(s*a-u*c)*h;return g*g+p*p}function Ws(n,t,e,i,r,o){const s=e-n,l=i-t,u=r-n,f=o-t,c=s*s+l*l,a=u*u+f*f,h=.5/(s*f-l*u),g=n+(f*c-l*a)*h,p=t+(s*a-u*c)*h;return{x:g,y:p}}function Tn(n,t,e,i){if(i-e<=20)for(let r=e+1;r<=i;r++){const o=n[r],s=t[o];let l=r-1;for(;l>=e&&t[n[l]]>s;)n[l+1]=n[l--];n[l+1]=o}else{const r=e+i>>1;let o=e+1,s=i;Bn(n,r,o),t[n[e]]>t[n[i]]&&Bn(n,e,i),t[n[o]]>t[n[i]]&&Bn(n,o,i),t[n[e]]>t[n[o]]&&Bn(n,e,o);const l=n[o],u=t[l];for(;;){do o++;while(t[n[o]]<u);do s--;while(t[n[s]]>u);if(s<o)break;Bn(n,o,s)}n[e+1]=n[s],n[s]=l,i-o+1>=s-e?(Tn(n,t,o,i),Tn(n,t,e,s-1)):(Tn(n,t,e,s-1),Tn(n,t,o,i))}}function Bn(n,t,e){const i=n[t];n[t]=n[e],n[e]=i}function js(n){return n[0]}function Qs(n){return n[1]}const Ni=1e-6;class En{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,e){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,e){this._+=`L${this._x1=+t},${this._y1=+e}`}arc(t,e,i){t=+t,e=+e,i=+i;const r=t+i,o=e;if(i<0)throw new Error("negative radius");this._x1===null?this._+=`M${r},${o}`:(Math.abs(this._x1-r)>Ni||Math.abs(this._y1-o)>Ni)&&(this._+="L"+r+","+o),i&&(this._+=`A${i},${i},0,1,1,${t-i},${e}A${i},${i},0,1,1,${this._x1=r},${this._y1=o}`)}rect(t,e,i,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${+i}v${+r}h${-i}Z`}value(){return this._||null}}class ge{constructor(){this._=[]}moveTo(t,e){this._.push([t,e])}closePath(){this._.push(this._[0].slice())}lineTo(t,e){this._.push([t,e])}value(){return this._.length?this._:null}}class Js{constructor(t,[e,i,r,o]=[0,0,960,500]){if(!((r=+r)>=(e=+e))||!((o=+o)>=(i=+i)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=r,this.xmin=e,this.ymax=o,this.ymin=i,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:e,triangles:i},vectors:r}=this;let o,s;const l=this.circumcenters=this._circumcenters.subarray(0,i.length/3*2);for(let d=0,_=0,y=i.length,m,v;d<y;d+=3,_+=2){const S=i[d]*2,M=i[d+1]*2,b=i[d+2]*2,E=t[S],P=t[S+1],N=t[M],$=t[M+1],w=t[b],k=t[b+1],z=N-E,I=$-P,x=w-E,A=k-P,T=(z*A-I*x)*2;if(Math.abs(T)<1e-9){if(o===void 0){o=s=0;for(const F of e)o+=t[F*2],s+=t[F*2+1];o/=e.length,s/=e.length}const D=1e9*Math.sign((o-E)*A-(s-P)*x);m=(E+w)/2-D*A,v=(P+k)/2+D*x}else{const D=1/T,F=z*z+I*I,ln=x*x+A*A;m=E+(A*F-I*ln)*D,v=P+(z*ln-x*F)*D}l[_]=m,l[_+1]=v}let u=e[e.length-1],f,c=u*4,a,h=t[2*u],g,p=t[2*u+1];r.fill(0);for(let d=0;d<e.length;++d)u=e[d],f=c,a=h,g=p,c=u*4,h=t[2*u],p=t[2*u+1],r[f+2]=r[c]=g-p,r[f+3]=r[c+1]=h-a}render(t){const e=t==null?t=new En:void 0,{delaunay:{halfedges:i,inedges:r,hull:o},circumcenters:s,vectors:l}=this;if(o.length<=1)return null;for(let c=0,a=i.length;c<a;++c){const h=i[c];if(h<c)continue;const g=Math.floor(c/3)*2,p=Math.floor(h/3)*2,d=s[g],_=s[g+1],y=s[p],m=s[p+1];this._renderSegment(d,_,y,m,t)}let u,f=o[o.length-1];for(let c=0;c<o.length;++c){u=f,f=o[c];const a=Math.floor(r[f]/3)*2,h=s[a],g=s[a+1],p=u*4,d=this._project(h,g,l[p+2],l[p+3]);d&&this._renderSegment(h,g,d[0],d[1],t)}return e&&e.value()}renderBounds(t){const e=t==null?t=new En:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}renderCell(t,e){const i=e==null?e=new En:void 0,r=this._clip(t);if(r===null||!r.length)return;e.moveTo(r[0],r[1]);let o=r.length;for(;r[0]===r[o-2]&&r[1]===r[o-1]&&o>1;)o-=2;for(let s=2;s<o;s+=2)(r[s]!==r[s-2]||r[s+1]!==r[s-1])&&e.lineTo(r[s],r[s+1]);return e.closePath(),i&&i.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let e=0,i=t.length/2;e<i;++e){const r=this.cellPolygon(e);r&&(r.index=e,yield r)}}cellPolygon(t){const e=new ge;return this.renderCell(t,e),e.value()}_renderSegment(t,e,i,r,o){let s;const l=this._regioncode(t,e),u=this._regioncode(i,r);l===0&&u===0?(o.moveTo(t,e),o.lineTo(i,r)):(s=this._clipSegment(t,e,i,r,l,u))&&(o.moveTo(s[0],s[1]),o.lineTo(s[2],s[3]))}contains(t,e,i){return e=+e,e!==e||(i=+i,i!==i)?!1:this.delaunay._step(t,e,i)===t}*neighbors(t){const e=this._clip(t);if(e)for(const i of this.delaunay.neighbors(t)){const r=this._clip(i);if(r){n:for(let o=0,s=e.length;o<s;o+=2)for(let l=0,u=r.length;l<u;l+=2)if(e[o]===r[l]&&e[o+1]===r[l+1]&&e[(o+2)%s]===r[(l+u-2)%u]&&e[(o+3)%s]===r[(l+u-1)%u]){yield i;break n}}}}_cell(t){const{circumcenters:e,delaunay:{inedges:i,halfedges:r,triangles:o}}=this,s=i[t];if(s===-1)return null;const l=[];let u=s;do{const f=Math.floor(u/3);if(l.push(e[f*2],e[f*2+1]),u=u%3===2?u-2:u+1,o[u]!==t)break;u=r[u]}while(u!==s&&u!==-1);return l}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const e=this._cell(t);if(e===null)return null;const{vectors:i}=this,r=t*4;return this._simplify(i[r]||i[r+1]?this._clipInfinite(t,e,i[r],i[r+1],i[r+2],i[r+3]):this._clipFinite(t,e))}_clipFinite(t,e){const i=e.length;let r=null,o,s,l=e[i-2],u=e[i-1],f,c=this._regioncode(l,u),a,h=0;for(let g=0;g<i;g+=2)if(o=l,s=u,l=e[g],u=e[g+1],f=c,c=this._regioncode(l,u),f===0&&c===0)a=h,h=0,r?r.push(l,u):r=[l,u];else{let p,d,_,y,m;if(f===0){if((p=this._clipSegment(o,s,l,u,f,c))===null)continue;[d,_,y,m]=p}else{if((p=this._clipSegment(l,u,o,s,c,f))===null)continue;[y,m,d,_]=p,a=h,h=this._edgecode(d,_),a&&h&&this._edge(t,a,h,r,r.length),r?r.push(d,_):r=[d,_]}a=h,h=this._edgecode(y,m),a&&h&&this._edge(t,a,h,r,r.length),r?r.push(y,m):r=[y,m]}if(r)a=h,h=this._edgecode(r[0],r[1]),a&&h&&this._edge(t,a,h,r,r.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return r}_clipSegment(t,e,i,r,o,s){const l=o<s;for(l&&([t,e,i,r,o,s]=[i,r,t,e,s,o]);;){if(o===0&&s===0)return l?[i,r,t,e]:[t,e,i,r];if(o&s)return null;let u,f,c=o||s;c&8?(u=t+(i-t)*(this.ymax-e)/(r-e),f=this.ymax):c&4?(u=t+(i-t)*(this.ymin-e)/(r-e),f=this.ymin):c&2?(f=e+(r-e)*(this.xmax-t)/(i-t),u=this.xmax):(f=e+(r-e)*(this.xmin-t)/(i-t),u=this.xmin),o?(t=u,e=f,o=this._regioncode(t,e)):(i=u,r=f,s=this._regioncode(i,r))}}_clipInfinite(t,e,i,r,o,s){let l=Array.from(e),u;if((u=this._project(l[0],l[1],i,r))&&l.unshift(u[0],u[1]),(u=this._project(l[l.length-2],l[l.length-1],o,s))&&l.push(u[0],u[1]),l=this._clipFinite(t,l))for(let f=0,c=l.length,a,h=this._edgecode(l[c-2],l[c-1]);f<c;f+=2)a=h,h=this._edgecode(l[f],l[f+1]),a&&h&&(f=this._edge(t,a,h,l,f),c=l.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(l=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return l}_edge(t,e,i,r,o){for(;e!==i;){let s,l;switch(e){case 5:e=4;continue;case 4:e=6,s=this.xmax,l=this.ymin;break;case 6:e=2;continue;case 2:e=10,s=this.xmax,l=this.ymax;break;case 10:e=8;continue;case 8:e=9,s=this.xmin,l=this.ymax;break;case 9:e=1;continue;case 1:e=5,s=this.xmin,l=this.ymin;break}(r[o]!==s||r[o+1]!==l)&&this.contains(t,s,l)&&(r.splice(o,0,s,l),o+=2)}return o}_project(t,e,i,r){let o=1/0,s,l,u;if(r<0){if(e<=this.ymin)return null;(s=(this.ymin-e)/r)<o&&(u=this.ymin,l=t+(o=s)*i)}else if(r>0){if(e>=this.ymax)return null;(s=(this.ymax-e)/r)<o&&(u=this.ymax,l=t+(o=s)*i)}if(i>0){if(t>=this.xmax)return null;(s=(this.xmax-t)/i)<o&&(l=this.xmax,u=e+(o=s)*r)}else if(i<0){if(t<=this.xmin)return null;(s=(this.xmin-t)/i)<o&&(l=this.xmin,u=e+(o=s)*r)}return[l,u]}_edgecode(t,e){return(t===this.xmin?1:t===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}_regioncode(t,e){return(t<this.xmin?1:t>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let e=0;e<t.length;e+=2){const i=(e+2)%t.length,r=(e+4)%t.length;(t[e]===t[i]&&t[i]===t[r]||t[e+1]===t[i+1]&&t[i+1]===t[r+1])&&(t.splice(i,2),e-=2)}t.length||(t=null)}return t}}const nl=2*Math.PI,In=Math.pow;function tl(n){return n[0]}function el(n){return n[1]}function il(n){const{triangles:t,coords:e}=n;for(let i=0;i<t.length;i+=3){const r=2*t[i],o=2*t[i+1],s=2*t[i+2];if((e[s]-e[r])*(e[o+1]-e[r+1])-(e[o]-e[r])*(e[s+1]-e[r+1])>1e-10)return!1}return!0}function rl(n,t,e){return[n+Math.sin(n+t)*e,t+Math.cos(n-t)*e]}class Ne{static from(t,e=tl,i=el,r){return new Ne("length"in t?ol(t,e,i,r):Float64Array.from(sl(t,e,i,r)))}constructor(t){this._delaunator=new Lt(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,e=this.points;if(t.hull&&t.hull.length>2&&il(t)){this.collinear=Int32Array.from({length:e.length/2},(h,g)=>g).sort((h,g)=>e[2*h]-e[2*g]||e[2*h+1]-e[2*g+1]);const u=this.collinear[0],f=this.collinear[this.collinear.length-1],c=[e[2*u],e[2*u+1],e[2*f],e[2*f+1]],a=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let h=0,g=e.length/2;h<g;++h){const p=rl(e[2*h],e[2*h+1],a);e[2*h]=p[0],e[2*h+1]=p[1]}this._delaunator=new Lt(e)}else delete this.collinear;const i=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,s=this.inedges.fill(-1),l=this._hullIndex.fill(-1);for(let u=0,f=i.length;u<f;++u){const c=o[u%3===2?u-2:u+1];(i[u]===-1||s[c]===-1)&&(s[c]=u)}for(let u=0,f=r.length;u<f;++u)l[r[u]]=u;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],s[r[0]]=1,r.length===2&&(s[r[1]]=0,this.triangles[1]=r[1],this.triangles[2]=r[1]))}voronoi(t){return new Js(this,t)}*neighbors(t){const{inedges:e,hull:i,_hullIndex:r,halfedges:o,triangles:s,collinear:l}=this;if(l){const a=l.indexOf(t);a>0&&(yield l[a-1]),a<l.length-1&&(yield l[a+1]);return}const u=e[t];if(u===-1)return;let f=u,c=-1;do{if(yield c=s[f],f=f%3===2?f-2:f+1,s[f]!==t)return;if(f=o[f],f===-1){const a=i[(r[t]+1)%i.length];a!==c&&(yield a);return}}while(f!==u)}find(t,e,i=0){if(t=+t,t!==t||(e=+e,e!==e))return-1;const r=i;let o;for(;(o=this._step(i,t,e))>=0&&o!==i&&o!==r;)i=o;return o}_step(t,e,i){const{inedges:r,hull:o,_hullIndex:s,halfedges:l,triangles:u,points:f}=this;if(r[t]===-1||!f.length)return(t+1)%(f.length>>1);let c=t,a=In(e-f[t*2],2)+In(i-f[t*2+1],2);const h=r[t];let g=h;do{let p=u[g];const d=In(e-f[p*2],2)+In(i-f[p*2+1],2);if(d<a&&(a=d,c=p),g=g%3===2?g-2:g+1,u[g]!==t)break;if(g=l[g],g===-1){if(g=o[(s[t]+1)%o.length],g!==p&&In(e-f[g*2],2)+In(i-f[g*2+1],2)<a)return g;break}}while(g!==h);return c}render(t){const e=t==null?t=new En:void 0,{points:i,halfedges:r,triangles:o}=this;for(let s=0,l=r.length;s<l;++s){const u=r[s];if(u<s)continue;const f=o[s]*2,c=o[u]*2;t.moveTo(i[f],i[f+1]),t.lineTo(i[c],i[c+1])}return this.renderHull(t),e&&e.value()}renderPoints(t,e){e===void 0&&(!t||typeof t.moveTo!="function")&&(e=t,t=null),e=e==null?2:+e;const i=t==null?t=new En:void 0,{points:r}=this;for(let o=0,s=r.length;o<s;o+=2){const l=r[o],u=r[o+1];t.moveTo(l+e,u),t.arc(l,u,e,0,nl)}return i&&i.value()}renderHull(t){const e=t==null?t=new En:void 0,{hull:i,points:r}=this,o=i[0]*2,s=i.length;t.moveTo(r[o],r[o+1]);for(let l=1;l<s;++l){const u=2*i[l];t.lineTo(r[u],r[u+1])}return t.closePath(),e&&e.value()}hullPolygon(){const t=new ge;return this.renderHull(t),t.value()}renderTriangle(t,e){const i=e==null?e=new En:void 0,{points:r,triangles:o}=this,s=o[t*=3]*2,l=o[t+1]*2,u=o[t+2]*2;return e.moveTo(r[s],r[s+1]),e.lineTo(r[l],r[l+1]),e.lineTo(r[u],r[u+1]),e.closePath(),i&&i.value()}*trianglePolygons(){const{triangles:t}=this;for(let e=0,i=t.length/3;e<i;++e)yield this.trianglePolygon(e)}trianglePolygon(t){const e=new ge;return this.renderTriangle(t,e),e.value()}}function ol(n,t,e,i){const r=n.length,o=new Float64Array(r*2);for(let s=0;s<r;++s){const l=n[s];o[s*2]=t.call(i,l,s,n),o[s*2+1]=e.call(i,l,s,n)}return o}function*sl(n,t,e,i){let r=0;for(const o of n)yield t.call(i,o,r,n),yield e.call(i,o,r,n),++r}const be=Math.PI,bi=be/2,Ai=180/be,Ei=be/180,ll=Math.atan2,$i=Math.cos,ul=Math.max,fl=Math.min,Pi=Math.sin,al=Math.sign||function(n){return n>0?1:n<0?-1:0},hr=Math.sqrt;function cl(n){return n>1?bi:n<-1?-bi:Math.asin(n)}function gr(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function rn(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Ft(n,t){return[n[0]+t[0],n[1]+t[1],n[2]+t[2]]}function qt(n){var t=hr(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);return[n[0]/t,n[1]/t,n[2]/t]}function Ae(n){return[ll(n[1],n[0])*Ai,cl(ul(-1,fl(1,n[2])))*Ai]}function pn(n){const t=n[0]*Ei,e=n[1]*Ei,i=$i(e);return[i*$i(t),i*Pi(t),Pi(e)]}function Ee(n){return n=n.map(t=>pn(t)),gr(n[0],rn(n[2],n[1]))}function hl(n){const t=pl(n),e=yl(t),i=dl(e,n),r=vl(e,n.length),o=gl(r,n),s=_l(e,n),{polygons:l,centers:u}=ml(s,e,n),f=wl(l),c=Ml(e,n),a=xl(i,e);return{delaunay:t,edges:i,triangles:e,centers:u,neighbors:r,polygons:l,mesh:f,hull:c,urquhart:a,find:o}}function gl(n,t){function e(i,r){let o=i[0]-r[0],s=i[1]-r[1],l=i[2]-r[2];return o*o+s*s+l*l}return function(r,o,s){s===void 0&&(s=0);let l,u,f=s;const c=pn([r,o]);do l=s,s=null,u=e(c,pn(t[l])),n[l].forEach(a=>{let h=e(c,pn(t[a]));if(h<u){u=h,s=a,f=a;return}});while(s!==null);return f}}function pl(n){if(n.length<2)return{};let t=0;for(;isNaN(n[t][0]+n[t][1])&&t++<n.length;);const e=us(n[t]),i=Hs().translate([0,0]).scale(1).rotate(e.invert([180,0]));n=n.map(i);const r=[];let o=1;for(let a=0,h=n.length;a<h;a++){let g=n[a][0]**2+n[a][1]**2;!isFinite(g)||g>1e32?r.push(a):g>o&&(o=g)}const s=1e6*hr(o);r.forEach(a=>n[a]=[s,0]),n.push([0,s]),n.push([-s,0]),n.push([0,-s]);const l=Ne.from(n);l.projection=i;const{triangles:u,halfedges:f,inedges:c}=l;for(let a=0,h=f.length;a<h;a++)if(f[a]<0){const g=a%3==2?a-2:a+1,p=a%3==0?a+2:a-1,d=f[g],_=f[p];f[d]=_,f[_]=d,f[g]=f[p]=-1,u[a]=u[g]=u[p]=t,c[u[d]]=d%3==0?d+2:d-1,c[u[_]]=_%3==0?_+2:_-1,a+=2-a%3}else u[a]>n.length-3-1&&(u[a]=t);return l}function dl(n,t){const e=new Set;return t.length===2?[[0,1]]:(n.forEach(i=>{if(i[0]!==i[1]&&!(Ee(i.map(r=>t[r]))<0))for(let r=0,o;r<3;r++)o=(r+1)%3,e.add(Ti([i[r],i[o]]).join("-"))}),Array.from(e,i=>i.split("-").map(Number)))}function yl(n){const{triangles:t}=n;if(!t)return[];const e=[];for(let i=0,r=t.length/3;i<r;i++){const o=t[3*i],s=t[3*i+1],l=t[3*i+2];o!==s&&s!==l&&e.push([o,l,s])}return e}function _l(n,t){return n.map(e=>{const i=e.map(o=>t[o]).map(pn),r=Ft(Ft(rn(i[1],i[0]),rn(i[2],i[1])),rn(i[0],i[2]));return Ae(qt(r))})}function vl(n,t){const e=[];return n.forEach(i=>{for(let r=0;r<3;r++){const o=i[r],s=i[(r+1)%3];e[o]=e[o]||[],e[o].push(s)}}),n.length===0&&(t===2?(e[0]=[1],e[1]=[0]):t===1&&(e[0]=[])),e}function ml(n,t,e){const i=[],r=n.slice();if(t.length===0){if(e.length<2)return{polygons:i,centers:r};if(e.length===2){const l=pn(e[0]),u=pn(e[1]),f=qt(Ft(l,u)),c=qt(rn(l,u)),a=rn(f,c),h=[f,rn(f,a),rn(rn(f,a),a),rn(rn(rn(f,a),a),a)].map(Ae).map(s);return i.push(h),i.push(h.slice().reverse()),{polygons:i,centers:r}}}t.forEach((l,u)=>{for(let f=0;f<3;f++){const c=l[f],a=l[(f+1)%3],h=l[(f+2)%3];i[c]=i[c]||[],i[c].push([a,h,u,[c,a,h]])}});const o=i.map(l=>{const u=[l[0][2]];let f=l[0][1];for(let c=1;c<l.length;c++)for(let a=0;a<l.length;a++)if(l[a][0]==f){f=l[a][1],u.push(l[a][2]);break}if(u.length>2)return u;if(u.length==2){const c=ki(e[l[0][3][0]],e[l[0][3][1]],r[u[0]]),a=ki(e[l[0][3][2]],e[l[0][3][0]],r[u[0]]),h=s(c),g=s(a);return[u[0],g,u[1],h]}});function s(l){let u=-1;return r.slice(t.length,1/0).forEach((f,c)=>{f[0]===l[0]&&f[1]===l[1]&&(u=c+t.length)}),u<0&&(u=r.length,r.push(l)),u}return{polygons:o,centers:r}}function ki(n,t,e){n=pn(n),t=pn(t),e=pn(e);const i=al(gr(rn(t,n),e));return Ae(qt(Ft(n,t)).map(r=>i*r))}function wl(n){const t=[];return n.forEach(e=>{if(!e)return;let i=e[e.length-1];for(let r of e)r>i&&t.push([i,r]),i=r}),t}function xl(n,t){return function(e){const i=new Map,r=new Map;return n.forEach((o,s)=>{const l=o.join("-");i.set(l,e[s]),r.set(l,!0)}),t.forEach(o=>{let s=0,l=-1;for(let u=0;u<3;u++){let f=Ti([o[u],o[(u+1)%3]]).join("-");i.get(f)>s&&(s=i.get(f),l=f)}r.set(l,!1)}),n.map(o=>r.get(o.join("-")))}}function Ml(n,t){const e=new Set,i=[];n.map(l=>{if(!(Ee(l.map(u=>t[u>t.length?0:u]))>1e-12))for(let u=0;u<3;u++){let f=[l[u],l[(u+1)%3]],c=`${f[0]}-${f[1]}`;e.has(c)?e.delete(c):e.add(`${f[1]}-${f[0]}`)}});const r=new Map;let o;if(e.forEach(l=>{l=l.split("-").map(Number),r.set(l[0],l[1]),o=l[0]}),o===void 0)return i;let s=o;do{i.push(s);let l=r.get(s);r.set(s,-1),s=l}while(s>-1&&s!==o);return i}function df(n){const t=function(e){if(t.delaunay=null,t._data=e,typeof t._data=="object"&&t._data.type==="FeatureCollection"&&(t._data=t._data.features),typeof t._data=="object"){const i=t._data.map(r=>[t._vx(r),t._vy(r),r]).filter(r=>isFinite(r[0]+r[1]));t.points=i.map(r=>[r[0],r[1]]),t.valid=i.map(r=>r[2]),t.delaunay=hl(t.points)}return t};return t._vx=function(e){if(typeof e=="object"&&"type"in e)return ti(e)[0];if(0 in e)return e[0]},t._vy=function(e){if(typeof e=="object"&&"type"in e)return ti(e)[1];if(1 in e)return e[1]},t.x=function(e){return e?(t._vx=e,t):t._vx},t.y=function(e){return e?(t._vy=e,t):t._vy},t.polygons=function(e){if(e!==void 0&&t(e),!t.delaunay)return!1;const i={type:"FeatureCollection",features:[]};return t.valid.length===0||(t.delaunay.polygons.forEach((r,o)=>i.features.push({type:"Feature",geometry:r?{type:"Polygon",coordinates:[[...r,r[0]].map(s=>t.delaunay.centers[s])]}:null,properties:{site:t.valid[o],sitecoordinates:t.points[o],neighbours:t.delaunay.neighbors[o]}})),t.valid.length===1&&i.features.push({type:"Feature",geometry:{type:"Sphere"},properties:{site:t.valid[0],sitecoordinates:t.points[0],neighbours:[]}})),i},t.triangles=function(e){return e!==void 0&&t(e),t.delaunay?{type:"FeatureCollection",features:t.delaunay.triangles.map((i,r)=>(i=i.map(o=>t.points[o]),i.center=t.delaunay.centers[r],i)).filter(i=>Ee(i)>0).map(i=>({type:"Feature",properties:{circumcenter:i.center},geometry:{type:"Polygon",coordinates:[[...i,i[0]]]}}))}:!1},t.links=function(e){if(e!==void 0&&t(e),!t.delaunay)return!1;const i=t.delaunay.edges.map(o=>Kn(t.points[o[0]],t.points[o[1]])),r=t.delaunay.urquhart(i);return{type:"FeatureCollection",features:t.delaunay.edges.map((o,s)=>({type:"Feature",properties:{source:t.valid[o[0]],target:t.valid[o[1]],length:i[s],urquhart:!!r[s]},geometry:{type:"LineString",coordinates:[t.points[o[0]],t.points[o[1]]]}}))}},t.mesh=function(e){return e!==void 0&&t(e),t.delaunay?{type:"MultiLineString",coordinates:t.delaunay.edges.map(i=>[t.points[i[0]],t.points[i[1]]])}:!1},t.cellMesh=function(e){if(e!==void 0&&t(e),!t.delaunay)return!1;const{centers:i,polygons:r}=t.delaunay,o=[];for(const s of r)if(s)for(let l=s.length,u=s[l-1],f=s[0],c=0;c<l;u=f,f=s[++c])f>u&&o.push([i[u],i[f]]);return{type:"MultiLineString",coordinates:o}},t._found=void 0,t.find=function(e,i,r){if(t._found=t.delaunay.find(e,i,t._found),!r||Kn([e,i],t.points[t._found])<r)return t._found},t.hull=function(e){e!==void 0&&t(e);const i=t.delaunay.hull,r=t.points;return i.length===0?null:{type:"Polygon",coordinates:[[...i.map(o=>r[o]),r[i[0]]]]}},n?t(n):t}function yf(n){return n=Math.max(0,Math.min(1,n)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+n*(1172.33-n*(10793.56-n*(33300.12-n*(38394.49-n*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+n*(557.33+n*(1225.33-n*(3574.96-n*(1073.77+n*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+n*(3211.1-n*(15327.97-n*(27814-n*(22569.18-n*6838.66)))))))+")"}var pe="http://www.w3.org/1999/xhtml";const zi={svg:"http://www.w3.org/2000/svg",xhtml:pe,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function pr(n){var t=n+="",e=t.indexOf(":");return e>=0&&(t=n.slice(0,e))!=="xmlns"&&(n=n.slice(e+1)),zi.hasOwnProperty(t)?{space:zi[t],local:n}:n}function Sl(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===pe&&t.documentElement.namespaceURI===pe?t.createElement(n):t.createElementNS(e,n)}}function Nl(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function dr(n){var t=pr(n);return(t.local?Nl:Sl)(t)}function bl(){}function yr(n){return n==null?bl:function(){return this.querySelector(n)}}function Al(n){typeof n!="function"&&(n=yr(n));for(var t=this._groups,e=t.length,i=new Array(e),r=0;r<e;++r)for(var o=t[r],s=o.length,l=i[r]=new Array(s),u,f,c=0;c<s;++c)(u=o[c])&&(f=n.call(u,u.__data__,c,o))&&("__data__"in u&&(f.__data__=u.__data__),l[c]=f);return new fn(i,this._parents)}function El(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function $l(){return[]}function Pl(n){return n==null?$l:function(){return this.querySelectorAll(n)}}function kl(n){return function(){return El(n.apply(this,arguments))}}function zl(n){typeof n=="function"?n=kl(n):n=Pl(n);for(var t=this._groups,e=t.length,i=[],r=[],o=0;o<e;++o)for(var s=t[o],l=s.length,u,f=0;f<l;++f)(u=s[f])&&(i.push(n.call(u,u.__data__,f,s)),r.push(u));return new fn(i,r)}function Il(n){return function(){return this.matches(n)}}function _r(n){return function(t){return t.matches(n)}}var Rl=Array.prototype.find;function Cl(n){return function(){return Rl.call(this.children,n)}}function Tl(){return this.firstElementChild}function Ll(n){return this.select(n==null?Tl:Cl(typeof n=="function"?n:_r(n)))}var Fl=Array.prototype.filter;function ql(){return Array.from(this.children)}function Dl(n){return function(){return Fl.call(this.children,n)}}function Hl(n){return this.selectAll(n==null?ql:Dl(typeof n=="function"?n:_r(n)))}function Ol(n){typeof n!="function"&&(n=Il(n));for(var t=this._groups,e=t.length,i=new Array(e),r=0;r<e;++r)for(var o=t[r],s=o.length,l=i[r]=[],u,f=0;f<s;++f)(u=o[f])&&n.call(u,u.__data__,f,o)&&l.push(u);return new fn(i,this._parents)}function vr(n){return new Array(n.length)}function Bl(){return new fn(this._enter||this._groups.map(vr),this._parents)}function Dt(n,t){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=t}Dt.prototype={constructor:Dt,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,t){return this._parent.insertBefore(n,t)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function Xl(n){return function(){return n}}function Vl(n,t,e,i,r,o){for(var s=0,l,u=t.length,f=o.length;s<f;++s)(l=t[s])?(l.__data__=o[s],i[s]=l):e[s]=new Dt(n,o[s]);for(;s<u;++s)(l=t[s])&&(r[s]=l)}function Yl(n,t,e,i,r,o,s){var l,u,f=new Map,c=t.length,a=o.length,h=new Array(c),g;for(l=0;l<c;++l)(u=t[l])&&(h[l]=g=s.call(u,u.__data__,l,t)+"",f.has(g)?r[l]=u:f.set(g,u));for(l=0;l<a;++l)g=s.call(n,o[l],l,o)+"",(u=f.get(g))?(i[l]=u,u.__data__=o[l],f.delete(g)):e[l]=new Dt(n,o[l]);for(l=0;l<c;++l)(u=t[l])&&f.get(h[l])===u&&(r[l]=u)}function Ul(n){return n.__data__}function Gl(n,t){if(!arguments.length)return Array.from(this,Ul);var e=t?Yl:Vl,i=this._parents,r=this._groups;typeof n!="function"&&(n=Xl(n));for(var o=r.length,s=new Array(o),l=new Array(o),u=new Array(o),f=0;f<o;++f){var c=i[f],a=r[f],h=a.length,g=Kl(n.call(c,c&&c.__data__,f,i)),p=g.length,d=l[f]=new Array(p),_=s[f]=new Array(p),y=u[f]=new Array(h);e(c,a,d,_,y,g,t);for(var m=0,v=0,S,M;m<p;++m)if(S=d[m]){for(m>=v&&(v=m+1);!(M=_[v])&&++v<p;);S._next=M||null}}return s=new fn(s,i),s._enter=l,s._exit=u,s}function Kl(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function Zl(){return new fn(this._exit||this._groups.map(vr),this._parents)}function Wl(n,t,e){var i=this.enter(),r=this,o=this.exit();return typeof n=="function"?(i=n(i),i&&(i=i.selection())):i=i.append(n+""),t!=null&&(r=t(r),r&&(r=r.selection())),e==null?o.remove():e(o),i&&r?i.merge(r).order():r}function jl(n){for(var t=n.selection?n.selection():n,e=this._groups,i=t._groups,r=e.length,o=i.length,s=Math.min(r,o),l=new Array(r),u=0;u<s;++u)for(var f=e[u],c=i[u],a=f.length,h=l[u]=new Array(a),g,p=0;p<a;++p)(g=f[p]||c[p])&&(h[p]=g);for(;u<r;++u)l[u]=e[u];return new fn(l,this._parents)}function Ql(){for(var n=this._groups,t=-1,e=n.length;++t<e;)for(var i=n[t],r=i.length-1,o=i[r],s;--r>=0;)(s=i[r])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function Jl(n){n||(n=nu);function t(a,h){return a&&h?n(a.__data__,h.__data__):!a-!h}for(var e=this._groups,i=e.length,r=new Array(i),o=0;o<i;++o){for(var s=e[o],l=s.length,u=r[o]=new Array(l),f,c=0;c<l;++c)(f=s[c])&&(u[c]=f);u.sort(t)}return new fn(r,this._parents).order()}function nu(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function tu(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function eu(){return Array.from(this)}function iu(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var i=n[t],r=0,o=i.length;r<o;++r){var s=i[r];if(s)return s}return null}function ru(){let n=0;for(const t of this)++n;return n}function ou(){return!this.node()}function su(n){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var r=t[e],o=0,s=r.length,l;o<s;++o)(l=r[o])&&n.call(l,l.__data__,o,r);return this}function lu(n){return function(){this.removeAttribute(n)}}function uu(n){return function(){this.removeAttributeNS(n.space,n.local)}}function fu(n,t){return function(){this.setAttribute(n,t)}}function au(n,t){return function(){this.setAttributeNS(n.space,n.local,t)}}function cu(n,t){return function(){var e=t.apply(this,arguments);e==null?this.removeAttribute(n):this.setAttribute(n,e)}}function hu(n,t){return function(){var e=t.apply(this,arguments);e==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}}function gu(n,t){var e=pr(n);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((t==null?e.local?uu:lu:typeof t=="function"?e.local?hu:cu:e.local?au:fu)(e,t))}function mr(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function pu(n){return function(){this.style.removeProperty(n)}}function du(n,t,e){return function(){this.style.setProperty(n,t,e)}}function yu(n,t,e){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(n):this.style.setProperty(n,i,e)}}function _u(n,t,e){return arguments.length>1?this.each((t==null?pu:typeof t=="function"?yu:du)(n,t,e??"")):vu(this.node(),n)}function vu(n,t){return n.style.getPropertyValue(t)||mr(n).getComputedStyle(n,null).getPropertyValue(t)}function mu(n){return function(){delete this[n]}}function wu(n,t){return function(){this[n]=t}}function xu(n,t){return function(){var e=t.apply(this,arguments);e==null?delete this[n]:this[n]=e}}function Mu(n,t){return arguments.length>1?this.each((t==null?mu:typeof t=="function"?xu:wu)(n,t)):this.node()[n]}function wr(n){return n.trim().split(/^|\s+/)}function $e(n){return n.classList||new xr(n)}function xr(n){this._node=n,this._names=wr(n.getAttribute("class")||"")}xr.prototype={add:function(n){var t=this._names.indexOf(n);t<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var t=this._names.indexOf(n);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function Mr(n,t){for(var e=$e(n),i=-1,r=t.length;++i<r;)e.add(t[i])}function Sr(n,t){for(var e=$e(n),i=-1,r=t.length;++i<r;)e.remove(t[i])}function Su(n){return function(){Mr(this,n)}}function Nu(n){return function(){Sr(this,n)}}function bu(n,t){return function(){(t.apply(this,arguments)?Mr:Sr)(this,n)}}function Au(n,t){var e=wr(n+"");if(arguments.length<2){for(var i=$e(this.node()),r=-1,o=e.length;++r<o;)if(!i.contains(e[r]))return!1;return!0}return this.each((typeof t=="function"?bu:t?Su:Nu)(e,t))}function Eu(){this.textContent=""}function $u(n){return function(){this.textContent=n}}function Pu(n){return function(){var t=n.apply(this,arguments);this.textContent=t??""}}function ku(n){return arguments.length?this.each(n==null?Eu:(typeof n=="function"?Pu:$u)(n)):this.node().textContent}function zu(){this.innerHTML=""}function Iu(n){return function(){this.innerHTML=n}}function Ru(n){return function(){var t=n.apply(this,arguments);this.innerHTML=t??""}}function Cu(n){return arguments.length?this.each(n==null?zu:(typeof n=="function"?Ru:Iu)(n)):this.node().innerHTML}function Tu(){this.nextSibling&&this.parentNode.appendChild(this)}function Lu(){return this.each(Tu)}function Fu(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function qu(){return this.each(Fu)}function Du(n){var t=typeof n=="function"?n:dr(n);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Hu(){return null}function Ou(n,t){var e=typeof n=="function"?n:dr(n),i=t==null?Hu:typeof t=="function"?t:yr(t);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})}function Bu(){var n=this.parentNode;n&&n.removeChild(this)}function Xu(){return this.each(Bu)}function Vu(){var n=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function Yu(){var n=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function Uu(n){return this.select(n?Yu:Vu)}function Gu(n){return arguments.length?this.property("__data__",n):this.node().__data__}function Ku(n){return function(t){n.call(this,t,this.__data__)}}function Zu(n){return n.trim().split(/^|\s+/).map(function(t){var e="",i=t.indexOf(".");return i>=0&&(e=t.slice(i+1),t=t.slice(0,i)),{type:t,name:e}})}function Wu(n){return function(){var t=this.__on;if(t){for(var e=0,i=-1,r=t.length,o;e<r;++e)o=t[e],(!n.type||o.type===n.type)&&o.name===n.name?this.removeEventListener(o.type,o.listener,o.options):t[++i]=o;++i?t.length=i:delete this.__on}}}function ju(n,t,e){return function(){var i=this.__on,r,o=Ku(t);if(i){for(var s=0,l=i.length;s<l;++s)if((r=i[s]).type===n.type&&r.name===n.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),r.value=t;return}}this.addEventListener(n.type,o,e),r={type:n.type,name:n.name,value:t,listener:o,options:e},i?i.push(r):this.__on=[r]}}function Qu(n,t,e){var i=Zu(n+""),r,o=i.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,f=l.length,c;u<f;++u)for(r=0,c=l[u];r<o;++r)if((s=i[r]).type===c.type&&s.name===c.name)return c.value}return}for(l=t?ju:Wu,r=0;r<o;++r)this.each(l(i[r],t,e));return this}function Nr(n,t,e){var i=mr(n),r=i.CustomEvent;typeof r=="function"?r=new r(t,e):(r=i.document.createEvent("Event"),e?(r.initEvent(t,e.bubbles,e.cancelable),r.detail=e.detail):r.initEvent(t,!1,!1)),n.dispatchEvent(r)}function Ju(n,t){return function(){return Nr(this,n,t)}}function nf(n,t){return function(){return Nr(this,n,t.apply(this,arguments))}}function tf(n,t){return this.each((typeof t=="function"?nf:Ju)(n,t))}function*ef(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var i=n[t],r=0,o=i.length,s;r<o;++r)(s=i[r])&&(yield s)}var rf=[null];function fn(n,t){this._groups=n,this._parents=t}function of(){return this}fn.prototype={constructor:fn,select:Al,selectAll:zl,selectChild:Ll,selectChildren:Hl,filter:Ol,data:Gl,enter:Bl,exit:Zl,join:Wl,merge:jl,selection:of,order:Ql,sort:Jl,call:tu,nodes:eu,node:iu,size:ru,empty:ou,each:su,attr:gu,style:_u,property:Mu,classed:Au,text:ku,html:Cu,raise:Lu,lower:qu,append:Du,insert:Ou,remove:Xu,clone:Uu,datum:Gu,on:Qu,dispatch:tf,[Symbol.iterator]:ef};function _f(n){return typeof n=="string"?new fn([[document.querySelector(n)]],[document.documentElement]):new fn([[n]],rf)}function sf(n){let t;for(;t=n.sourceEvent;)n=t;return n}function vf(n,t){if(n=sf(n),t===void 0&&(t=n.currentTarget),t){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var i=e.createSVGPoint();return i.x=n.clientX,i.y=n.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[n.clientX-r.left-t.clientLeft,n.clientY-r.top-t.clientTop]}}return[n.pageX,n.pageY]}export{Lt as D,pf as a,ft as b,Li as c,cf as d,df as e,Ti as f,Kn as g,hf as h,vt as i,uf as j,gf as k,Vo as l,Ds as m,lf as n,Yr as o,Gn as p,Yo as q,yf as r,af as s,ff as t,_f as u,vf as v};
