import{da as $o,db as jr,dc as Qr,dd as it,de as Fo,df as Wo,dg as Ho,bQ as Uo,cz as Jr,dh as ei,di as Xo,dj as Ko,au as Be,b$ as Yo,aw as ze,ax as ne,ay as Se,az as V,y as U,D as re,B as N,z,Q as J,aI as j,aH as B,F,E as W,A as R,aE as Ra,R as be,aK as ut,T as ct,cq as Zo,aL as la,dk as qo,aO as ba,aW as Ne,c9 as kt,aQ as jo,bS as Ve,av as Ye,b3 as we,b4 as Je,aS as ti,c4 as ai,W as Ce,X as se,bX as ua,bZ as ca,v as K,c2 as Ie,dl as gt,dm as Qo,U as pe,ck as wt,ct as da,aM as ni,bY as Ja,aT as Ae,c1 as ri,bW as de,w as At,aN as Jo,dn as es,b_ as Ze,dp as ts,aU as mt,dq as Ln,cc as as,aF as Nt,dr as Ee,cA as ns,b1 as rs,at as is,aP as ii,aG as oi,aR as os,ds as ss,dt as ls,aY as us,cb as Pn,aC as cs,du as ds,dv as nt,dw as fs,aX as Ot,cE as vs,aJ as Sa,dx as hs,dy as ps,dz as gs,dA as ms,cv as si,b2 as en,dB as ys,dC as bs,aV as Ss,cF as xs,dD as Cs,a$ as ws,dE as kn,V as li,ag as As,dF as _s,a1 as tt,dG as Ts,dH as On,ae,a6 as M,ad as xe,b7 as fe,a2 as Pe,ab as Ds,dI as Is,dJ as Ls,dK as qe,as as ui,aa as me,dL as le,dM as Ps,dN as ks,ac as Oe,a5 as ie,dO as Os,bu as ci,bd as Y,dP as _e,dQ as zt,S as tn,dR as Mn,dS as Ms,dT as Es,d1 as Te,dU as di,d0 as at,dV as fa,dW as fi,d9 as Rs,dX as va,dY as na,cZ as ee,dZ as En,d_ as Ns,d$ as vi,af as Ht,cU as Vs,e0 as Rn,e1 as Nn,cR as ha,cI as Me,bb as ot,e2 as an,an as Le,e3 as St,e4 as Na,e5 as Va,q as ta,e6 as Vn,e7 as ke,e8 as Bs,c$ as hi,e9 as zs,cO as Bn,ea as Gs,bg as $s,eb as pi,ec as zn,bL as Fs,ed as Gn,ee as Ws,t as Hs,C as _t,ef as Us,cJ as je,eg as Xs,eh as gi,ei as mi,cP as Ks,N as $n,ej as xt,ek as Gt,cL as $t,a7 as bt,ao as Ys,el as yi,em as Ct,en as nn,eo as ra,ep as ia,M as st,a3 as lt,eq as Zs,er as bi,es as Fn,et as oa,ar as Ft,p as Tt,a0 as pa,eu as qs,ev as js,ew as Si,ex as xi,ey as Ba,ez as Qs,eA as Js,eB as el,eC as tl,eD as rn,bN as al,s as ge,eE as Ci,eF as Wn,eG as nl,eH as rl,eI as wi,eJ as il,eK as ol,eL as sl,eM as Hn,eN as ll,eO as xa,eP as Un,eQ as Xn,eR as ul,bh as cl,eS as dl,bf as Kn,eT as fl,eU as vl,eV as Yn,eW as Zn,eX as hl,cH as pl,eY as gl,eZ as qn,e_ as Vt,e$ as ml,f0 as yl,_ as bl,L as Sl,G as xl,f1 as jn,Y as Qn}from"./index-BWsGGdVY.js";import{e as Ue,E as Cl,a as wl,b as Al,c as _l,d as Tl}from"./el-radio-CO5GPeqb.js";import{s as Dl,E as Il}from"./el-progress-q8AL983L.js";import{S as Ll,j as Ai,k as Pl,c as on,h as Bt,l as kl,m as Ol,u as Ml,g as El,n as Rl,U as Xe,C as _i,o as Nl,E as Vl,b as Bl}from"./el-button-OFgwVkNU.js";import{CanvasRenderer as zl}from"./renderers-2sR43QFy.js";import{a as Gl,S as $l,g as Fl}from"./SeriesData-DgFWSPjZ.js";import{s as Wl,e as Hl,c as Ul,S as Xl,u as ft}from"./extension-p7lDo5mg.js";import{e as Kl,i as sa,a as yt,l as Yl,b as Zl,O as ql,A as jl,I as Ql,g as Jl,d as Ca,f as eu,c as tu,h as au,j as za,n as Jn,k as nu,s as ru,m as Ti}from"./Axis-CUNY2-6Z.js";import{p as iu,h as ou}from"./labelLayoutHelper-CsdEGST9.js";function su(e,a,t,n){e.length;for(var r=t+1;r--;)if(a(e[r],r,e))return r;return-1}var lu=1,uu=2;function cu(e,a,t,n){var r=t.length,i=r;if(e==null)return!i;for(e=Object(e);r--;){var o=t[r];if(o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++r<i;){o=t[r];var s=o[0],l=e[s],u=o[1];if(o[2]){if(l===void 0&&!(s in e))return!1}else{var c=new Ll,d;if(!(d===void 0?Ai(u,l,lu|uu,n,c):d))return!1}}return!0}function Di(e){return e===e&&!$o(e)}function du(e){for(var a=Pl(e),t=a.length;t--;){var n=a[t],r=e[n];a[t]=[n,r,Di(r)]}return a}function Ii(e,a){return function(t){return t==null?!1:t[e]===a&&(a!==void 0||e in Object(t))}}function fu(e){var a=du(e);return a.length==1&&a[0][2]?Ii(a[0][0],a[0][1]):function(t){return t===e||cu(t,e,a)}}var vu=1,hu=2;function pu(e,a){return jr(e)&&Di(a)?Ii(Qr(e),a):function(t){var n=it(t,e);return n===void 0&&n===a?Fo(t,e):Ai(a,n,vu|hu)}}function gu(e){return function(a){return a==null?void 0:a[e]}}function mu(e){return function(a){return Wo(a,e)}}function yu(e){return jr(e)?gu(Qr(e)):mu(e)}function bu(e){return typeof e=="function"?e:e==null?Ho:typeof e=="object"?Uo(e)?pu(e[0],e[1]):fu(e):yu(e)}function Su(e,a,t){var n=e==null?0:e.length;if(!n)return-1;var r=n-1;return su(e,bu(a),r)}const xu=(e,a,t)=>ei(e.subTree).filter(i=>{var o;return Xo(i)&&((o=i.type)==null?void 0:o.name)===a&&!!i.component}).map(i=>i.component.uid).map(i=>t[i]).filter(i=>!!i),Cu=(e,a)=>{const t={},n=Jr([]);return{children:n,addChild:o=>{t[o.uid]=o,n.value=xu(e,a,t)},removeChild:o=>{delete t[o],n.value=n.value.filter(s=>s.uid!==o)}}},wu=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),Ke=e=>Ko(e),Ga=Be({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:Yo},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),Au={close:e=>e instanceof MouseEvent,click:e=>e instanceof MouseEvent},_u=ne({name:"ElTag"}),Tu=ne({..._u,props:Ga,emits:Au,setup(e,{emit:a}){const t=e,n=on(),r=Se("tag"),i=V(()=>{const{type:u,hit:c,effect:d,closable:h,round:f}=t;return[r.b(),r.is("closable",h),r.m(u||"primary"),r.m(n.value),r.m(d),r.is("hit",c),r.is("round",f)]}),o=u=>{a("close",u)},s=u=>{a("click",u)},l=u=>{var c,d,h;(h=(d=(c=u==null?void 0:u.component)==null?void 0:c.subTree)==null?void 0:d.component)!=null&&h.bum&&(u.component.subTree.component.bum=null)};return(u,c)=>u.disableTransitions?(N(),U("span",{key:0,class:B(F(i)),style:ct({backgroundColor:u.color}),onClick:s},[z("span",{class:B(F(r).e("content"))},[j(u.$slots,"default")],2),u.closable?(N(),re(F(ut),{key:0,class:B(F(r).e("close")),onClick:be(o,["stop"])},{default:W(()=>[R(F(Ra))]),_:1},8,["class","onClick"])):J("v-if",!0)],6)):(N(),re(Zo,{key:1,name:`${F(r).namespace.value}-zoom-in-center`,appear:"",onVnodeMounted:l},{default:W(()=>[z("span",{class:B(F(i)),style:ct({backgroundColor:u.color}),onClick:s},[z("span",{class:B(F(r).e("content"))},[j(u.$slots,"default")],2),u.closable?(N(),re(F(ut),{key:0,class:B(F(r).e("close")),onClick:be(o,["stop"])},{default:W(()=>[R(F(Ra))]),_:1},8,["class","onClick"])):J("v-if",!0)],6)]),_:3},8,["name"]))}});var Du=ze(Tu,[["__file","tag.vue"]]);const Iu=la(Du),sn=Symbol("elDescriptions");var Mt=ne({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String,default:"td"},type:{type:String}},setup(){return{descriptions:Ve(sn,{})}},render(){var e;const a=qo(this.cell),t=(((e=this.cell)==null?void 0:e.dirs)||[]).map(g=>{const{dir:y,arg:b,modifiers:x,value:S}=g;return[y,S,b,x]}),{border:n,direction:r}=this.descriptions,i=r==="vertical",o=()=>{var g,y,b;return((b=(y=(g=this.cell)==null?void 0:g.children)==null?void 0:y.label)==null?void 0:b.call(y))||a.label},s=()=>{var g,y,b;return(b=(y=(g=this.cell)==null?void 0:g.children)==null?void 0:y.default)==null?void 0:b.call(y)},l=a.span,u=a.rowspan,c=a.align?`is-${a.align}`:"",d=a.labelAlign?`is-${a.labelAlign}`:c,h=a.className,f=a.labelClassName,v=this.type==="label"&&(a.labelWidth||this.descriptions.labelWidth)||a.width,p={width:ba(v),minWidth:ba(a.minWidth)},m=Se("descriptions");switch(this.type){case"label":return Ne(kt(this.tag,{style:p,class:[m.e("cell"),m.e("label"),m.is("bordered-label",n),m.is("vertical-label",i),d,f],colSpan:i?l:1,rowspan:i?1:u},o()),t);case"content":return Ne(kt(this.tag,{style:p,class:[m.e("cell"),m.e("content"),m.is("bordered-content",n),m.is("vertical-content",i),c,h],colSpan:i?l:l*2-1,rowspan:i?u*2-1:u},s()),t);default:{const g=o(),y={},b=ba(a.labelWidth||this.descriptions.labelWidth);return b&&(y.width=b,y.display="inline-block"),Ne(kt("td",{style:p,class:[m.e("cell"),c],colSpan:l,rowspan:u},[jo(g)?void 0:kt("span",{style:y,class:[m.e("label"),f]},g),kt("span",{class:[m.e("content"),h]},s())]),t)}}}});const Lu=Be({row:{type:Ye(Array),default:()=>[]}}),Pu=ne({name:"ElDescriptionsRow"}),ku=ne({...Pu,props:Lu,setup(e){const a=Ve(sn,{});return(t,n)=>F(a).direction==="vertical"?(N(),U(we,{key:0},[z("tr",null,[(N(!0),U(we,null,Je(t.row,(r,i)=>(N(),re(F(Mt),{key:`tr1-${i}`,cell:r,tag:"th",type:"label"},null,8,["cell"]))),128))]),z("tr",null,[(N(!0),U(we,null,Je(t.row,(r,i)=>(N(),re(F(Mt),{key:`tr2-${i}`,cell:r,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(N(),U("tr",{key:1},[(N(!0),U(we,null,Je(t.row,(r,i)=>(N(),U(we,{key:`tr3-${i}`},[F(a).border?(N(),U(we,{key:0},[R(F(Mt),{cell:r,tag:"td",type:"label"},null,8,["cell"]),R(F(Mt),{cell:r,tag:"td",type:"content"},null,8,["cell"])],64)):(N(),re(F(Mt),{key:1,cell:r,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var Ou=ze(ku,[["__file","descriptions-row.vue"]]);const Mu=Be({border:Boolean,column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:ti,title:{type:String,default:""},extra:{type:String,default:""},labelWidth:{type:[String,Number],default:""}}),Li="ElDescriptionsItem",Eu=ne({name:"ElDescriptions"}),Ru=ne({...Eu,props:Mu,setup(e){const a=e,t=Se("descriptions"),n=on(),r=ai();ua(sn,a);const i=V(()=>[t.b(),t.m(n.value)]),o=(l,u,c,d=!1)=>(l.props||(l.props={}),u>c&&(l.props.span=c),d&&(l.props.span=u),l),s=()=>{if(!r.default)return[];const l=ei(r.default()).filter(v=>{var p;return((p=v==null?void 0:v.type)==null?void 0:p.name)===Li}),u=[];let c=[],d=a.column,h=0;const f=[];return l.forEach((v,p)=>{var m,g,y;const b=((m=v.props)==null?void 0:m.span)||1,x=((g=v.props)==null?void 0:g.rowspan)||1,S=u.length;if(f[S]||(f[S]=0),x>1)for(let w=1;w<x;w++)f[y=S+w]||(f[y]=0),f[S+w]++,h++;if(f[S]>0&&(d-=f[S],f[S]=0),p<l.length-1&&(h+=b>d?d:b),p===l.length-1){const w=a.column-h%a.column;c.push(o(v,w,d,!0)),u.push(c);return}b<d?(d-=b,c.push(v)):(c.push(o(v,b,d)),u.push(c),d=a.column,c=[])}),u};return(l,u)=>(N(),U("div",{class:B(F(i))},[l.title||l.extra||l.$slots.title||l.$slots.extra?(N(),U("div",{key:0,class:B(F(t).e("header"))},[z("div",{class:B(F(t).e("title"))},[j(l.$slots,"title",{},()=>[Ce(se(l.title),1)])],2),z("div",{class:B(F(t).e("extra"))},[j(l.$slots,"extra",{},()=>[Ce(se(l.extra),1)])],2)],2)):J("v-if",!0),z("div",{class:B(F(t).e("body"))},[z("table",{class:B([F(t).e("table"),F(t).is("bordered",l.border)])},[z("tbody",null,[(N(!0),U(we,null,Je(s(),(c,d)=>(N(),re(Ou,{key:d,row:c},null,8,["row"]))),128))])],2)],2)],2))}});var Nu=ze(Ru,[["__file","description.vue"]]);const Vu=Be({label:{type:String,default:""},span:{type:Number,default:1},rowspan:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},labelWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}),Pi=ne({name:Li,props:Vu}),Bu=la(Nu,{DescriptionsItem:Pi}),zu=ca(Pi);function Gu(){const e=Jr(),a=K(0),t=11,n=V(()=>({minWidth:`${Math.max(a.value,t)}px`}));return Ie(e,()=>{var i,o;a.value=(o=(i=e.value)==null?void 0:i.getBoundingClientRect().width)!=null?o:0}),{calculatorRef:e,calculatorWidth:a,inputStyle:n}}const ki=Symbol("ElSelectGroup"),ga=Symbol("ElSelect");function $u(e,a){const t=Ve(ga),n=Ve(ki,{disabled:!1}),r=V(()=>c(Ue(t.props.modelValue),e.value)),i=V(()=>{var f;if(t.props.multiple){const v=Ue((f=t.props.modelValue)!=null?f:[]);return!r.value&&v.length>=t.props.multipleLimit&&t.props.multipleLimit>0}else return!1}),o=V(()=>e.label||(gt(e.value)?"":e.value)),s=V(()=>e.value||e.label||""),l=V(()=>e.disabled||a.groupDisabled||i.value),u=wt(),c=(f=[],v)=>{if(gt(e.value)){const p=t.props.valueKey;return f&&f.some(m=>Qo(it(m,p))===it(v,p))}else return f&&f.includes(v)},d=()=>{!e.disabled&&!n.disabled&&(t.states.hoveringIndex=t.optionsArray.indexOf(u.proxy))},h=f=>{const v=new RegExp(wu(f),"i");a.visible=v.test(o.value)||e.created};return pe(()=>o.value,()=>{!e.created&&!t.props.remote&&t.setSelected()}),pe(()=>e.value,(f,v)=>{const{remote:p,valueKey:m}=t.props;if((p?f!==v:!Bt(f,v))&&(t.onOptionDestroy(v,u.proxy),t.onOptionCreate(u.proxy)),!e.created&&!p){if(m&&gt(f)&&gt(v)&&f[m]===v[m])return;t.setSelected()}}),pe(()=>n.disabled,()=>{a.groupDisabled=n.disabled},{immediate:!0}),{select:t,currentLabel:o,currentValue:s,itemSelected:r,isDisabled:l,hoverItem:d,updateOption:h}}const Fu=ne({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(e){const a=Se("select"),t=ni(),n=V(()=>[a.be("dropdown","item"),a.is("disabled",F(s)),a.is("selected",F(o)),a.is("hovering",F(h))]),r=Ae({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:i,itemSelected:o,isDisabled:s,select:l,hoverItem:u,updateOption:c}=$u(e,r),{visible:d,hover:h}=Ja(r),f=wt().proxy;l.onOptionCreate(f),ri(()=>{const p=f.value,{selected:m}=l.states,g=m.some(y=>y.value===f.value);de(()=>{l.states.cachedOptions.get(p)===f&&!g&&l.states.cachedOptions.delete(p)}),l.onOptionDestroy(p,f)});function v(){s.value||l.handleOptionSelect(f)}return{ns:a,id:t,containerKls:n,currentLabel:i,itemSelected:o,isDisabled:s,select:l,hoverItem:u,updateOption:c,visible:d,hover:h,selectOptionClick:v,states:r}}});function Wu(e,a,t,n,r,i){return Ne((N(),U("li",{id:e.id,class:B(e.containerKls),role:"option","aria-disabled":e.isDisabled||void 0,"aria-selected":e.itemSelected,onMousemove:e.hoverItem,onClick:be(e.selectOptionClick,["stop"])},[j(e.$slots,"default",{},()=>[z("span",null,se(e.currentLabel),1)])],42,["id","aria-disabled","aria-selected","onMousemove","onClick"])),[[da,e.visible]])}var ln=ze(Fu,[["render",Wu],["__file","option.vue"]]);const Hu=ne({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=Ve(ga),a=Se("select"),t=V(()=>e.props.popperClass),n=V(()=>e.props.multiple),r=V(()=>e.props.fitInputWidth),i=K("");function o(){var s;i.value=`${(s=e.selectRef)==null?void 0:s.offsetWidth}px`}return At(()=>{o(),Ie(e.selectRef,o)}),{ns:a,minWidth:i,popperClass:t,isMultiple:n,isFitInputWidth:r}}});function Uu(e,a,t,n,r,i){return N(),U("div",{class:B([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:ct({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[e.$slots.header?(N(),U("div",{key:0,class:B(e.ns.be("dropdown","header"))},[j(e.$slots,"header")],2)):J("v-if",!0),j(e.$slots,"default"),e.$slots.footer?(N(),U("div",{key:1,class:B(e.ns.be("dropdown","footer"))},[j(e.$slots,"footer")],2)):J("v-if",!0)],6)}var Xu=ze(Hu,[["render",Uu],["__file","select-dropdown.vue"]]);const Ku=(e,a)=>{const{t}=Jo(),n=ni(),r=Se("select"),i=Se("input"),o=Ae({inputValue:"",options:new Map,cachedOptions:new Map,optionValues:[],selected:[],selectionWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),s=K(null),l=K(null),u=K(null),c=K(null),d=K(null),h=K(null),f=K(null),v=K(null),p=K(null),m=K(null),g=K(null),{isComposing:y,handleCompositionStart:b,handleCompositionUpdate:x,handleCompositionEnd:S}=kl({afterComposition:C=>Cn(C)}),{wrapperRef:w,isFocused:A,handleBlur:L}=Ol(d,{beforeFocus(){return H.value},afterFocus(){e.automaticDropdown&&!_.value&&(_.value=!0,o.menuVisibleOnFocus=!0)},beforeBlur(C){var k,$;return((k=u.value)==null?void 0:k.isFocusInsideContent(C))||(($=c.value)==null?void 0:$.isFocusInsideContent(C))},afterBlur(){_.value=!1,o.menuVisibleOnFocus=!1}}),_=K(!1),D=K(),{form:T,formItem:P}=Ml(),{inputId:I}=El(e,{formItemContext:P}),{valueOnClear:E,isEmptyValue:O}=es(e),H=V(()=>e.disabled||(T==null?void 0:T.disabled)),q=V(()=>Ze(e.modelValue)?e.modelValue.length>0:!O(e.modelValue)),G=V(()=>{var C;return(C=T==null?void 0:T.statusIcon)!=null?C:!1}),X=V(()=>e.clearable&&!H.value&&o.inputHovering&&q.value),Z=V(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),oe=V(()=>r.is("reverse",Z.value&&_.value)),De=V(()=>(P==null?void 0:P.validateState)||""),Q=V(()=>ts[De.value]),ve=V(()=>e.remote?300:0),ue=V(()=>e.remote&&!o.inputValue&&o.options.size===0),Dt=V(()=>e.loading?e.loadingText||t("el.select.loading"):e.filterable&&o.inputValue&&o.options.size>0&&It.value===0?e.noMatchText||t("el.select.noMatch"):o.options.size===0?e.noDataText||t("el.select.noData"):null),It=V(()=>ce.value.filter(C=>C.visible).length),ce=V(()=>{const C=Array.from(o.options.values()),k=[];return o.optionValues.forEach($=>{const te=C.findIndex(he=>he.value===$);te>-1&&k.push(C[te])}),k.length>=C.length?k:C}),co=V(()=>Array.from(o.cachedOptions.values())),fo=V(()=>{const C=ce.value.filter(k=>!k.created).some(k=>k.currentLabel===o.inputValue);return e.filterable&&e.allowCreate&&o.inputValue!==""&&!C}),gn=()=>{e.filterable&&Nt(e.filterMethod)||e.filterable&&e.remote&&Nt(e.remoteMethod)||ce.value.forEach(C=>{var k;(k=C.updateOption)==null||k.call(C,o.inputValue)})},mn=on(),vo=V(()=>["small"].includes(mn.value)?"small":"default"),ho=V({get(){return _.value&&!ue.value},set(C){_.value=C}}),po=V(()=>{if(e.multiple&&!mt(e.modelValue))return Ue(e.modelValue).length===0&&!o.inputValue;const C=Ze(e.modelValue)?e.modelValue[0]:e.modelValue;return e.filterable||mt(C)?!o.inputValue:!0}),go=V(()=>{var C;const k=(C=e.placeholder)!=null?C:t("el.select.placeholder");return e.multiple||!q.value?k:o.selectedLabel}),mo=V(()=>Ln?null:"mouseenter");pe(()=>e.modelValue,(C,k)=>{e.multiple&&e.filterable&&!e.reserveKeyword&&(o.inputValue="",Ut("")),Xt(),!Bt(C,k)&&e.validateEvent&&(P==null||P.validate("change").catch($=>rs()))},{flush:"post",deep:!0}),pe(()=>_.value,C=>{C?Ut(o.inputValue):(o.inputValue="",o.previousQuery=null,o.isBeforeHide=!0),a("visible-change",C)}),pe(()=>o.options.entries(),()=>{is&&(Xt(),e.defaultFirstOption&&(e.filterable||e.remote)&&It.value&&yn())},{flush:"post"}),pe([()=>o.hoveringIndex,ce],([C])=>{ii(C)&&C>-1?D.value=ce.value[C]||{}:D.value={},ce.value.forEach(k=>{k.hover=D.value===k})}),as(()=>{o.isBeforeHide||gn()});const Ut=C=>{o.previousQuery===C||y.value||(o.previousQuery=C,e.filterable&&Nt(e.filterMethod)?e.filterMethod(C):e.filterable&&e.remote&&Nt(e.remoteMethod)&&e.remoteMethod(C),e.defaultFirstOption&&(e.filterable||e.remote)&&It.value?de(yn):de(yo))},yn=()=>{const C=ce.value.filter(he=>he.visible&&!he.disabled&&!he.states.groupDisabled),k=C.find(he=>he.created),$=C[0],te=ce.value.map(he=>he.value);o.hoveringIndex=Tn(te,k||$)},Xt=()=>{if(e.multiple)o.selectedLabel="";else{const k=Ze(e.modelValue)?e.modelValue[0]:e.modelValue,$=bn(k);o.selectedLabel=$.currentLabel,o.selected=[$];return}const C=[];mt(e.modelValue)||Ue(e.modelValue).forEach(k=>{C.push(bn(k))}),o.selected=C},bn=C=>{let k;const $=ns(C);for(let vt=o.cachedOptions.size-1;vt>=0;vt--){const Ge=co.value[vt];if($?it(Ge.value,e.valueKey)===it(C,e.valueKey):Ge.value===C){k={value:C,currentLabel:Ge.currentLabel,get isDisabled(){return Ge.isDisabled}};break}}if(k)return k;const te=$?C.label:C??"";return{value:C,currentLabel:te}},yo=()=>{o.hoveringIndex=ce.value.findIndex(C=>o.selected.some(k=>Zt(k)===Zt(C)))},bo=()=>{o.selectionWidth=l.value.getBoundingClientRect().width},So=()=>{o.collapseItemWidth=m.value.getBoundingClientRect().width},ya=()=>{var C,k;(k=(C=u.value)==null?void 0:C.updatePopper)==null||k.call(C)},Sn=()=>{var C,k;(k=(C=c.value)==null?void 0:C.updatePopper)==null||k.call(C)},xn=()=>{o.inputValue.length>0&&!_.value&&(_.value=!0),Ut(o.inputValue)},Cn=C=>{if(o.inputValue=C.target.value,e.remote)wn();else return xn()},wn=Rl(()=>{xn()},ve.value),Lt=C=>{Bt(e.modelValue,C)||a(_i,C)},xo=C=>Su(C,k=>{const $=o.cachedOptions.get(k);return $&&!$.disabled&&!$.states.groupDisabled}),Co=C=>{if(e.multiple&&C.code!==Ee.delete&&C.target.value.length<=0){const k=Ue(e.modelValue).slice(),$=xo(k);if($<0)return;const te=k[$];k.splice($,1),a(Xe,k),Lt(k),a("remove-tag",te)}},wo=(C,k)=>{const $=o.selected.indexOf(k);if($>-1&&!H.value){const te=Ue(e.modelValue).slice();te.splice($,1),a(Xe,te),Lt(te),a("remove-tag",k.value)}C.stopPropagation(),Yt()},An=C=>{C.stopPropagation();const k=e.multiple?[]:E.value;if(e.multiple)for(const $ of o.selected)$.isDisabled&&k.push($.value);a(Xe,k),Lt(k),o.hoveringIndex=-1,_.value=!1,a("clear"),Yt()},_n=C=>{var k;if(e.multiple){const $=Ue((k=e.modelValue)!=null?k:[]).slice(),te=Tn($,C);te>-1?$.splice(te,1):(e.multipleLimit<=0||$.length<e.multipleLimit)&&$.push(C.value),a(Xe,$),Lt($),C.created&&Ut(""),e.filterable&&!e.reserveKeyword&&(o.inputValue="")}else a(Xe,C.value),Lt(C.value),_.value=!1;Yt(),!_.value&&de(()=>{Kt(C)})},Tn=(C=[],k)=>mt(k)?-1:gt(k.value)?C.findIndex($=>Bt(it($,e.valueKey),Zt(k))):C.indexOf(k.value),Kt=C=>{var k,$,te,he,vt;const Ge=Ze(C)?C[0]:C;let qt=null;if(Ge!=null&&Ge.value){const Pt=ce.value.filter(Go=>Go.value===Ge.value);Pt.length>0&&(qt=Pt[0].$el)}if(u.value&&qt){const Pt=(he=(te=($=(k=u.value)==null?void 0:k.popperRef)==null?void 0:$.contentRef)==null?void 0:te.querySelector)==null?void 0:he.call(te,`.${r.be("dropdown","wrap")}`);Pt&&Dl(Pt,qt)}(vt=g.value)==null||vt.handleScroll()},Ao=C=>{o.options.set(C.value,C),o.cachedOptions.set(C.value,C)},_o=(C,k)=>{o.options.get(C)===k&&o.options.delete(C)},To=V(()=>{var C,k;return(k=(C=u.value)==null?void 0:C.popperRef)==null?void 0:k.contentRef}),Do=()=>{o.isBeforeHide=!1,de(()=>{var C;(C=g.value)==null||C.update(),Kt(o.selected)})},Yt=()=>{var C;(C=d.value)==null||C.focus()},Io=()=>{var C;if(_.value){_.value=!1,de(()=>{var k;return(k=d.value)==null?void 0:k.blur()});return}(C=d.value)==null||C.blur()},Lo=C=>{An(C)},Po=C=>{if(_.value=!1,A.value){const k=new FocusEvent("focus",C);de(()=>L(k))}},ko=()=>{o.inputValue.length>0?o.inputValue="":_.value=!1},Dn=()=>{H.value||(Ln&&(o.inputHovering=!0),o.menuVisibleOnFocus?o.menuVisibleOnFocus=!1:_.value=!_.value)},Oo=()=>{if(!_.value)Dn();else{const C=ce.value[o.hoveringIndex];C&&!C.isDisabled&&_n(C)}},Zt=C=>gt(C.value)?it(C.value,e.valueKey):C.value,Mo=V(()=>ce.value.filter(C=>C.visible).every(C=>C.isDisabled)),Eo=V(()=>e.multiple?e.collapseTags?o.selected.slice(0,e.maxCollapseTags):o.selected:[]),Ro=V(()=>e.multiple?e.collapseTags?o.selected.slice(e.maxCollapseTags):[]:[]),In=C=>{if(!_.value){_.value=!0;return}if(!(o.options.size===0||It.value===0||y.value)&&!Mo.value){C==="next"?(o.hoveringIndex++,o.hoveringIndex===o.options.size&&(o.hoveringIndex=0)):C==="prev"&&(o.hoveringIndex--,o.hoveringIndex<0&&(o.hoveringIndex=o.options.size-1));const k=ce.value[o.hoveringIndex];(k.isDisabled||!k.visible)&&In(C),de(()=>Kt(D.value))}},No=()=>{if(!l.value)return 0;const C=window.getComputedStyle(l.value);return Number.parseFloat(C.gap||"6px")},Vo=V(()=>{const C=No();return{maxWidth:`${m.value&&e.maxCollapseTags===1?o.selectionWidth-o.collapseItemWidth-C:o.selectionWidth}px`}}),Bo=V(()=>({maxWidth:`${o.selectionWidth}px`})),zo=C=>{a("popup-scroll",C)};return Ie(l,bo),Ie(v,ya),Ie(w,ya),Ie(p,Sn),Ie(m,So),At(()=>{Xt()}),{inputId:I,contentId:n,nsSelect:r,nsInput:i,states:o,isFocused:A,expanded:_,optionsArray:ce,hoverOption:D,selectSize:mn,filteredOptionsCount:It,updateTooltip:ya,updateTagTooltip:Sn,debouncedOnInputChange:wn,onInput:Cn,deletePrevTag:Co,deleteTag:wo,deleteSelected:An,handleOptionSelect:_n,scrollToOption:Kt,hasModelValue:q,shouldShowPlaceholder:po,currentPlaceholder:go,mouseEnterEventName:mo,needStatusIcon:G,showClose:X,iconComponent:Z,iconReverse:oe,validateState:De,validateIcon:Q,showNewOption:fo,updateOptions:gn,collapseTagSize:vo,setSelected:Xt,selectDisabled:H,emptyText:Dt,handleCompositionStart:b,handleCompositionUpdate:x,handleCompositionEnd:S,onOptionCreate:Ao,onOptionDestroy:_o,handleMenuEnter:Do,focus:Yt,blur:Io,handleClearClick:Lo,handleClickOutside:Po,handleEsc:ko,toggleMenu:Dn,selectOption:Oo,getValueKey:Zt,navigateOptions:In,dropdownMenuVisible:ho,showTagList:Eo,collapseTagList:Ro,popupScroll:zo,tagStyle:Vo,collapseTagStyle:Bo,popperRef:To,inputRef:d,tooltipRef:u,tagTooltipRef:c,prefixRef:h,suffixRef:f,selectRef:s,wrapperRef:w,selectionRef:l,scrollbarRef:g,menuRef:v,tagMenuRef:p,collapseItemRef:m}};var Yu=ne({name:"ElOptions",setup(e,{slots:a}){const t=Ve(ga);let n=[];return()=>{var r,i;const o=(r=a.default)==null?void 0:r.call(a),s=[];function l(u){Ze(u)&&u.forEach(c=>{var d,h,f,v;const p=(d=(c==null?void 0:c.type)||{})==null?void 0:d.name;p==="ElOptionGroup"?l(!oi(c.children)&&!Ze(c.children)&&Nt((h=c.children)==null?void 0:h.default)?(f=c.children)==null?void 0:f.default():c.children):p==="ElOption"?s.push((v=c.props)==null?void 0:v.value):Ze(c.children)&&l(c.children)})}return o.length&&l((i=o[0])==null?void 0:i.children),Bt(s,n)||(n=s,t&&(t.states.optionValues=s)),o}}});const Zu=Be({name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:ti,effect:{type:Ye(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Ye(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:ds.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:Pn,default:cs},fitInputWidth:Boolean,suffixIcon:{type:Pn,default:us},tagType:{...Ga.type,default:"info"},tagEffect:{...Ga.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:Ye(String),values:ls,default:"bottom-start"},fallbackPlacements:{type:Ye(Array),default:["bottom-start","top-start","right","left"]},tabindex:{type:[String,Number],default:0},appendTo:String,...ss,...os(["ariaLabel"])}),er="ElSelect",qu=ne({name:er,componentName:er,components:{ElSelectMenu:Xu,ElOption:ln,ElOptions:Yu,ElTag:Iu,ElScrollbar:Nl,ElTooltip:gs,ElIcon:ut},directives:{ClickOutside:ps},props:Zu,emits:[Xe,_i,"remove-tag","clear","visible-change","focus","blur","popup-scroll"],setup(e,{emit:a}){const t=V(()=>{const{modelValue:l,multiple:u}=e,c=u?[]:void 0;return Ze(l)?u?l:c:u?c:l}),n=Ae({...Ja(e),modelValue:t}),r=Ku(n,a),{calculatorRef:i,inputStyle:o}=Gu();ua(ga,Ae({props:n,states:r.states,optionsArray:r.optionsArray,handleOptionSelect:r.handleOptionSelect,onOptionCreate:r.onOptionCreate,onOptionDestroy:r.onOptionDestroy,selectRef:r.selectRef,setSelected:r.setSelected}));const s=V(()=>e.multiple?r.states.selected.map(l=>l.currentLabel):r.states.selectedLabel);return{...r,modelValue:t,selectedLabel:s,calculatorRef:i,inputStyle:o}}});function ju(e,a,t,n,r,i){const o=nt("el-tag"),s=nt("el-tooltip"),l=nt("el-icon"),u=nt("el-option"),c=nt("el-options"),d=nt("el-scrollbar"),h=nt("el-select-menu"),f=fs("click-outside");return Ne((N(),U("div",{ref:"selectRef",class:B([e.nsSelect.b(),e.nsSelect.m(e.selectSize)]),[hs(e.mouseEnterEventName)]:v=>e.states.inputHovering=!0,onMouseleave:v=>e.states.inputHovering=!1},[R(s,{ref:"tooltipRef",visible:e.dropdownMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,"append-to":e.appendTo,"show-arrow":e.showArrow,offset:e.offset,onBeforeShow:e.handleMenuEnter,onHide:v=>e.states.isBeforeHide=!1},{default:W(()=>{var v;return[z("div",{ref:"wrapperRef",class:B([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)]),onClick:be(e.toggleMenu,["prevent"])},[e.$slots.prefix?(N(),U("div",{key:0,ref:"prefixRef",class:B(e.nsSelect.e("prefix"))},[j(e.$slots,"prefix")],2)):J("v-if",!0),z("div",{ref:"selectionRef",class:B([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.states.selected.length)])},[e.multiple?j(e.$slots,"tag",{key:0},()=>[(N(!0),U(we,null,Je(e.showTagList,p=>(N(),U("div",{key:e.getValueKey(p),class:B(e.nsSelect.e("selected-item"))},[R(o,{closable:!e.selectDisabled&&!p.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:ct(e.tagStyle),onClose:m=>e.deleteTag(m,p)},{default:W(()=>[z("span",{class:B(e.nsSelect.e("tags-text"))},[j(e.$slots,"label",{label:p.currentLabel,value:p.value},()=>[Ce(se(p.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),e.collapseTags&&e.states.selected.length>e.maxCollapseTags?(N(),re(s,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:W(()=>[z("div",{ref:"collapseItemRef",class:B(e.nsSelect.e("selected-item"))},[R(o,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:ct(e.collapseTagStyle)},{default:W(()=>[z("span",{class:B(e.nsSelect.e("tags-text"))}," + "+se(e.states.selected.length-e.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:W(()=>[z("div",{ref:"tagMenuRef",class:B(e.nsSelect.e("selection"))},[(N(!0),U(we,null,Je(e.collapseTagList,p=>(N(),U("div",{key:e.getValueKey(p),class:B(e.nsSelect.e("selected-item"))},[R(o,{class:"in-tooltip",closable:!e.selectDisabled&&!p.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",onClose:m=>e.deleteTag(m,p)},{default:W(()=>[z("span",{class:B(e.nsSelect.e("tags-text"))},[j(e.$slots,"label",{label:p.currentLabel,value:p.value},()=>[Ce(se(p.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):J("v-if",!0)]):J("v-if",!0),z("div",{class:B([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable)])},[Ne(z("input",{id:e.inputId,ref:"inputRef","onUpdate:modelValue":p=>e.states.inputValue=p,type:"text",name:e.name,class:B([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:ct(e.inputStyle),tabindex:e.tabindex,role:"combobox",readonly:!e.filterable,spellcheck:"false","aria-activedescendant":((v=e.hoverOption)==null?void 0:v.id)||"","aria-controls":e.contentId,"aria-expanded":e.dropdownMenuVisible,"aria-label":e.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:[Ot(be(p=>e.navigateOptions("next"),["stop","prevent"]),["down"]),Ot(be(p=>e.navigateOptions("prev"),["stop","prevent"]),["up"]),Ot(be(e.handleEsc,["stop","prevent"]),["esc"]),Ot(be(e.selectOption,["stop","prevent"]),["enter"]),Ot(be(e.deletePrevTag,["stop"]),["delete"])],onCompositionstart:e.handleCompositionStart,onCompositionupdate:e.handleCompositionUpdate,onCompositionend:e.handleCompositionEnd,onInput:e.onInput,onClick:be(e.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","name","disabled","autocomplete","tabindex","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onClick"]),[[vs,e.states.inputValue]]),e.filterable?(N(),U("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:B(e.nsSelect.e("input-calculator")),textContent:se(e.states.inputValue)},null,10,["textContent"])):J("v-if",!0)],2),e.shouldShowPlaceholder?(N(),U("div",{key:1,class:B([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?j(e.$slots,"label",{key:0,label:e.currentPlaceholder,value:e.modelValue},()=>[z("span",null,se(e.currentPlaceholder),1)]):(N(),U("span",{key:1},se(e.currentPlaceholder),1))],2)):J("v-if",!0)],2),z("div",{ref:"suffixRef",class:B(e.nsSelect.e("suffix"))},[e.iconComponent&&!e.showClose?(N(),re(l,{key:0,class:B([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:W(()=>[(N(),re(Sa(e.iconComponent)))]),_:1},8,["class"])):J("v-if",!0),e.showClose&&e.clearIcon?(N(),re(l,{key:1,class:B([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.nsSelect.e("clear")]),onClick:e.handleClearClick},{default:W(()=>[(N(),re(Sa(e.clearIcon)))]),_:1},8,["class","onClick"])):J("v-if",!0),e.validateState&&e.validateIcon&&e.needStatusIcon?(N(),re(l,{key:2,class:B([e.nsInput.e("icon"),e.nsInput.e("validateIcon"),e.nsInput.is("loading",e.validateState==="validating")])},{default:W(()=>[(N(),re(Sa(e.validateIcon)))]),_:1},8,["class"])):J("v-if",!0)],2)],10,["onClick"])]}),content:W(()=>[R(h,{ref:"menuRef"},{default:W(()=>[e.$slots.header?(N(),U("div",{key:0,class:B(e.nsSelect.be("dropdown","header")),onClick:be(()=>{},["stop"])},[j(e.$slots,"header")],10,["onClick"])):J("v-if",!0),Ne(R(d,{id:e.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:B([e.nsSelect.is("empty",e.filteredOptionsCount===0)]),role:"listbox","aria-label":e.ariaLabel,"aria-orientation":"vertical",onScroll:e.popupScroll},{default:W(()=>[e.showNewOption?(N(),re(u,{key:0,value:e.states.inputValue,created:!0},null,8,["value"])):J("v-if",!0),R(c,null,{default:W(()=>[j(e.$slots,"default")]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label","onScroll"]),[[da,e.states.options.size>0&&!e.loading]]),e.$slots.loading&&e.loading?(N(),U("div",{key:1,class:B(e.nsSelect.be("dropdown","loading"))},[j(e.$slots,"loading")],2)):e.loading||e.filteredOptionsCount===0?(N(),U("div",{key:2,class:B(e.nsSelect.be("dropdown","empty"))},[j(e.$slots,"empty",{},()=>[z("span",null,se(e.emptyText),1)])],2)):J("v-if",!0),e.$slots.footer?(N(),U("div",{key:3,class:B(e.nsSelect.be("dropdown","footer")),onClick:be(()=>{},["stop"])},[j(e.$slots,"footer")],10,["onClick"])):J("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],16,["onMouseleave"])),[[f,e.handleClickOutside,e.popperRef]])}var Qu=ze(qu,[["render",ju],["__file","select.vue"]]);const Ju=ne({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(e){const a=Se("select"),t=K(null),n=wt(),r=K([]);ua(ki,Ae({...Ja(e)}));const i=V(()=>r.value.some(u=>u.visible===!0)),o=u=>{var c,d;return((c=u.type)==null?void 0:c.name)==="ElOption"&&!!((d=u.component)!=null&&d.proxy)},s=u=>{const c=Ue(u),d=[];return c.forEach(h=>{var f,v;o(h)?d.push(h.component.proxy):(f=h.children)!=null&&f.length?d.push(...s(h.children)):(v=h.component)!=null&&v.subTree&&d.push(...s(h.component.subTree))}),d},l=()=>{r.value=s(n.subTree)};return At(()=>{l()}),ms(t,l,{attributes:!0,subtree:!0,childList:!0}),{groupRef:t,visible:i,ns:a}}});function ec(e,a,t,n,r,i){return Ne((N(),U("ul",{ref:"groupRef",class:B(e.ns.be("group","wrap"))},[z("li",{class:B(e.ns.be("group","title"))},se(e.label),3),z("li",null,[z("ul",{class:B(e.ns.b("group"))},[j(e.$slots,"default")],2)])],2)),[[da,e.visible]])}var Oi=ze(Ju,[["render",ec],["__file","option-group.vue"]]);const tc=la(Qu,{Option:ln,OptionGroup:Oi}),ac=ca(ln);ca(Oi);const ma=Symbol("tabsRootContextKey"),nc=Be({tabs:{type:Ye(Array),default:()=>si([])}}),Mi="ElTabBar",rc=ne({name:Mi}),ic=ne({...rc,props:nc,setup(e,{expose:a}){const t=e,n=wt(),r=Ve(ma);r||en(Mi,"<el-tabs><el-tab-bar /></el-tabs>");const i=Se("tabs"),o=K(),s=K(),l=()=>{let f=0,v=0;const p=["top","bottom"].includes(r.props.tabPosition)?"width":"height",m=p==="width"?"x":"y",g=m==="x"?"left":"top";return t.tabs.every(y=>{var b,x;const S=(x=(b=n.parent)==null?void 0:b.refs)==null?void 0:x[`tab-${y.uid}`];if(!S)return!1;if(!y.active)return!0;f=S[`offset${Ke(g)}`],v=S[`client${Ke(p)}`];const w=window.getComputedStyle(S);return p==="width"&&(v-=Number.parseFloat(w.paddingLeft)+Number.parseFloat(w.paddingRight),f+=Number.parseFloat(w.paddingLeft)),!1}),{[p]:`${v}px`,transform:`translate${Ke(m)}(${f}px)`}},u=()=>s.value=l(),c=[],d=()=>{var f;c.forEach(p=>p.stop()),c.length=0;const v=(f=n.parent)==null?void 0:f.refs;if(v){for(const p in v)if(p.startsWith("tab-")){const m=v[p];m&&c.push(Ie(m,u))}}};pe(()=>t.tabs,async()=>{await de(),u(),d()},{immediate:!0});const h=Ie(o,()=>u());return ri(()=>{c.forEach(f=>f.stop()),c.length=0,h.stop()}),a({ref:o,update:u}),(f,v)=>(N(),U("div",{ref_key:"barRef",ref:o,class:B([F(i).e("active-bar"),F(i).is(F(r).props.tabPosition)]),style:ct(s.value)},null,6))}});var oc=ze(ic,[["__file","tab-bar.vue"]]);const sc=Be({panes:{type:Ye(Array),default:()=>si([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),lc={tabClick:(e,a,t)=>t instanceof Event,tabRemove:(e,a)=>a instanceof Event},tr="ElTabNav",uc=ne({name:tr,props:sc,emits:lc,setup(e,{expose:a,emit:t}){const n=Ve(ma);n||en(tr,"<el-tabs><tab-nav /></el-tabs>");const r=Se("tabs"),i=ys(),o=bs(),s=K(),l=K(),u=K(),c=K(),d=K(!1),h=K(0),f=K(!1),v=K(!0),p=V(()=>["top","bottom"].includes(n.props.tabPosition)?"width":"height"),m=V(()=>({transform:`translate${p.value==="width"?"X":"Y"}(-${h.value}px)`})),g=()=>{if(!s.value)return;const L=s.value[`offset${Ke(p.value)}`],_=h.value;if(!_)return;const D=_>L?_-L:0;h.value=D},y=()=>{if(!s.value||!l.value)return;const L=l.value[`offset${Ke(p.value)}`],_=s.value[`offset${Ke(p.value)}`],D=h.value;if(L-D<=_)return;const T=L-D>_*2?D+_:L-_;h.value=T},b=async()=>{const L=l.value;if(!d.value||!u.value||!s.value||!L)return;await de();const _=u.value.querySelector(".is-active");if(!_)return;const D=s.value,T=["top","bottom"].includes(n.props.tabPosition),P=_.getBoundingClientRect(),I=D.getBoundingClientRect(),E=T?L.offsetWidth-I.width:L.offsetHeight-I.height,O=h.value;let H=O;T?(P.left<I.left&&(H=O-(I.left-P.left)),P.right>I.right&&(H=O+P.right-I.right)):(P.top<I.top&&(H=O-(I.top-P.top)),P.bottom>I.bottom&&(H=O+(P.bottom-I.bottom))),H=Math.max(H,0),h.value=Math.min(H,E)},x=()=>{var L;if(!l.value||!s.value)return;e.stretch&&((L=c.value)==null||L.update());const _=l.value[`offset${Ke(p.value)}`],D=s.value[`offset${Ke(p.value)}`],T=h.value;D<_?(d.value=d.value||{},d.value.prev=T,d.value.next=T+D<_,_-T<D&&(h.value=_-D)):(d.value=!1,T>0&&(h.value=0))},S=L=>{let _=0;switch(L.code){case Ee.left:case Ee.up:_=-1;break;case Ee.right:case Ee.down:_=1;break;default:return}const D=Array.from(L.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)"));let P=D.indexOf(L.target)+_;P<0?P=D.length-1:P>=D.length&&(P=0),D[P].focus({preventScroll:!0}),D[P].click(),w()},w=()=>{v.value&&(f.value=!0)},A=()=>f.value=!1;return pe(i,L=>{L==="hidden"?v.value=!1:L==="visible"&&setTimeout(()=>v.value=!0,50)}),pe(o,L=>{L?setTimeout(()=>v.value=!0,50):v.value=!1}),Ie(u,x),At(()=>setTimeout(()=>b(),0)),Ss(()=>x()),a({scrollToActiveTab:b,removeFocus:A}),()=>{const L=d.value?[R("span",{class:[r.e("nav-prev"),r.is("disabled",!d.value.prev)],onClick:g},[R(ut,null,{default:()=>[R(xs,null,null)]})]),R("span",{class:[r.e("nav-next"),r.is("disabled",!d.value.next)],onClick:y},[R(ut,null,{default:()=>[R(Cs,null,null)]})])]:null,_=e.panes.map((D,T)=>{var P,I,E,O;const H=D.uid,q=D.props.disabled,G=(I=(P=D.props.name)!=null?P:D.index)!=null?I:`${T}`,X=!q&&(D.isClosable||e.editable);D.index=`${T}`;const Z=X?R(ut,{class:"is-icon-close",onClick:Q=>t("tabRemove",D,Q)},{default:()=>[R(Ra,null,null)]}):null,oe=((O=(E=D.slots).label)==null?void 0:O.call(E))||D.props.label,De=!q&&D.active?0:-1;return R("div",{ref:`tab-${H}`,class:[r.e("item"),r.is(n.props.tabPosition),r.is("active",D.active),r.is("disabled",q),r.is("closable",X),r.is("focus",f.value)],id:`tab-${G}`,key:`tab-${H}`,"aria-controls":`pane-${G}`,role:"tab","aria-selected":D.active,tabindex:De,onFocus:()=>w(),onBlur:()=>A(),onClick:Q=>{A(),t("tabClick",D,G,Q)},onKeydown:Q=>{X&&(Q.code===Ee.delete||Q.code===Ee.backspace)&&t("tabRemove",D,Q)}},[oe,Z])});return R("div",{ref:u,class:[r.e("nav-wrap"),r.is("scrollable",!!d.value),r.is(n.props.tabPosition)]},[L,R("div",{class:r.e("nav-scroll"),ref:s},[R("div",{class:[r.e("nav"),r.is(n.props.tabPosition),r.is("stretch",e.stretch&&["top","bottom"].includes(n.props.tabPosition))],ref:l,style:m.value,role:"tablist",onKeydown:S},[e.type?null:R(oc,{ref:c,tabs:[...e.panes]},null),_])])])}}}),cc=Be({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:Ye(Function),default:()=>!0},stretch:Boolean}),wa=e=>oi(e)||ii(e),dc={[Xe]:e=>wa(e),tabClick:(e,a)=>a instanceof Event,tabChange:e=>wa(e),edit:(e,a)=>["remove","add"].includes(a),tabRemove:e=>wa(e),tabAdd:()=>!0},fc=ne({name:"ElTabs",props:cc,emits:dc,setup(e,{emit:a,slots:t,expose:n}){var r;const i=Se("tabs"),o=V(()=>["left","right"].includes(e.tabPosition)),{children:s,addChild:l,removeChild:u}=Cu(wt(),"ElTabPane"),c=K(),d=K((r=e.modelValue)!=null?r:"0"),h=async(g,y=!1)=>{var b,x;if(!(d.value===g||mt(g)))try{let S;if(e.beforeLeave){const w=e.beforeLeave(g,d.value);S=w instanceof Promise?await w:w}else S=!0;S!==!1&&(d.value=g,y&&(a(Xe,g),a("tabChange",g)),(x=(b=c.value)==null?void 0:b.removeFocus)==null||x.call(b))}catch{}},f=(g,y,b)=>{g.props.disabled||(h(y,!0),a("tabClick",g,b))},v=(g,y)=>{g.props.disabled||mt(g.props.name)||(y.stopPropagation(),a("edit",g.props.name,"remove"),a("tabRemove",g.props.name))},p=()=>{a("edit",void 0,"add"),a("tabAdd")};pe(()=>e.modelValue,g=>h(g)),pe(d,async()=>{var g;await de(),(g=c.value)==null||g.scrollToActiveTab()}),ua(ma,{props:e,currentName:d,registerPane:g=>{s.value.push(g)},sortPane:l,unregisterPane:u}),n({currentName:d});const m=({render:g})=>g();return()=>{const g=t["add-icon"],y=e.editable||e.addable?R("div",{class:[i.e("new-tab"),o.value&&i.e("new-tab-vertical")],tabindex:"0",onClick:p,onKeydown:S=>{[Ee.enter,Ee.numpadEnter].includes(S.code)&&p()}},[g?j(t,"add-icon"):R(ut,{class:i.is("icon-plus")},{default:()=>[R(ws,null,null)]})]):null,b=R("div",{class:[i.e("header"),o.value&&i.e("header-vertical"),i.is(e.tabPosition)]},[R(m,{render:()=>{const S=s.value.some(w=>w.slots.label);return R(uc,{ref:c,currentName:d.value,editable:e.editable,type:e.type,panes:s.value,stretch:e.stretch,onTabClick:f,onTabRemove:v},{$stable:!S})}},null),y]),x=R("div",{class:i.e("content")},[j(t,"default")]);return R("div",{class:[i.b(),i.m(e.tabPosition),{[i.m("card")]:e.type==="card",[i.m("border-card")]:e.type==="border-card"}]},[x,b])}}});var vc=fc;const hc=Be({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),Ei="ElTabPane",pc=ne({name:Ei}),gc=ne({...pc,props:hc,setup(e){const a=e,t=wt(),n=ai(),r=Ve(ma);r||en(Ei,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const i=Se("tab-pane"),o=K(),s=V(()=>a.closable||r.props.closable),l=kn(()=>{var f;return r.currentName.value===((f=a.name)!=null?f:o.value)}),u=K(l.value),c=V(()=>{var f;return(f=a.name)!=null?f:o.value}),d=kn(()=>!a.lazy||u.value||l.value);pe(l,f=>{f&&(u.value=!0)});const h=Ae({uid:t.uid,slots:n,props:a,paneName:c,active:l,index:o,isClosable:s});return r.registerPane(h),At(()=>{r.sortPane(h)}),li(()=>{r.unregisterPane(h.uid)}),(f,v)=>F(d)?Ne((N(),U("div",{key:0,id:`pane-${F(c)}`,class:B(F(i).b()),role:"tabpanel","aria-hidden":!F(l),"aria-labelledby":`tab-${F(c)}`},[j(f.$slots,"default")],10,["id","aria-hidden","aria-labelledby"])),[[da,F(l)]]):J("v-if",!0)}});var Ri=ze(gc,[["__file","tab-pane.vue"]]);const mc=la(vc,{TabPane:Ri}),yc=ca(Ri);function bc(e,a){As(e)||(e=_s(e)),a=a||{};var t=a.coordDimensions||[],n=a.dimensionsDefine||e.dimensionsDefine||[],r=tt(),i=[],o=xc(e,t,n,a.dimensionsCount),s=a.canOmitUnusedDimensions&&Wl(o),l=n===e.dimensionsDefine,u=l?Hl(e):Ul(n),c=a.encodeDefine;!c&&a.encodeDefaulter&&(c=a.encodeDefaulter(e,o));for(var d=tt(c),h=new Ts(o),f=0;f<h.length;f++)h[f]=-1;function v(_){var D=h[_];if(D<0){var T=n[_],P=Pe(T)?T:{name:T},I=new Gl,E=P.name;E!=null&&u.get(E)!=null&&(I.name=I.displayName=E),P.type!=null&&(I.type=P.type),P.displayName!=null&&(I.displayName=P.displayName);var O=i.length;return h[_]=O,I.storeDimIndex=_,i.push(I),I}return i[D]}if(!s)for(var f=0;f<o;f++)v(f);d.each(function(_,D){var T=On(_).slice();if(T.length===1&&!ae(T[0])&&T[0]<0){d.set(D,!1);return}var P=d.set(D,[]);M(T,function(I,E){var O=ae(I)?u.get(I):I;O!=null&&O<o&&(P[E]=O,m(v(O),D,E))})});var p=0;M(t,function(_){var D,T,P,I;if(ae(_))D=_,I={};else{I=_,D=I.name;var E=I.ordinalMeta;I.ordinalMeta=null,I=xe({},I),I.ordinalMeta=E,T=I.dimsDef,P=I.otherDims,I.name=I.coordDim=I.coordDimIndex=I.dimsDef=I.otherDims=null}var O=d.get(D);if(O!==!1){if(O=On(O),!O.length)for(var H=0;H<(T&&T.length||1);H++){for(;p<o&&v(p).coordDim!=null;)p++;p<o&&O.push(p++)}M(O,function(q,G){var X=v(q);if(l&&I.type!=null&&(X.type=I.type),m(fe(X,I),D,G),X.name==null&&T){var Z=T[G];!Pe(Z)&&(Z={name:Z}),X.name=X.displayName=Z.name,X.defaultTooltip=Z.defaultTooltip}P&&fe(X.otherDims,P)})}});function m(_,D,T){Ds.get(D)!=null?_.otherDims[D]=T:(_.coordDim=D,_.coordDimIndex=T,r.set(D,!0))}var g=a.generateCoord,y=a.generateCoordCount,b=y!=null;y=g?y||1:0;var x=g||"value";function S(_){_.name==null&&(_.name=_.coordDim)}if(s)M(i,function(_){S(_)}),i.sort(function(_,D){return _.storeDimIndex-D.storeDimIndex});else for(var w=0;w<o;w++){var A=v(w),L=A.coordDim;L==null&&(A.coordDim=Cc(x,r,b),A.coordDimIndex=0,(!g||y<=0)&&(A.isExtraCoord=!0),y--),S(A),A.type==null&&(Is(e,w)===Ls.Must||A.isExtraCoord&&(A.otherDims.itemName!=null||A.otherDims.seriesName!=null))&&(A.type="ordinal")}return Sc(i),new Xl({source:e,dimensions:i,fullDimensionCount:o,dimensionOmitted:s})}function Sc(e){for(var a=tt(),t=0;t<e.length;t++){var n=e[t],r=n.name,i=a.get(r)||0;i>0&&(n.name=r+(i-1)),i++,a.set(r,i)}}function xc(e,a,t,n){var r=Math.max(e.dimensionsDetectedCount||1,a.length,t.length,n||0);return M(a,function(i){var o;Pe(i)&&(o=i.dimsDef)&&(r=Math.max(r,o.length))}),r}function Cc(e,a,t){if(t||a.hasKey(e)){for(var n=0;a.hasKey(e+n);)n++;e+=n}return a.set(e,!0),e}var wc=function(){function e(a){this.coordSysDims=[],this.axisMap=tt(),this.categoryAxisMap=tt(),this.coordSysName=a}return e}();function Ac(e){var a=e.get("coordinateSystem"),t=new wc(a),n=_c[a];if(n)return n(e,t,t.axisMap,t.categoryAxisMap),t}var _c={cartesian2d:function(e,a,t,n){var r=e.getReferringComponents("xAxis",qe).models[0],i=e.getReferringComponents("yAxis",qe).models[0];a.coordSysDims=["x","y"],t.set("x",r),t.set("y",i),ht(r)&&(n.set("x",r),a.firstCategoryDimIndex=0),ht(i)&&(n.set("y",i),a.firstCategoryDimIndex==null&&(a.firstCategoryDimIndex=1))},singleAxis:function(e,a,t,n){var r=e.getReferringComponents("singleAxis",qe).models[0];a.coordSysDims=["single"],t.set("single",r),ht(r)&&(n.set("single",r),a.firstCategoryDimIndex=0)},polar:function(e,a,t,n){var r=e.getReferringComponents("polar",qe).models[0],i=r.findAxisModel("radiusAxis"),o=r.findAxisModel("angleAxis");a.coordSysDims=["radius","angle"],t.set("radius",i),t.set("angle",o),ht(i)&&(n.set("radius",i),a.firstCategoryDimIndex=0),ht(o)&&(n.set("angle",o),a.firstCategoryDimIndex==null&&(a.firstCategoryDimIndex=1))},geo:function(e,a,t,n){a.coordSysDims=["lng","lat"]},parallel:function(e,a,t,n){var r=e.ecModel,i=r.getComponent("parallel",e.get("parallelIndex")),o=a.coordSysDims=i.dimensions.slice();M(i.parallelAxisIndex,function(s,l){var u=r.getComponent("parallelAxis",s),c=o[l];t.set(c,u),ht(u)&&(n.set(c,u),a.firstCategoryDimIndex==null&&(a.firstCategoryDimIndex=l))})}};function ht(e){return e.get("type")==="category"}function Tc(e,a){var t=e.get("coordinateSystem"),n=ks.get(t),r;return a&&a.coordSysDims&&(r=Oe(a.coordSysDims,function(i){var o={name:i},s=a.axisMap.get(i);if(s){var l=s.get("type");o.type=Fl(l)}return o})),r||(r=n&&(n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice())||["x","y"]),r}function Dc(e,a,t){var n,r;return t&&M(e,function(i,o){var s=i.coordDim,l=t.categoryAxisMap.get(s);l&&(n==null&&(n=o),i.ordinalMeta=l.getOrdinalMeta(),a&&(i.createInvertedIndices=!0)),i.otherDims.itemName!=null&&(r=!0)}),!r&&n!=null&&(e[n].otherDims.itemName=0),n}function un(e,a,t){t=t||{};var n=a.getSourceManager(),r,i=!1;r=n.getSource(),i=r.sourceFormat===ui;var o=Ac(a),s=Tc(a,o),l=t.useEncodeDefaulter,u=me(l)?l:l?le(Ps,s,a):null,c={coordDimensions:s,generateCoord:t.generateCoord,encodeDefine:a.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!i},d=bc(r,c),h=Dc(d.dimensions,t.createInvertedIndices,o),f=i?null:n.getSharedDataStore(d),v=Kl(a,{schema:d,store:f}),p=new $l(d,a);p.setCalculationInfo(v);var m=h!=null&&Ic(r)?function(g,y,b,x){return x===h?b:this.defaultDimValueGetter(g,y,b,x)}:null;return p.hasItemOption=!1,p.initData(i?r:f,null,m),p}function Ic(e){if(e.sourceFormat===ui){var a=Lc(e.data||[]);return!ie(Os(a))}}function Lc(e){for(var a=0;a<e.length&&e[a]==null;)a++;return e[a]}var Pc=function(){function e(){}return e.prototype.getNeedCrossZero=function(){var a=this.option;return!a.scale},e.prototype.getCoordSysModel=function(){},e}(),kc=function(){function e(a){this.type="cartesian",this._dimList=[],this._axes={},this.name=a||""}return e.prototype.getAxis=function(a){return this._axes[a]},e.prototype.getAxes=function(){return Oe(this._dimList,function(a){return this._axes[a]},this)},e.prototype.getAxesByScale=function(a){return a=a.toLowerCase(),ci(this.getAxes(),function(t){return t.scale.type===a})},e.prototype.addAxis=function(a){var t=a.dim;this._axes[t]=a,this._dimList.push(t)},e}(),Oc=function(e){Y(a,e);function a(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=a.type,t.hasSymbolVisual=!0,t}return a.prototype.getInitialData=function(t){return un(null,this,{useEncodeDefaulter:!0})},a.prototype.getLegendIcon=function(t){var n=new _e,r=zt("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);n.add(r),r.setStyle(t.lineStyle);var i=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),s=i==="none"?"circle":i,l=t.itemHeight*.8,u=zt(s,(t.itemWidth-l)/2,(t.itemHeight-l)/2,l,l,t.itemStyle.fill);n.add(u),u.setStyle(t.itemStyle);var c=t.iconRotate==="inherit"?o:t.iconRotate||0;return u.rotation=c*Math.PI/180,u.setOrigin([t.itemWidth/2,t.itemHeight/2]),s.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill="#fff",u.style.lineWidth=2),n},a.type="series.line",a.dependencies=["grid","polar"],a.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},a}(tn);function cn(e,a){var t=e.mapDimensionsAll("defaultedLabel"),n=t.length;if(n===1){var r=Mn(e,a,t[0]);return r!=null?r+"":null}else if(n){for(var i=[],o=0;o<t.length;o++)i.push(Mn(e,a,t[o]));return i.join(" ")}}function Ni(e,a){var t=e.mapDimensionsAll("defaultedLabel");if(!ie(a))return a+"";for(var n=[],r=0;r<t.length;r++){var i=e.getDimensionIndex(t[r]);i>=0&&n.push(a[i])}return n.join(" ")}var dn=function(e){Y(a,e);function a(t,n,r,i){var o=e.call(this)||this;return o.updateData(t,n,r,i),o}return a.prototype._createSymbol=function(t,n,r,i,o){this.removeAll();var s=zt(t,-1,-1,2,2,null,o);s.attr({z2:100,culling:!0,scaleX:i[0]/2,scaleY:i[1]/2}),s.drift=Mc,this._symbolType=t,this.add(s)},a.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},a.prototype.getSymbolType=function(){return this._symbolType},a.prototype.getSymbolPath=function(){return this.childAt(0)},a.prototype.highlight=function(){Ms(this.childAt(0))},a.prototype.downplay=function(){Es(this.childAt(0))},a.prototype.setZ=function(t,n){var r=this.childAt(0);r.zlevel=t,r.z=n},a.prototype.setDraggable=function(t,n){var r=this.childAt(0);r.draggable=t,r.cursor=!n&&t?"move":r.cursor},a.prototype.updateData=function(t,n,r,i){this.silent=!1;var o=t.getItemVisual(n,"symbol")||"circle",s=t.hostModel,l=a.getSymbolSize(t,n),u=o!==this._symbolType,c=i&&i.disableAnimation;if(u){var d=t.getItemVisual(n,"symbolKeepAspect");this._createSymbol(o,t,n,l,d)}else{var h=this.childAt(0);h.silent=!1;var f={scaleX:l[0]/2,scaleY:l[1]/2};c?h.attr(f):Te(h,f,s,n),di(h)}if(this._updateCommon(t,n,l,r,i),u){var h=this.childAt(0);if(!c){var f={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:h.style.opacity}};h.scaleX=h.scaleY=0,h.style.opacity=0,at(h,f,s,n)}}c&&this.childAt(0).stopAnimation("leave")},a.prototype._updateCommon=function(t,n,r,i,o){var s=this.childAt(0),l=t.hostModel,u,c,d,h,f,v,p,m,g;if(i&&(u=i.emphasisItemStyle,c=i.blurItemStyle,d=i.selectItemStyle,h=i.focus,f=i.blurScope,p=i.labelStatesModels,m=i.hoverScale,g=i.cursorStyle,v=i.emphasisDisabled),!i||t.hasItemOption){var y=i&&i.itemModel?i.itemModel:t.getItemModel(n),b=y.getModel("emphasis");u=b.getModel("itemStyle").getItemStyle(),d=y.getModel(["select","itemStyle"]).getItemStyle(),c=y.getModel(["blur","itemStyle"]).getItemStyle(),h=b.get("focus"),f=b.get("blurScope"),v=b.get("disabled"),p=fa(y),m=b.getShallow("scale"),g=y.getShallow("cursor")}var x=t.getItemVisual(n,"symbolRotate");s.attr("rotation",(x||0)*Math.PI/180||0);var S=fi(t.getItemVisual(n,"symbolOffset"),r);S&&(s.x=S[0],s.y=S[1]),g&&s.attr("cursor",g);var w=t.getItemVisual(n,"style"),A=w.fill;if(s instanceof Rs){var L=s.style;s.useStyle(xe({image:L.image,x:L.x,y:L.y,width:L.width,height:L.height},w))}else s.__isEmptyBrush?s.useStyle(xe({},w)):s.useStyle(w),s.style.decal=null,s.setColor(A,o&&o.symbolInnerColor),s.style.strokeNoScale=!0;var _=t.getItemVisual(n,"liftZ"),D=this._z2;_!=null?D==null&&(this._z2=s.z2,s.z2+=_):D!=null&&(s.z2=D,this._z2=null);var T=o&&o.useNameLabel;va(s,p,{labelFetcher:l,labelDataIndex:n,defaultText:P,inheritColor:A,defaultOpacity:w.opacity});function P(O){return T?t.getName(O):cn(t,O)}this._sizeX=r[0]/2,this._sizeY=r[1]/2;var I=s.ensureState("emphasis");I.style=u,s.ensureState("select").style=d,s.ensureState("blur").style=c;var E=m==null||m===!0?Math.max(1.1,3/this._sizeY):isFinite(m)&&m>0?+m:1;I.scaleX=this._sizeX*E,I.scaleY=this._sizeY*E,this.setSymbolScale(1),na(this,h,f,v)},a.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},a.prototype.fadeOut=function(t,n,r){var i=this.childAt(0),o=ee(this).dataIndex,s=r&&r.animation;if(this.silent=i.silent=!0,r&&r.fadeLabel){var l=i.getTextContent();l&&En(l,{style:{opacity:0}},n,{dataIndex:o,removeOpt:s,cb:function(){i.removeTextContent()}})}else i.removeTextContent();En(i,{style:{opacity:0},scaleX:0,scaleY:0},n,{dataIndex:o,cb:t,removeOpt:s})},a.getSymbolSize=function(t,n){return Ns(t.getItemVisual(n,"symbolSize"))},a}(_e);function Mc(e,a){this.parent.drift(e,a)}function Aa(e,a,t,n){return a&&!isNaN(a[0])&&!isNaN(a[1])&&!(n.isIgnore&&n.isIgnore(t))&&!(n.clipShape&&!n.clipShape.contain(a[0],a[1]))&&e.getItemVisual(t,"symbol")!=="none"}function ar(e){return e!=null&&!Pe(e)&&(e={isIgnore:e}),e||{}}function nr(e){var a=e.hostModel,t=a.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:a.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:a.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),emphasisDisabled:t.get("disabled"),hoverScale:t.get("scale"),labelStatesModels:fa(a),cursorStyle:a.get("cursor")}}var Ec=function(){function e(a){this.group=new _e,this._SymbolCtor=a||dn}return e.prototype.updateData=function(a,t){this._progressiveEls=null,t=ar(t);var n=this.group,r=a.hostModel,i=this._data,o=this._SymbolCtor,s=t.disableAnimation,l=nr(a),u={disableAnimation:s},c=t.getSymbolPoint||function(d){return a.getItemLayout(d)};i||n.removeAll(),a.diff(i).add(function(d){var h=c(d);if(Aa(a,h,d,t)){var f=new o(a,d,l,u);f.setPosition(h),a.setItemGraphicEl(d,f),n.add(f)}}).update(function(d,h){var f=i.getItemGraphicEl(h),v=c(d);if(!Aa(a,v,d,t)){n.remove(f);return}var p=a.getItemVisual(d,"symbol")||"circle",m=f&&f.getSymbolType&&f.getSymbolType();if(!f||m&&m!==p)n.remove(f),f=new o(a,d,l,u),f.setPosition(v);else{f.updateData(a,d,l,u);var g={x:v[0],y:v[1]};s?f.attr(g):Te(f,g,r)}n.add(f),a.setItemGraphicEl(d,f)}).remove(function(d){var h=i.getItemGraphicEl(d);h&&h.fadeOut(function(){n.remove(h)},r)}).execute(),this._getSymbolPoint=c,this._data=a},e.prototype.updateLayout=function(){var a=this,t=this._data;t&&t.eachItemGraphicEl(function(n,r){var i=a._getSymbolPoint(r);n.setPosition(i),n.markRedraw()})},e.prototype.incrementalPrepareUpdate=function(a){this._seriesScope=nr(a),this._data=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(a,t,n){this._progressiveEls=[],n=ar(n);function r(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var i=a.start;i<a.end;i++){var o=t.getItemLayout(i);if(Aa(t,o,i,n)){var s=new this._SymbolCtor(t,i,this._seriesScope);s.traverse(r),s.setPosition(o),this.group.add(s),t.setItemGraphicEl(i,s),this._progressiveEls.push(s)}}},e.prototype.eachRendered=function(a){vi(this._progressiveEls||this.group,a)},e.prototype.remove=function(a){var t=this.group,n=this._data;n&&a?n.eachItemGraphicEl(function(r){r.fadeOut(function(){t.remove(r)},n.hostModel)}):t.removeAll()},e}();function Vi(e,a,t){var n=e.getBaseAxis(),r=e.getOtherAxis(n),i=Rc(r,t),o=n.dim,s=r.dim,l=a.mapDimension(s),u=a.mapDimension(o),c=s==="x"||s==="radius"?1:0,d=Oe(e.dimensions,function(v){return a.mapDimension(v)}),h=!1,f=a.getCalculationInfo("stackResultDimension");return sa(a,d[0])&&(h=!0,d[0]=f),sa(a,d[1])&&(h=!0,d[1]=f),{dataDimsForPoint:d,valueStart:i,valueAxisDim:s,baseAxisDim:o,stacked:!!h,valueDim:l,baseDim:u,baseDataOffset:c,stackedOverDimension:a.getCalculationInfo("stackedOverDimension")}}function Rc(e,a){var t=0,n=e.scale.getExtent();return a==="start"?t=n[0]:a==="end"?t=n[1]:Ht(a)&&!isNaN(a)?t=a:n[0]>0?t=n[0]:n[1]<0&&(t=n[1]),t}function Bi(e,a,t,n){var r=NaN;e.stacked&&(r=t.get(t.getCalculationInfo("stackedOverDimension"),n)),isNaN(r)&&(r=e.valueStart);var i=e.baseDataOffset,o=[];return o[i]=t.get(e.baseDim,n),o[1-i]=r,a.dataToPoint(o)}function Nc(e,a){var t=[];return a.diff(e).add(function(n){t.push({cmd:"+",idx:n})}).update(function(n,r){t.push({cmd:"=",idx:r,idx1:n})}).remove(function(n){t.push({cmd:"-",idx:n})}).execute(),t}function Vc(e,a,t,n,r,i,o,s){for(var l=Nc(e,a),u=[],c=[],d=[],h=[],f=[],v=[],p=[],m=Vi(r,a,o),g=e.getLayout("points")||[],y=a.getLayout("points")||[],b=0;b<l.length;b++){var x=l[b],S=!0,w=void 0,A=void 0;switch(x.cmd){case"=":w=x.idx*2,A=x.idx1*2;var L=g[w],_=g[w+1],D=y[A],T=y[A+1];(isNaN(L)||isNaN(_))&&(L=D,_=T),u.push(L,_),c.push(D,T),d.push(t[w],t[w+1]),h.push(n[A],n[A+1]),p.push(a.getRawIndex(x.idx1));break;case"+":var P=x.idx,I=m.dataDimsForPoint,E=r.dataToPoint([a.get(I[0],P),a.get(I[1],P)]);A=P*2,u.push(E[0],E[1]),c.push(y[A],y[A+1]);var O=Bi(m,r,a,P);d.push(O[0],O[1]),h.push(n[A],n[A+1]),p.push(a.getRawIndex(P));break;case"-":S=!1}S&&(f.push(x),v.push(v.length))}v.sort(function(ue,Dt){return p[ue]-p[Dt]});for(var H=u.length,q=yt(H),G=yt(H),X=yt(H),Z=yt(H),oe=[],b=0;b<v.length;b++){var De=v[b],Q=b*2,ve=De*2;q[Q]=u[ve],q[Q+1]=u[ve+1],G[Q]=c[ve],G[Q+1]=c[ve+1],X[Q]=d[ve],X[Q+1]=d[ve+1],Z[Q]=h[ve],Z[Q+1]=h[ve+1],oe[b]=f[De]}return{current:q,next:G,stackedOnCurrent:X,stackedOnNext:Z,status:oe}}var $e=Math.min,Fe=Math.max;function dt(e,a){return isNaN(e)||isNaN(a)}function $a(e,a,t,n,r,i,o,s,l){for(var u,c,d,h,f,v,p=t,m=0;m<n;m++){var g=a[p*2],y=a[p*2+1];if(p>=r||p<0)break;if(dt(g,y)){if(l){p+=i;continue}break}if(p===t)e[i>0?"moveTo":"lineTo"](g,y),d=g,h=y;else{var b=g-u,x=y-c;if(b*b+x*x<.5){p+=i;continue}if(o>0){for(var S=p+i,w=a[S*2],A=a[S*2+1];w===g&&A===y&&m<n;)m++,S+=i,p+=i,w=a[S*2],A=a[S*2+1],g=a[p*2],y=a[p*2+1],b=g-u,x=y-c;var L=m+1;if(l)for(;dt(w,A)&&L<n;)L++,S+=i,w=a[S*2],A=a[S*2+1];var _=.5,D=0,T=0,P=void 0,I=void 0;if(L>=n||dt(w,A))f=g,v=y;else{D=w-u,T=A-c;var E=g-u,O=w-g,H=y-c,q=A-y,G=void 0,X=void 0;if(s==="x"){G=Math.abs(E),X=Math.abs(O);var Z=D>0?1:-1;f=g-Z*G*o,v=y,P=g+Z*X*o,I=y}else if(s==="y"){G=Math.abs(H),X=Math.abs(q);var oe=T>0?1:-1;f=g,v=y-oe*G*o,P=g,I=y+oe*X*o}else G=Math.sqrt(E*E+H*H),X=Math.sqrt(O*O+q*q),_=X/(X+G),f=g-D*o*(1-_),v=y-T*o*(1-_),P=g+D*o*_,I=y+T*o*_,P=$e(P,Fe(w,g)),I=$e(I,Fe(A,y)),P=Fe(P,$e(w,g)),I=Fe(I,$e(A,y)),D=P-g,T=I-y,f=g-D*G/X,v=y-T*G/X,f=$e(f,Fe(u,g)),v=$e(v,Fe(c,y)),f=Fe(f,$e(u,g)),v=Fe(v,$e(c,y)),D=g-f,T=y-v,P=g+D*X/G,I=y+T*X/G}e.bezierCurveTo(d,h,f,v,g,y),d=P,h=I}else e.lineTo(g,y)}u=g,c=y,p+=i}return m}var zi=function(){function e(){this.smooth=0,this.smoothConstraint=!0}return e}(),Bc=function(e){Y(a,e);function a(t){var n=e.call(this,t)||this;return n.type="ec-polyline",n}return a.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},a.prototype.getDefaultShape=function(){return new zi},a.prototype.buildPath=function(t,n){var r=n.points,i=0,o=r.length/2;if(n.connectNulls){for(;o>0&&dt(r[o*2-2],r[o*2-1]);o--);for(;i<o&&dt(r[i*2],r[i*2+1]);i++);}for(;i<o;)i+=$a(t,r,i,o,o,1,n.smooth,n.smoothMonotone,n.connectNulls)+1},a.prototype.getPointOn=function(t,n){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var r=this.path,i=r.data,o=Vs.CMD,s,l,u=n==="x",c=[],d=0;d<i.length;){var h=i[d++],f=void 0,v=void 0,p=void 0,m=void 0,g=void 0,y=void 0,b=void 0;switch(h){case o.M:s=i[d++],l=i[d++];break;case o.L:if(f=i[d++],v=i[d++],b=u?(t-s)/(f-s):(t-l)/(v-l),b<=1&&b>=0){var x=u?(v-l)*b+l:(f-s)*b+s;return u?[t,x]:[x,t]}s=f,l=v;break;case o.C:f=i[d++],v=i[d++],p=i[d++],m=i[d++],g=i[d++],y=i[d++];var S=u?Rn(s,f,p,g,t,c):Rn(l,v,m,y,t,c);if(S>0)for(var w=0;w<S;w++){var A=c[w];if(A<=1&&A>=0){var x=u?Nn(l,v,m,y,A):Nn(s,f,p,g,A);return u?[t,x]:[x,t]}}s=g,l=y;break}}},a}(ha),zc=function(e){Y(a,e);function a(){return e!==null&&e.apply(this,arguments)||this}return a}(zi),Gc=function(e){Y(a,e);function a(t){var n=e.call(this,t)||this;return n.type="ec-polygon",n}return a.prototype.getDefaultShape=function(){return new zc},a.prototype.buildPath=function(t,n){var r=n.points,i=n.stackedOnPoints,o=0,s=r.length/2,l=n.smoothMonotone;if(n.connectNulls){for(;s>0&&dt(r[s*2-2],r[s*2-1]);s--);for(;o<s&&dt(r[o*2],r[o*2+1]);o++);}for(;o<s;){var u=$a(t,r,o,s,s,1,n.smooth,l,n.connectNulls);$a(t,i,o+u-1,u,s,-1,n.stackedOnSmooth,l,n.connectNulls),o+=u+1,t.closePath()}},a}(ha);function Gi(e,a,t,n,r){var i=e.getArea(),o=i.x,s=i.y,l=i.width,u=i.height,c=t.get(["lineStyle","width"])||0;o-=c/2,s-=c/2,l+=c,u+=c,l=Math.ceil(l),o!==Math.floor(o)&&(o=Math.floor(o),l++);var d=new Me({shape:{x:o,y:s,width:l,height:u}});if(a){var h=e.getBaseAxis(),f=h.isHorizontal(),v=h.inverse;f?(v&&(d.shape.x+=l),d.shape.width=0):(v||(d.shape.y+=u),d.shape.height=0);var p=me(r)?function(m){r(m,d)}:null;at(d,{shape:{width:l,height:u,x:o,y:s}},t,null,n,p)}return d}function $i(e,a,t){var n=e.getArea(),r=ot(n.r0,1),i=ot(n.r,1),o=new an({shape:{cx:ot(e.cx,1),cy:ot(e.cy,1),r0:r,r:i,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});if(a){var s=e.getBaseAxis().dim==="angle";s?o.shape.endAngle=n.startAngle:o.shape.r=r,at(o,{shape:{endAngle:n.endAngle,r:i}},t)}return o}function $c(e,a,t,n,r){if(e){if(e.type==="polar")return $i(e,a,t);if(e.type==="cartesian2d")return Gi(e,a,t,n,r)}else return null;return null}function fn(e,a){return e.type===a}function rr(e,a){if(e.length===a.length){for(var t=0;t<e.length;t++)if(e[t]!==a[t])return;return!0}}function ir(e){for(var a=1/0,t=1/0,n=-1/0,r=-1/0,i=0;i<e.length;){var o=e[i++],s=e[i++];isNaN(o)||(a=Math.min(o,a),n=Math.max(o,n)),isNaN(s)||(t=Math.min(s,t),r=Math.max(s,r))}return[[a,t],[n,r]]}function or(e,a){var t=ir(e),n=t[0],r=t[1],i=ir(a),o=i[0],s=i[1];return Math.max(Math.abs(n[0]-o[0]),Math.abs(n[1]-o[1]),Math.abs(r[0]-s[0]),Math.abs(r[1]-s[1]))}function sr(e){return Ht(e)?e:e?.5:0}function Fc(e,a,t){if(!t.valueDim)return[];for(var n=a.count(),r=yt(n*2),i=0;i<n;i++){var o=Bi(t,e,a,i);r[i*2]=o[0],r[i*2+1]=o[1]}return r}function We(e,a,t,n,r){var i=t.getBaseAxis(),o=i.dim==="x"||i.dim==="radius"?0:1,s=[],l=0,u=[],c=[],d=[],h=[];if(r){for(l=0;l<e.length;l+=2){var f=a||e;!isNaN(f[l])&&!isNaN(f[l+1])&&h.push(e[l],e[l+1])}e=h}for(l=0;l<e.length-2;l+=2)switch(d[0]=e[l+2],d[1]=e[l+3],c[0]=e[l],c[1]=e[l+1],s.push(c[0],c[1]),n){case"end":u[o]=d[o],u[1-o]=c[1-o],s.push(u[0],u[1]);break;case"middle":var v=(c[o]+d[o])/2,p=[];u[o]=p[o]=v,u[1-o]=c[1-o],p[1-o]=d[1-o],s.push(u[0],u[1]),s.push(p[0],p[1]);break;default:u[o]=c[o],u[1-o]=d[1-o],s.push(u[0],u[1])}return s.push(e[l++],e[l++]),s}function Wc(e,a){var t=[],n=e.length,r,i;function o(c,d,h){var f=c.coord,v=(h-f)/(d.coord-f),p=Gs(v,[c.color,d.color]);return{coord:h,color:p}}for(var s=0;s<n;s++){var l=e[s],u=l.coord;if(u<0)r=l;else if(u>a){i?t.push(o(i,l,a)):r&&t.push(o(r,l,0),o(r,l,a));break}else r&&(t.push(o(r,l,0)),r=null),t.push(l),i=l}return t}function Hc(e,a,t){var n=e.getVisual("visualMeta");if(!(!n||!n.length||!e.count())&&a.type==="cartesian2d"){for(var r,i,o=n.length-1;o>=0;o--){var s=e.getDimensionInfo(n[o].dimension);if(r=s&&s.coordDim,r==="x"||r==="y"){i=n[o];break}}if(i){var l=a.getAxis(r),u=Oe(i.stops,function(b){return{coord:l.toGlobalCoord(l.dataToCoord(b.value)),color:b.color}}),c=u.length,d=i.outerColors.slice();c&&u[0].coord>u[c-1].coord&&(u.reverse(),d.reverse());var h=Wc(u,r==="x"?t.getWidth():t.getHeight()),f=h.length;if(!f&&c)return u[0].coord<0?d[1]?d[1]:u[c-1].color:d[0]?d[0]:u[0].color;var v=10,p=h[0].coord-v,m=h[f-1].coord+v,g=m-p;if(g<.001)return"transparent";M(h,function(b){b.offset=(b.coord-p)/g}),h.push({offset:f?h[f-1].offset:.5,color:d[1]||"transparent"}),h.unshift({offset:f?h[0].offset:.5,color:d[0]||"transparent"});var y=new zs(0,0,0,0,h,!0);return y[r]=p,y[r+"2"]=m,y}}}function Uc(e,a,t){var n=e.get("showAllSymbol"),r=n==="auto";if(!(n&&!r)){var i=t.getAxesByScale("ordinal")[0];if(i&&!(r&&Xc(i,a))){var o=a.mapDimension(i.dim),s={};return M(i.getViewLabels(),function(l){var u=i.scale.getRawOrdinalNumber(l.tickValue);s[u]=1}),function(l){return!s.hasOwnProperty(a.get(o,l))}}}}function Xc(e,a){var t=e.getExtent(),n=Math.abs(t[1]-t[0])/e.scale.count();isNaN(n)&&(n=0);for(var r=a.count(),i=Math.max(1,Math.round(r/5)),o=0;o<r;o+=i)if(dn.getSymbolSize(a,o)[e.isHorizontal()?1:0]*1.5>n)return!1;return!0}function Kc(e,a){return isNaN(e)||isNaN(a)}function Yc(e){for(var a=e.length/2;a>0&&Kc(e[a*2-2],e[a*2-1]);a--);return a-1}function lr(e,a){return[e[a*2],e[a*2+1]]}function Zc(e,a,t){for(var n=e.length/2,r=t==="x"?0:1,i,o,s=0,l=-1,u=0;u<n;u++)if(o=e[u*2+r],!(isNaN(o)||isNaN(e[u*2+1-r]))){if(u===0){i=o;continue}if(i<=a&&o>=a||i>=a&&o<=a){l=u;break}s=u,i=o}return{range:[s,l],t:(a-i)/(o-i)}}function Fi(e){if(e.get(["endLabel","show"]))return!0;for(var a=0;a<Bn.length;a++)if(e.get([Bn[a],"endLabel","show"]))return!0;return!1}function _a(e,a,t,n){if(fn(a,"cartesian2d")){var r=n.getModel("endLabel"),i=r.get("valueAnimation"),o=n.getData(),s={lastFrameIndex:0},l=Fi(n)?function(f,v){e._endLabelOnDuring(f,v,o,s,i,r,a)}:null,u=a.getBaseAxis().isHorizontal(),c=Gi(a,t,n,function(){var f=e._endLabel;f&&t&&s.originalX!=null&&f.attr({x:s.originalX,y:s.originalY})},l);if(!n.get("clip",!0)){var d=c.shape,h=Math.max(d.width,d.height);u?(d.y-=h,d.height+=h*2):(d.x-=h,d.width+=h*2)}return l&&l(1,c),c}else return $i(a,t,n)}function qc(e,a){var t=a.getBaseAxis(),n=t.isHorizontal(),r=t.inverse,i=n?r?"right":"left":"center",o=n?"middle":r?"top":"bottom";return{normal:{align:e.get("align")||i,verticalAlign:e.get("verticalAlign")||o}}}var jc=function(e){Y(a,e);function a(){return e!==null&&e.apply(this,arguments)||this}return a.prototype.init=function(){var t=new _e,n=new Ec;this.group.add(n.group),this._symbolDraw=n,this._lineGroup=t,this._changePolyState=Le(this._changePolyState,this)},a.prototype.render=function(t,n,r){var i=t.coordinateSystem,o=this.group,s=t.getData(),l=t.getModel("lineStyle"),u=t.getModel("areaStyle"),c=s.getLayout("points")||[],d=i.type==="polar",h=this._coordSys,f=this._symbolDraw,v=this._polyline,p=this._polygon,m=this._lineGroup,g=!n.ssr&&t.get("animation"),y=!u.isEmpty(),b=u.get("origin"),x=Vi(i,s,b),S=y&&Fc(i,s,x),w=t.get("showSymbol"),A=t.get("connectNulls"),L=w&&!d&&Uc(t,s,i),_=this._data;_&&_.eachItemGraphicEl(function(ue,Dt){ue.__temp&&(o.remove(ue),_.setItemGraphicEl(Dt,null))}),w||f.remove(),o.add(m);var D=d?!1:t.get("step"),T;i&&i.getArea&&t.get("clip",!0)&&(T=i.getArea(),T.width!=null?(T.x-=.1,T.y-=.1,T.width+=.2,T.height+=.2):T.r0&&(T.r0-=.5,T.r+=.5)),this._clipShapeForSymbol=T;var P=Hc(s,i,r)||s.getVisual("style")[s.getVisual("drawType")];if(!(v&&h.type===i.type&&D===this._step))w&&f.updateData(s,{isIgnore:L,clipShape:T,disableAnimation:!0,getSymbolPoint:function(ue){return[c[ue*2],c[ue*2+1]]}}),g&&this._initSymbolLabelAnimation(s,i,T),D&&(S&&(S=We(S,c,i,D,A)),c=We(c,null,i,D,A)),v=this._newPolyline(c),y?p=this._newPolygon(c,S):p&&(m.remove(p),p=this._polygon=null),d||this._initOrUpdateEndLabel(t,i,St(P)),m.setClipPath(_a(this,i,!0,t));else{y&&!p?p=this._newPolygon(c,S):p&&!y&&(m.remove(p),p=this._polygon=null),d||this._initOrUpdateEndLabel(t,i,St(P));var I=m.getClipPath();if(I){var E=_a(this,i,!1,t);at(I,{shape:E.shape},t)}else m.setClipPath(_a(this,i,!0,t));w&&f.updateData(s,{isIgnore:L,clipShape:T,disableAnimation:!0,getSymbolPoint:function(ue){return[c[ue*2],c[ue*2+1]]}}),(!rr(this._stackedOnPoints,S)||!rr(this._points,c))&&(g?this._doUpdateAnimation(s,S,i,r,D,b,A):(D&&(S&&(S=We(S,c,i,D,A)),c=We(c,null,i,D,A)),v.setShape({points:c}),p&&p.setShape({points:c,stackedOnPoints:S})))}var O=t.getModel("emphasis"),H=O.get("focus"),q=O.get("blurScope"),G=O.get("disabled");if(v.useStyle(fe(l.getLineStyle(),{fill:"none",stroke:P,lineJoin:"bevel"})),Na(v,t,"lineStyle"),v.style.lineWidth>0&&t.get(["emphasis","lineStyle","width"])==="bolder"){var X=v.getState("emphasis").style;X.lineWidth=+v.style.lineWidth+1}ee(v).seriesIndex=t.seriesIndex,na(v,H,q,G);var Z=sr(t.get("smooth")),oe=t.get("smoothMonotone");if(v.setShape({smooth:Z,smoothMonotone:oe,connectNulls:A}),p){var De=s.getCalculationInfo("stackedOnSeries"),Q=0;p.useStyle(fe(u.getAreaStyle(),{fill:P,opacity:.7,lineJoin:"bevel",decal:s.getVisual("style").decal})),De&&(Q=sr(De.get("smooth"))),p.setShape({smooth:Z,stackedOnSmooth:Q,smoothMonotone:oe,connectNulls:A}),Na(p,t,"areaStyle"),ee(p).seriesIndex=t.seriesIndex,na(p,H,q,G)}var ve=this._changePolyState;s.eachItemGraphicEl(function(ue){ue&&(ue.onHoverStateChange=ve)}),this._polyline.onHoverStateChange=ve,this._data=s,this._coordSys=i,this._stackedOnPoints=S,this._points=c,this._step=D,this._valueOrigin=b,t.get("triggerLineEvent")&&(this.packEventData(t,v),p&&this.packEventData(t,p))},a.prototype.packEventData=function(t,n){ee(n).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},a.prototype.highlight=function(t,n,r,i){var o=t.getData(),s=Va(o,i);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var l=o.getLayout("points"),u=o.getItemGraphicEl(s);if(!u){var c=l[s*2],d=l[s*2+1];if(isNaN(c)||isNaN(d)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c,d))return;var h=t.get("zlevel")||0,f=t.get("z")||0;u=new dn(o,s),u.x=c,u.y=d,u.setZ(h,f);var v=u.getSymbolPath().getTextContent();v&&(v.zlevel=h,v.z=f,v.z2=this._polyline.z2+1),u.__temp=!0,o.setItemGraphicEl(s,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else ta.prototype.highlight.call(this,t,n,r,i)},a.prototype.downplay=function(t,n,r,i){var o=t.getData(),s=Va(o,i);if(this._changePolyState("normal"),s!=null&&s>=0){var l=o.getItemGraphicEl(s);l&&(l.__temp?(o.setItemGraphicEl(s,null),this.group.remove(l)):l.downplay())}else ta.prototype.downplay.call(this,t,n,r,i)},a.prototype._changePolyState=function(t){var n=this._polygon;Vn(this._polyline,t),n&&Vn(n,t)},a.prototype._newPolyline=function(t){var n=this._polyline;return n&&this._lineGroup.remove(n),n=new Bc({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(n),this._polyline=n,n},a.prototype._newPolygon=function(t,n){var r=this._polygon;return r&&this._lineGroup.remove(r),r=new Gc({shape:{points:t,stackedOnPoints:n},segmentIgnoreThreshold:2}),this._lineGroup.add(r),this._polygon=r,r},a.prototype._initSymbolLabelAnimation=function(t,n,r){var i,o,s=n.getBaseAxis(),l=s.inverse;n.type==="cartesian2d"?(i=s.isHorizontal(),o=!1):n.type==="polar"&&(i=s.dim==="angle",o=!0);var u=t.hostModel,c=u.get("animationDuration");me(c)&&(c=c(null));var d=u.get("animationDelay")||0,h=me(d)?d(null):d;t.eachItemGraphicEl(function(f,v){var p=f;if(p){var m=[f.x,f.y],g=void 0,y=void 0,b=void 0;if(r)if(o){var x=r,S=n.pointToCoord(m);i?(g=x.startAngle,y=x.endAngle,b=-S[1]/180*Math.PI):(g=x.r0,y=x.r,b=S[0])}else{var w=r;i?(g=w.x,y=w.x+w.width,b=f.x):(g=w.y+w.height,y=w.y,b=f.y)}var A=y===g?0:(b-g)/(y-g);l&&(A=1-A);var L=me(d)?d(v):c*A+h,_=p.getSymbolPath(),D=_.getTextContent();p.attr({scaleX:0,scaleY:0}),p.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:L}),D&&D.animateFrom({style:{opacity:0}},{duration:300,delay:L}),_.disableLabelAnimation=!0}})},a.prototype._initOrUpdateEndLabel=function(t,n,r){var i=t.getModel("endLabel");if(Fi(t)){var o=t.getData(),s=this._polyline,l=o.getLayout("points");if(!l){s.removeTextContent(),this._endLabel=null;return}var u=this._endLabel;u||(u=this._endLabel=new ke({z2:200}),u.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var c=Yc(l);c>=0&&(va(s,fa(t,"endLabel"),{inheritColor:r,labelFetcher:t,labelDataIndex:c,defaultText:function(d,h,f){return f!=null?Ni(o,f):cn(o,d)},enableTextSetter:!0},qc(i,n)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},a.prototype._endLabelOnDuring=function(t,n,r,i,o,s,l){var u=this._endLabel,c=this._polyline;if(u){t<1&&i.originalX==null&&(i.originalX=u.x,i.originalY=u.y);var d=r.getLayout("points"),h=r.hostModel,f=h.get("connectNulls"),v=s.get("precision"),p=s.get("distance")||0,m=l.getBaseAxis(),g=m.isHorizontal(),y=m.inverse,b=n.shape,x=y?g?b.x:b.y+b.height:g?b.x+b.width:b.y,S=(g?p:0)*(y?-1:1),w=(g?0:-p)*(y?-1:1),A=g?"x":"y",L=Zc(d,x,A),_=L.range,D=_[1]-_[0],T=void 0;if(D>=1){if(D>1&&!f){var P=lr(d,_[0]);u.attr({x:P[0]+S,y:P[1]+w}),o&&(T=h.getRawValue(_[0]))}else{var P=c.getPointOn(x,A);P&&u.attr({x:P[0]+S,y:P[1]+w});var I=h.getRawValue(_[0]),E=h.getRawValue(_[1]);o&&(T=Bs(r,v,I,E,L.t))}i.lastFrameIndex=_[0]}else{var O=t===1||i.lastFrameIndex>0?_[0]:0,P=lr(d,O);o&&(T=h.getRawValue(O)),u.attr({x:P[0]+S,y:P[1]+w})}if(o){var H=hi(u);typeof H.setLabelText=="function"&&H.setLabelText(T)}}},a.prototype._doUpdateAnimation=function(t,n,r,i,o,s,l){var u=this._polyline,c=this._polygon,d=t.hostModel,h=Vc(this._data,t,this._stackedOnPoints,n,this._coordSys,r,this._valueOrigin),f=h.current,v=h.stackedOnCurrent,p=h.next,m=h.stackedOnNext;if(o&&(v=We(h.stackedOnCurrent,h.current,r,o,l),f=We(h.current,null,r,o,l),m=We(h.stackedOnNext,h.next,r,o,l),p=We(h.next,null,r,o,l)),or(f,p)>3e3||c&&or(v,m)>3e3){u.stopAnimation(),u.setShape({points:p}),c&&(c.stopAnimation(),c.setShape({points:p,stackedOnPoints:m}));return}u.shape.__points=h.current,u.shape.points=f;var g={shape:{points:p}};h.current!==f&&(g.shape.__points=h.next),u.stopAnimation(),Te(u,g,d),c&&(c.setShape({points:f,stackedOnPoints:v}),c.stopAnimation(),Te(c,{shape:{stackedOnPoints:m}},d),u.shape.points!==c.shape.points&&(c.shape.points=u.shape.points));for(var y=[],b=h.status,x=0;x<b.length;x++){var S=b[x].cmd;if(S==="="){var w=t.getItemGraphicEl(b[x].idx1);w&&y.push({el:w,ptIdx:x})}}u.animators&&u.animators.length&&u.animators[0].during(function(){c&&c.dirtyShape();for(var A=u.shape.__points,L=0;L<y.length;L++){var _=y[L].el,D=y[L].ptIdx*2;_.x=A[D],_.y=A[D+1],_.markRedraw()}})},a.prototype.remove=function(t){var n=this.group,r=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),r&&r.eachItemGraphicEl(function(i,o){i.__temp&&(n.remove(i),r.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},a.type="line",a}(ta);function Qc(e,a){return{seriesType:e,plan:$s(),reset:function(t){var n=t.getData(),r=t.coordinateSystem;if(t.pipelineContext,!!r){var i=Oe(r.dimensions,function(d){return n.mapDimension(d)}).slice(0,2),o=i.length,s=n.getCalculationInfo("stackResultDimension");sa(n,i[0])&&(i[0]=s),sa(n,i[1])&&(i[1]=s);var l=n.getStore(),u=n.getDimensionIndex(i[0]),c=n.getDimensionIndex(i[1]);return o&&{progress:function(d,h){for(var f=d.end-d.start,v=yt(f*o),p=[],m=[],g=d.start,y=0;g<d.end;g++){var b=void 0;if(o===1){var x=l.get(u,g);b=r.dataToPoint(x,null,m)}else p[0]=l.get(u,g),p[1]=l.get(c,g),b=r.dataToPoint(p,null,m);v[y++]=b[0],v[y++]=b[1]}h.setLayout("points",v)}}}}}}var Jc={average:function(e){for(var a=0,t=0,n=0;n<e.length;n++)isNaN(e[n])||(a+=e[n],t++);return t===0?NaN:a/t},sum:function(e){for(var a=0,t=0;t<e.length;t++)a+=e[t]||0;return a},max:function(e){for(var a=-1/0,t=0;t<e.length;t++)e[t]>a&&(a=e[t]);return isFinite(a)?a:NaN},min:function(e){for(var a=1/0,t=0;t<e.length;t++)e[t]<a&&(a=e[t]);return isFinite(a)?a:NaN},nearest:function(e){return e[0]}},ed=function(e){return Math.round(e.length/2)};function Wi(e){return{seriesType:e,reset:function(a,t,n){var r=a.getData(),i=a.get("sampling"),o=a.coordinateSystem,s=r.count();if(s>10&&o.type==="cartesian2d"&&i){var l=o.getBaseAxis(),u=o.getOtherAxis(l),c=l.getExtent(),d=n.getDevicePixelRatio(),h=Math.abs(c[1]-c[0])*(d||1),f=Math.round(s/h);if(isFinite(f)&&f>1){i==="lttb"?a.setData(r.lttbDownSample(r.mapDimension(u.dim),1/f)):i==="minmax"&&a.setData(r.minmaxDownSample(r.mapDimension(u.dim),1/f));var v=void 0;ae(i)?v=Jc[i]:me(i)&&(v=i),v&&a.setData(r.downSample(r.mapDimension(u.dim),1/f,v,ed))}}}}}function td(e){e.registerChartView(jc),e.registerSeriesModel(Oc),e.registerLayout(Qc("line")),e.registerVisual({seriesType:"line",reset:function(a){var t=a.getData(),n=a.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",n)}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,Wi("line"))}var Fa=function(e){Y(a,e);function a(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=a.type,t}return a.prototype.getInitialData=function(t,n){return un(null,this,{useEncodeDefaulter:!0})},a.prototype.getMarkerPosition=function(t,n,r){var i=this.coordinateSystem;if(i&&i.clampData){var o=i.clampData(t),s=i.dataToPoint(o);if(r)M(i.getAxes(),function(h,f){if(h.type==="category"&&n!=null){var v=h.getTicksCoords(),p=h.getTickModel().get("alignWithLabel"),m=o[f],g=n[f]==="x1"||n[f]==="y1";if(g&&!p&&(m+=1),v.length<2)return;if(v.length===2){s[f]=h.toGlobalCoord(h.getExtent()[g?1:0]);return}for(var y=void 0,b=void 0,x=1,S=0;S<v.length;S++){var w=v[S].coord,A=S===v.length-1?v[S-1].tickValue+x:v[S].tickValue;if(A===m){b=w;break}else if(A<m)y=w;else if(y!=null&&A>m){b=(w+y)/2;break}S===1&&(x=A-v[0].tickValue)}b==null&&(y?y&&(b=v[v.length-1].coord):b=v[0].coord),s[f]=h.toGlobalCoord(b)}});else{var l=this.getData(),u=l.getLayout("offset"),c=l.getLayout("size"),d=i.getBaseAxis().isHorizontal()?0:1;s[d]+=u+c/2}return s}return[NaN,NaN]},a.type="series.__base_bar__",a.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},a}(tn);tn.registerClass(Fa);var ad=function(e){Y(a,e);function a(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=a.type,t}return a.prototype.getInitialData=function(){return un(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},a.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},a.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),n=this.get("largeThreshold");return n>t&&(t=n),t},a.prototype.brushSelector=function(t,n,r){return r.rect(n.getItemLayout(t))},a.type="series.bar",a.dependencies=["grid","polar"],a.defaultOption=pi(Fa.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),a}(Fa),nd=function(){function e(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return e}(),ur=function(e){Y(a,e);function a(t){var n=e.call(this,t)||this;return n.type="sausage",n}return a.prototype.getDefaultShape=function(){return new nd},a.prototype.buildPath=function(t,n){var r=n.cx,i=n.cy,o=Math.max(n.r0||0,0),s=Math.max(n.r,0),l=(s-o)*.5,u=o+l,c=n.startAngle,d=n.endAngle,h=n.clockwise,f=Math.PI*2,v=h?d-c<f:c-d<f;v||(c=d-(h?f:-f));var p=Math.cos(c),m=Math.sin(c),g=Math.cos(d),y=Math.sin(d);v?(t.moveTo(p*o+r,m*o+i),t.arc(p*u+r,m*u+i,l,-Math.PI+c,c,!h)):t.moveTo(p*s+r,m*s+i),t.arc(r,i,s,c,d,!h),t.arc(g*u+r,y*u+i,l,d-Math.PI*2,d-Math.PI,!h),o!==0&&t.arc(r,i,o,d,c,h)},a}(ha);function rd(e,a){a=a||{};var t=a.isRoundCap;return function(n,r,i){var o=r.position;if(!o||o instanceof Array)return zn(n,r,i);var s=e(o),l=r.distance!=null?r.distance:5,u=this.shape,c=u.cx,d=u.cy,h=u.r,f=u.r0,v=(h+f)/2,p=u.startAngle,m=u.endAngle,g=(p+m)/2,y=t?Math.abs(h-f)/2:0,b=Math.cos,x=Math.sin,S=c+h*b(p),w=d+h*x(p),A="left",L="top";switch(s){case"startArc":S=c+(f-l)*b(g),w=d+(f-l)*x(g),A="center",L="top";break;case"insideStartArc":S=c+(f+l)*b(g),w=d+(f+l)*x(g),A="center",L="bottom";break;case"startAngle":S=c+v*b(p)+jt(p,l+y,!1),w=d+v*x(p)+Qt(p,l+y,!1),A="right",L="middle";break;case"insideStartAngle":S=c+v*b(p)+jt(p,-l+y,!1),w=d+v*x(p)+Qt(p,-l+y,!1),A="left",L="middle";break;case"middle":S=c+v*b(g),w=d+v*x(g),A="center",L="middle";break;case"endArc":S=c+(h+l)*b(g),w=d+(h+l)*x(g),A="center",L="bottom";break;case"insideEndArc":S=c+(h-l)*b(g),w=d+(h-l)*x(g),A="center",L="top";break;case"endAngle":S=c+v*b(m)+jt(m,l+y,!0),w=d+v*x(m)+Qt(m,l+y,!0),A="left",L="middle";break;case"insideEndAngle":S=c+v*b(m)+jt(m,-l+y,!0),w=d+v*x(m)+Qt(m,-l+y,!0),A="right",L="middle";break;default:return zn(n,r,i)}return n=n||{},n.x=S,n.y=w,n.align=A,n.verticalAlign=L,n}}function id(e,a,t,n){if(Ht(n)){e.setTextConfig({rotation:n});return}else if(ie(a)){e.setTextConfig({rotation:0});return}var r=e.shape,i=r.clockwise?r.startAngle:r.endAngle,o=r.clockwise?r.endAngle:r.startAngle,s=(i+o)/2,l,u=t(a);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=s;break;case"startAngle":case"insideStartAngle":l=i;break;case"endAngle":case"insideEndAngle":l=o;break;default:e.setTextConfig({rotation:0});return}var c=Math.PI*1.5-l;u==="middle"&&c>Math.PI/2&&c<Math.PI*1.5&&(c-=Math.PI),e.setTextConfig({rotation:c})}function jt(e,a,t){return a*Math.sin(e)*(t?-1:1)}function Qt(e,a,t){return a*Math.cos(e)*(t?1:-1)}function od(e,a,t){var n=e.get("borderRadius");if(n==null)return{cornerRadius:0};ie(n)||(n=[n,n,n,n]);var r=Math.abs(a.r||0-a.r0||0);return{cornerRadius:Oe(n,function(i){return Fs(i,r)})}}var Ta=Math.max,Da=Math.min;function sd(e,a){var t=e.getArea&&e.getArea();if(fn(e,"cartesian2d")){var n=e.getBaseAxis();if(n.type!=="category"||!n.onBand){var r=a.getLayout("bandWidth");n.isHorizontal()?(t.x-=r,t.width+=r*2):(t.y-=r,t.height+=r*2)}}return t}var ld=function(e){Y(a,e);function a(){var t=e.call(this)||this;return t.type=a.type,t._isFirstFrame=!0,t}return a.prototype.render=function(t,n,r,i){this._model=t,this._removeOnRenderedListener(r),this._updateDrawMode(t);var o=t.get("coordinateSystem");(o==="cartesian2d"||o==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,n,r):this._renderNormal(t,n,r,i))},a.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},a.prototype.incrementalRender=function(t,n){this._progressiveEls=[],this._incrementalRenderLarge(t,n)},a.prototype.eachRendered=function(t){vi(this._progressiveEls||this.group,t)},a.prototype._updateDrawMode=function(t){var n=t.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},a.prototype._renderNormal=function(t,n,r,i){var o=this.group,s=t.getData(),l=this._data,u=t.coordinateSystem,c=u.getBaseAxis(),d;u.type==="cartesian2d"?d=c.isHorizontal():u.type==="polar"&&(d=c.dim==="angle");var h=t.isAnimationEnabled()?t:null,f=ud(t,u);f&&this._enableRealtimeSort(f,s,r);var v=t.get("clip",!0)||f,p=sd(u,s);o.removeClipPath();var m=t.get("roundCap",!0),g=t.get("showBackground",!0),y=t.getModel("backgroundStyle"),b=y.get("borderRadius")||0,x=[],S=this._backgroundEls,w=i&&i.isInitSort,A=i&&i.type==="changeAxisOrder";function L(T){var P=Jt[u.type](s,T),I=gd(u,d,P);return I.useStyle(y.getItemStyle()),u.type==="cartesian2d"?I.setShape("r",b):I.setShape("cornerRadius",b),x[T]=I,I}s.diff(l).add(function(T){var P=s.getItemModel(T),I=Jt[u.type](s,T,P);if(g&&L(T),!(!s.hasValue(T)||!hr[u.type](I))){var E=!1;v&&(E=cr[u.type](p,I));var O=dr[u.type](t,s,T,I,d,h,c.model,!1,m);f&&(O.forceLabelAnimation=!0),pr(O,s,T,P,I,t,d,u.type==="polar"),w?O.attr({shape:I}):f?fr(f,h,O,I,T,d,!1,!1):at(O,{shape:I},t,T),s.setItemGraphicEl(T,O),o.add(O),O.ignore=E}}).update(function(T,P){var I=s.getItemModel(T),E=Jt[u.type](s,T,I);if(g){var O=void 0;S.length===0?O=L(P):(O=S[P],O.useStyle(y.getItemStyle()),u.type==="cartesian2d"?O.setShape("r",b):O.setShape("cornerRadius",b),x[T]=O);var H=Jt[u.type](s,T),q=Ui(d,H,u);Te(O,{shape:q},h,T)}var G=l.getItemGraphicEl(P);if(!s.hasValue(T)||!hr[u.type](E)){o.remove(G);return}var X=!1;if(v&&(X=cr[u.type](p,E),X&&o.remove(G)),G?di(G):G=dr[u.type](t,s,T,E,d,h,c.model,!!G,m),f&&(G.forceLabelAnimation=!0),A){var Z=G.getTextContent();if(Z){var oe=hi(Z);oe.prevValue!=null&&(oe.prevValue=oe.value)}}else pr(G,s,T,I,E,t,d,u.type==="polar");w?G.attr({shape:E}):f?fr(f,h,G,E,T,d,!0,A):Te(G,{shape:E},t,T,null),s.setItemGraphicEl(T,G),G.ignore=X,o.add(G)}).remove(function(T){var P=l.getItemGraphicEl(T);P&&Gn(P,t,T)}).execute();var _=this._backgroundGroup||(this._backgroundGroup=new _e);_.removeAll();for(var D=0;D<x.length;++D)_.add(x[D]);o.add(_),this._backgroundEls=x,this._data=s},a.prototype._renderLarge=function(t,n,r){this._clear(),mr(t,this.group),this._updateLargeClip(t)},a.prototype._incrementalRenderLarge=function(t,n){this._removeBackground(),mr(n,this.group,this._progressiveEls,!0)},a.prototype._updateLargeClip=function(t){var n=t.get("clip",!0)&&$c(t.coordinateSystem,!1,t),r=this.group;n?r.setClipPath(n):r.removeClipPath()},a.prototype._enableRealtimeSort=function(t,n,r){var i=this;if(n.count()){var o=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(n,t,r),this._isFirstFrame=!1;else{var s=function(l){var u=n.getItemGraphicEl(l),c=u&&u.shape;return c&&Math.abs(o.isHorizontal()?c.height:c.width)||0};this._onRendered=function(){i._updateSortWithinSameData(n,s,o,r)},r.getZr().on("rendered",this._onRendered)}}},a.prototype._dataSort=function(t,n,r){var i=[];return t.each(t.mapDimension(n.dim),function(o,s){var l=r(s);l=l??NaN,i.push({dataIndex:s,mappedValue:l,ordinalNumber:o})}),i.sort(function(o,s){return s.mappedValue-o.mappedValue}),{ordinalNumbers:Oe(i,function(o){return o.ordinalNumber})}},a.prototype._isOrderChangedWithinSameData=function(t,n,r){for(var i=r.scale,o=t.mapDimension(r.dim),s=Number.MAX_VALUE,l=0,u=i.getOrdinalMeta().categories.length;l<u;++l){var c=t.rawIndexOf(o,i.getRawOrdinalNumber(l)),d=c<0?Number.MIN_VALUE:n(t.indexOfRawIndex(c));if(d>s)return!0;s=d}return!1},a.prototype._isOrderDifferentInView=function(t,n){for(var r=n.scale,i=r.getExtent(),o=Math.max(0,i[0]),s=Math.min(i[1],r.getOrdinalMeta().categories.length-1);o<=s;++o)if(t.ordinalNumbers[o]!==r.getRawOrdinalNumber(o))return!0},a.prototype._updateSortWithinSameData=function(t,n,r,i){if(this._isOrderChangedWithinSameData(t,n,r)){var o=this._dataSort(t,r,n);this._isOrderDifferentInView(o,r)&&(this._removeOnRenderedListener(i),i.dispatchAction({type:"changeAxisOrder",componentType:r.dim+"Axis",axisId:r.index,sortInfo:o}))}},a.prototype._dispatchInitSort=function(t,n,r){var i=n.baseAxis,o=this._dataSort(t,i,function(s){return t.get(t.mapDimension(n.otherAxis.dim),s)});r.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",isInitSort:!0,axisId:i.index,sortInfo:o})},a.prototype.remove=function(t,n){this._clear(this._model),this._removeOnRenderedListener(n)},a.prototype.dispose=function(t,n){this._removeOnRenderedListener(n)},a.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},a.prototype._clear=function(t){var n=this.group,r=this._data;t&&t.isAnimationEnabled()&&r&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],r.eachItemGraphicEl(function(i){Gn(i,t,ee(i).dataIndex)})):n.removeAll(),this._data=null,this._isFirstFrame=!0},a.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},a.type="bar",a}(ta),cr={cartesian2d:function(e,a){var t=a.width<0?-1:1,n=a.height<0?-1:1;t<0&&(a.x+=a.width,a.width=-a.width),n<0&&(a.y+=a.height,a.height=-a.height);var r=e.x+e.width,i=e.y+e.height,o=Ta(a.x,e.x),s=Da(a.x+a.width,r),l=Ta(a.y,e.y),u=Da(a.y+a.height,i),c=s<o,d=u<l;return a.x=c&&o>r?s:o,a.y=d&&l>i?u:l,a.width=c?0:s-o,a.height=d?0:u-l,t<0&&(a.x+=a.width,a.width=-a.width),n<0&&(a.y+=a.height,a.height=-a.height),c||d},polar:function(e,a){var t=a.r0<=a.r?1:-1;if(t<0){var n=a.r;a.r=a.r0,a.r0=n}var r=Da(a.r,e.r),i=Ta(a.r0,e.r0);a.r=r,a.r0=i;var o=r-i<0;if(t<0){var n=a.r;a.r=a.r0,a.r0=n}return o}},dr={cartesian2d:function(e,a,t,n,r,i,o,s,l){var u=new Me({shape:xe({},n),z2:1});if(u.__dataIndex=t,u.name="item",i){var c=u.shape,d=r?"height":"width";c[d]=0}return u},polar:function(e,a,t,n,r,i,o,s,l){var u=!r&&l?ur:an,c=new u({shape:n,z2:1});c.name="item";var d=Hi(r);if(c.calculateTextPosition=rd(d,{isRoundCap:u===ur}),i){var h=c.shape,f=r?"r":"endAngle",v={};h[f]=r?n.r0:n.startAngle,v[f]=n[f],(s?Te:at)(c,{shape:v},i)}return c}};function ud(e,a){var t=e.get("realtimeSort",!0),n=a.getBaseAxis();if(t&&n.type==="category"&&a.type==="cartesian2d")return{baseAxis:n,otherAxis:a.getOtherAxis(n)}}function fr(e,a,t,n,r,i,o,s){var l,u;i?(u={x:n.x,width:n.width},l={y:n.y,height:n.height}):(u={y:n.y,height:n.height},l={x:n.x,width:n.width}),s||(o?Te:at)(t,{shape:l},a,r,null);var c=a?e.baseAxis.model:null;(o?Te:at)(t,{shape:u},c,r)}function vr(e,a){for(var t=0;t<a.length;t++)if(!isFinite(e[a[t]]))return!0;return!1}var cd=["x","y","width","height"],dd=["cx","cy","r","startAngle","endAngle"],hr={cartesian2d:function(e){return!vr(e,cd)},polar:function(e){return!vr(e,dd)}},Jt={cartesian2d:function(e,a,t){var n=e.getItemLayout(a),r=t?vd(t,n):0,i=n.width>0?1:-1,o=n.height>0?1:-1;return{x:n.x+i*r/2,y:n.y+o*r/2,width:n.width-i*r,height:n.height-o*r}},polar:function(e,a,t){var n=e.getItemLayout(a);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}}};function fd(e){return e.startAngle!=null&&e.endAngle!=null&&e.startAngle===e.endAngle}function Hi(e){return function(a){var t=a?"Arc":"Angle";return function(n){switch(n){case"start":case"insideStart":case"end":case"insideEnd":return n+t;default:return n}}}(e)}function pr(e,a,t,n,r,i,o,s){var l=a.getItemVisual(t,"style");if(s){if(!i.get("roundCap")){var c=e.shape,d=od(n.getModel("itemStyle"),c);xe(c,d),e.setShape(c)}}else{var u=n.get(["itemStyle","borderRadius"])||0;e.setShape("r",u)}e.useStyle(l);var h=n.getShallow("cursor");h&&e.attr("cursor",h);var f=s?o?r.r>=r.r0?"endArc":"startArc":r.endAngle>=r.startAngle?"endAngle":"startAngle":o?r.height>=0?"bottom":"top":r.width>=0?"right":"left",v=fa(n);va(e,v,{labelFetcher:i,labelDataIndex:t,defaultText:cn(i.getData(),t),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:f});var p=e.getTextContent();if(s&&p){var m=n.get(["label","position"]);e.textConfig.inside=m==="middle"?!0:null,id(e,m==="outside"?f:m,Hi(o),n.get(["label","rotate"]))}Ws(p,v,i.getRawValue(t),function(y){return Ni(a,y)});var g=n.getModel(["emphasis"]);na(e,g.get("focus"),g.get("blurScope"),g.get("disabled")),Na(e,n),fd(r)&&(e.style.fill="none",e.style.stroke="none",M(e.states,function(y){y.style&&(y.style.fill=y.style.stroke="none")}))}function vd(e,a){var t=e.get(["itemStyle","borderColor"]);if(!t||t==="none")return 0;var n=e.get(["itemStyle","borderWidth"])||0,r=isNaN(a.width)?Number.MAX_VALUE:Math.abs(a.width),i=isNaN(a.height)?Number.MAX_VALUE:Math.abs(a.height);return Math.min(n,r,i)}var hd=function(){function e(){}return e}(),gr=function(e){Y(a,e);function a(t){var n=e.call(this,t)||this;return n.type="largeBar",n}return a.prototype.getDefaultShape=function(){return new hd},a.prototype.buildPath=function(t,n){for(var r=n.points,i=this.baseDimIdx,o=1-this.baseDimIdx,s=[],l=[],u=this.barWidth,c=0;c<r.length;c+=3)l[i]=u,l[o]=r[c+2],s[i]=r[c+i],s[o]=r[c+o],t.rect(s[0],s[1],l[0],l[1])},a}(ha);function mr(e,a,t,n){var r=e.getData(),i=r.getLayout("valueAxisHorizontal")?1:0,o=r.getLayout("largeDataIndices"),s=r.getLayout("size"),l=e.getModel("backgroundStyle"),u=r.getLayout("largeBackgroundPoints");if(u){var c=new gr({shape:{points:u},incremental:!!n,silent:!0,z2:0});c.baseDimIdx=i,c.largeDataIndices=o,c.barWidth=s,c.useStyle(l.getItemStyle()),a.add(c),t&&t.push(c)}var d=new gr({shape:{points:r.getLayout("largePoints")},incremental:!!n,ignoreCoarsePointer:!0,z2:1});d.baseDimIdx=i,d.largeDataIndices=o,d.barWidth=s,a.add(d),d.useStyle(r.getVisual("style")),d.style.stroke=null,ee(d).seriesIndex=e.seriesIndex,e.get("silent")||(d.on("mousedown",yr),d.on("mousemove",yr)),t&&t.push(d)}var yr=Hs(function(e){var a=this,t=pd(a,e.offsetX,e.offsetY);ee(a).dataIndex=t>=0?t:null},30,!1);function pd(e,a,t){for(var n=e.baseDimIdx,r=1-n,i=e.shape.points,o=e.largeDataIndices,s=[],l=[],u=e.barWidth,c=0,d=i.length/3;c<d;c++){var h=c*3;if(l[n]=u,l[r]=i[h+2],s[n]=i[h+n],s[r]=i[h+r],l[r]<0&&(s[r]+=l[r],l[r]=-l[r]),a>=s[0]&&a<=s[0]+l[0]&&t>=s[1]&&t<=s[1]+l[1])return o[c]}return-1}function Ui(e,a,t){if(fn(t,"cartesian2d")){var n=a,r=t.getArea();return{x:e?n.x:r.x,y:e?r.y:n.y,width:e?n.width:r.width,height:e?r.height:n.height}}else{var r=t.getArea(),i=a;return{cx:r.cx,cy:r.cy,r0:e?r.r0:i.r0,r:e?r.r:i.r,startAngle:e?i.startAngle:0,endAngle:e?i.endAngle:Math.PI*2}}}function gd(e,a,t){var n=e.type==="polar"?an:Me;return new n({shape:Ui(a,t,e),silent:!0,z2:0})}function md(e){e.registerChartView(ld),e.registerSeriesModel(ad),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,le(Yl,"bar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Zl("bar")),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,Wi("bar")),e.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(a,t){var n=a.componentType||"series";t.eachComponent({mainType:n,query:a},function(r){a.sortInfo&&r.axis.setCategorySortInfo(a.sortInfo)})})}var yd=function(e){Y(a,e);function a(){return e!==null&&e.apply(this,arguments)||this}return a.type="grid",a.dependencies=["xAxis","yAxis"],a.layoutMode="box",a.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},a}(_t),Wa=function(e){Y(a,e);function a(){return e!==null&&e.apply(this,arguments)||this}return a.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",qe).models[0]},a.type="cartesian2dAxis",a}(_t);Us(Wa,Pc);var Xi={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},bd=je({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Xi),vn=je({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},Xi),Sd=je({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},vn),xd=fe({logBase:10},vn);const Cd={category:bd,value:vn,time:Sd,log:xd};var wd={value:1,category:1,time:1,log:1};function br(e,a,t,n){M(wd,function(r,i){var o=je(je({},Cd[i],!0),n,!0),s=function(l){Y(u,l);function u(){var c=l!==null&&l.apply(this,arguments)||this;return c.type=a+"Axis."+i,c}return u.prototype.mergeDefaultAndTheme=function(c,d){var h=Xs(this),f=h?gi(c):{},v=d.getTheme();je(c,v.get(i+"Axis")),je(c,this.getDefaultOption()),c.type=Sr(c),h&&mi(c,f,h)},u.prototype.optionUpdated=function(){var c=this.option;c.type==="category"&&(this.__ordinalMeta=ql.createByAxisModel(this))},u.prototype.getCategories=function(c){var d=this.option;if(d.type==="category")return c?d.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.type=a+"Axis."+i,u.defaultOption=o,u}(t);e.registerComponentModel(s)}),e.registerSubTypeDefaulter(a+"Axis",Sr)}function Sr(e){return e.type||(e.data?"category":"value")}var Ha=["x","y"];function xr(e){return e.type==="interval"||e.type==="time"}var Ad=function(e){Y(a,e);function a(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=Ha,t}return a.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,n=this.getAxis("y").scale;if(!(!xr(t)||!xr(n))){var r=t.getExtent(),i=n.getExtent(),o=this.dataToPoint([r[0],i[0]]),s=this.dataToPoint([r[1],i[1]]),l=r[1]-r[0],u=i[1]-i[0];if(!(!l||!u)){var c=(s[0]-o[0])/l,d=(s[1]-o[1])/u,h=o[0]-r[0]*c,f=o[1]-i[0]*d,v=this._transform=[c,0,0,d,h,f];this._invTransform=Ks([],v)}}},a.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},a.prototype.containPoint=function(t){var n=this.getAxis("x"),r=this.getAxis("y");return n.contain(n.toLocalCoord(t[0]))&&r.contain(r.toLocalCoord(t[1]))},a.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},a.prototype.containZone=function(t,n){var r=this.dataToPoint(t),i=this.dataToPoint(n),o=this.getArea(),s=new $n(r[0],r[1],i[0]-r[0],i[1]-r[1]);return o.intersect(s)},a.prototype.dataToPoint=function(t,n,r){r=r||[];var i=t[0],o=t[1];if(this._transform&&i!=null&&isFinite(i)&&o!=null&&isFinite(o))return xt(r,t,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return r[0]=s.toGlobalCoord(s.dataToCoord(i,n)),r[1]=l.toGlobalCoord(l.dataToCoord(o,n)),r},a.prototype.clampData=function(t,n){var r=this.getAxis("x").scale,i=this.getAxis("y").scale,o=r.getExtent(),s=i.getExtent(),l=r.parse(t[0]),u=i.parse(t[1]);return n=n||[],n[0]=Math.min(Math.max(Math.min(o[0],o[1]),l),Math.max(o[0],o[1])),n[1]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),n},a.prototype.pointToData=function(t,n){var r=[];if(this._invTransform)return xt(r,t,this._invTransform);var i=this.getAxis("x"),o=this.getAxis("y");return r[0]=i.coordToData(i.toLocalCoord(t[0]),n),r[1]=o.coordToData(o.toLocalCoord(t[1]),n),r},a.prototype.getOtherAxis=function(t){return this.getAxis(t.dim==="x"?"y":"x")},a.prototype.getArea=function(t){t=t||0;var n=this.getAxis("x").getGlobalExtent(),r=this.getAxis("y").getGlobalExtent(),i=Math.min(n[0],n[1])-t,o=Math.min(r[0],r[1])-t,s=Math.max(n[0],n[1])-i+t,l=Math.max(r[0],r[1])-o+t;return new $n(i,o,s,l)},a}(kc),_d=function(e){Y(a,e);function a(t,n,r,i,o){var s=e.call(this,t,n,r)||this;return s.index=0,s.type=i||"value",s.position=o||"bottom",s}return a.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},a.prototype.getGlobalExtent=function(t){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),t&&n[0]>n[1]&&n.reverse(),n},a.prototype.pointToData=function(t,n){return this.coordToData(this.toLocalCoord(t[this.dim==="x"?0:1]),n)},a.prototype.setCategorySortInfo=function(t){if(this.type!=="category")return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},a}(jl);function Ua(e,a,t){t=t||{};var n=e.coordinateSystem,r=a.axis,i={},o=r.getAxesOnZeroOf()[0],s=r.position,l=o?"onZero":s,u=r.dim,c=n.getRect(),d=[c.x,c.x+c.width,c.y,c.y+c.height],h={left:0,right:1,top:0,bottom:1,onZero:2},f=a.get("offset")||0,v=u==="x"?[d[2]-f,d[3]+f]:[d[0]-f,d[1]+f];if(o){var p=o.toGlobalCoord(o.dataToCoord(0));v[h.onZero]=Math.max(Math.min(p,v[1]),v[0])}i.position=[u==="y"?v[h[l]]:d[0],u==="x"?v[h[l]]:d[3]],i.rotation=Math.PI/2*(u==="x"?0:1);var m={top:-1,bottom:1,left:-1,right:1};i.labelDirection=i.tickDirection=i.nameDirection=m[s],i.labelOffset=o?v[h[s]]-v[h.onZero]:0,a.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),Gt(t.labelInside,a.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var g=a.get(["axisLabel","rotate"]);return i.labelRotate=l==="top"?-g:g,i.z2=1,i}function Cr(e){return e.get("coordinateSystem")==="cartesian2d"}function wr(e){var a={xAxisModel:null,yAxisModel:null};return M(a,function(t,n){var r=n.replace(/Model$/,""),i=e.getReferringComponents(r,qe).models[0];a[n]=i}),a}var Ia=Math.log;function Td(e,a,t){var n=Ql.prototype,r=n.getTicks.call(t),i=n.getTicks.call(t,!0),o=r.length-1,s=n.getInterval.call(t),l=Jl(e,a),u=l.extent,c=l.fixMin,d=l.fixMax;if(e.type==="log"){var h=Ia(e.base);u=[Ia(u[0])/h,Ia(u[1])/h]}e.setExtent(u[0],u[1]),e.calcNiceExtent({splitNumber:o,fixMin:c,fixMax:d});var f=n.getExtent.call(e);c&&(u[0]=f[0]),d&&(u[1]=f[1]);var v=n.getInterval.call(e),p=u[0],m=u[1];if(c&&d)v=(m-p)/o;else if(c)for(m=u[0]+v*o;m<u[1]&&isFinite(m)&&isFinite(u[1]);)v=Ca(v),m=u[0]+v*o;else if(d)for(p=u[1]-v*o;p>u[0]&&isFinite(p)&&isFinite(u[0]);)v=Ca(v),p=u[1]-v*o;else{var g=e.getTicks().length-1;g>o&&(v=Ca(v));var y=v*o;m=Math.ceil(u[1]/v)*v,p=ot(m-y),p<0&&u[0]>=0?(p=0,m=ot(y)):m>0&&u[1]<=0&&(m=0,p=-ot(y))}var b=(r[0].value-i[0].value)/s,x=(r[o].value-i[o].value)/s;n.setExtent.call(e,p+v*b,m+v*x),n.setInterval.call(e,v),(b||x)&&n.setNiceExtent.call(e,p+v,m-v)}var Dd=function(){function e(a,t,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=Ha,this._initCartesian(a,t,n),this.model=a}return e.prototype.getRect=function(){return this._rect},e.prototype.update=function(a,t){var n=this._axesMap;this._updateScale(a,this.model);function r(o){var s,l=Ys(o),u=l.length;if(u){for(var c=[],d=u-1;d>=0;d--){var h=+l[d],f=o[h],v=f.model,p=f.scale;za(p)&&v.get("alignTicks")&&v.get("interval")==null?c.push(f):(Jn(p,v),za(p)&&(s=f))}c.length&&(s||(s=c.pop(),Jn(s.scale,s.model)),M(c,function(m){Td(m.scale,m.model,s.scale)}))}}r(n.x),r(n.y);var i={};M(n.x,function(o){Ar(n,"y",o,i)}),M(n.y,function(o){Ar(n,"x",o,i)}),this.resize(this.model,t)},e.prototype.resize=function(a,t,n){var r=a.getBoxLayoutParams(),i=!n&&a.get("containLabel"),o=$t(r,{width:t.getWidth(),height:t.getHeight()});this._rect=o;var s=this._axesList;l(),i&&(M(s,function(u){if(!u.model.get(["axisLabel","inside"])){var c=eu(u);if(c){var d=u.isHorizontal()?"height":"width",h=u.model.get(["axisLabel","margin"]);o[d]-=c[d]+h,u.position==="top"?o.y+=c.height+h:u.position==="left"&&(o.x+=c.width+h)}}}),l()),M(this._coordsList,function(u){u.calcAffineTransform()});function l(){M(s,function(u){var c=u.isHorizontal(),d=c?[0,o.width]:[0,o.height],h=u.inverse?1:0;u.setExtent(d[h],d[1-h]),Id(u,c?o.x:o.y)})}},e.prototype.getAxis=function(a,t){var n=this._axesMap[a];if(n!=null)return n[t||0]},e.prototype.getAxes=function(){return this._axesList.slice()},e.prototype.getCartesian=function(a,t){if(a!=null&&t!=null){var n="x"+a+"y"+t;return this._coordsMap[n]}Pe(a)&&(t=a.yAxisIndex,a=a.xAxisIndex);for(var r=0,i=this._coordsList;r<i.length;r++)if(i[r].getAxis("x").index===a||i[r].getAxis("y").index===t)return i[r]},e.prototype.getCartesians=function(){return this._coordsList.slice()},e.prototype.convertToPixel=function(a,t,n){var r=this._findConvertTarget(t);return r.cartesian?r.cartesian.dataToPoint(n):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(n)):null},e.prototype.convertFromPixel=function(a,t,n){var r=this._findConvertTarget(t);return r.cartesian?r.cartesian.pointToData(n):r.axis?r.axis.coordToData(r.axis.toLocalCoord(n)):null},e.prototype._findConvertTarget=function(a){var t=a.seriesModel,n=a.xAxisModel||t&&t.getReferringComponents("xAxis",qe).models[0],r=a.yAxisModel||t&&t.getReferringComponents("yAxis",qe).models[0],i=a.gridModel,o=this._coordsList,s,l;if(t)s=t.coordinateSystem,bt(o,s)<0&&(s=null);else if(n&&r)s=this.getCartesian(n.componentIndex,r.componentIndex);else if(n)l=this.getAxis("x",n.componentIndex);else if(r)l=this.getAxis("y",r.componentIndex);else if(i){var u=i.coordinateSystem;u===this&&(s=this._coordsList[0])}return{cartesian:s,axis:l}},e.prototype.containPoint=function(a){var t=this._coordsList[0];if(t)return t.containPoint(a)},e.prototype._initCartesian=function(a,t,n){var r=this,i=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(t.eachComponent("xAxis",u("x"),this),t.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,M(s.x,function(c,d){M(s.y,function(h,f){var v="x"+d+"y"+f,p=new Ad(v);p.master=r,p.model=a,r._coordsMap[v]=p,r._coordsList.push(p),p.addAxis(c),p.addAxis(h)})});function u(c){return function(d,h){if(La(d,a)){var f=d.get("position");c==="x"?f!=="top"&&f!=="bottom"&&(f=o.bottom?"top":"bottom"):f!=="left"&&f!=="right"&&(f=o.left?"right":"left"),o[f]=!0;var v=new _d(c,tu(d),[0,0],d.get("type"),f),p=v.type==="category";v.onBand=p&&d.get("boundaryGap"),v.inverse=d.get("inverse"),d.axis=v,v.model=d,v.grid=i,v.index=h,i._axesList.push(v),s[c][h]=v,l[c]++}}}},e.prototype._updateScale=function(a,t){M(this._axesList,function(r){if(r.scale.setExtent(1/0,-1/0),r.type==="category"){var i=r.model.get("categorySortInfo");r.scale.setSortInfo(i)}}),a.eachSeries(function(r){if(Cr(r)){var i=wr(r),o=i.xAxisModel,s=i.yAxisModel;if(!La(o,t)||!La(s,t))return;var l=this.getCartesian(o.componentIndex,s.componentIndex),u=r.getData(),c=l.getAxis("x"),d=l.getAxis("y");n(u,c),n(u,d)}},this);function n(r,i){M(au(r,i.dim),function(o){i.scale.unionExtentFromData(r,o)})}},e.prototype.getTooltipAxes=function(a){var t=[],n=[];return M(this.getCartesians(),function(r){var i=a!=null&&a!=="auto"?r.getAxis(a):r.getBaseAxis(),o=r.getOtherAxis(i);bt(t,i)<0&&t.push(i),bt(n,o)<0&&n.push(o)}),{baseAxes:t,otherAxes:n}},e.create=function(a,t){var n=[];return a.eachComponent("grid",function(r,i){var o=new e(r,a,t);o.name="grid_"+i,o.resize(r,t,!0),r.coordinateSystem=o,n.push(o)}),a.eachSeries(function(r){if(Cr(r)){var i=wr(r),o=i.xAxisModel,s=i.yAxisModel,l=o.getCoordSysModel(),u=l.coordinateSystem;r.coordinateSystem=u.getCartesian(o.componentIndex,s.componentIndex)}}),n},e.dimensions=Ha,e}();function La(e,a){return e.getCoordSysModel()===a}function Ar(e,a,t,n){t.getAxesOnZeroOf=function(){return i?[i]:[]};var r=e[a],i,o=t.model,s=o.get(["axisLine","onZero"]),l=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(l!=null)_r(r[l])&&(i=r[l]);else for(var u in r)if(r.hasOwnProperty(u)&&_r(r[u])&&!n[c(r[u])]){i=r[u];break}i&&(n[c(i)]=!0);function c(d){return d.dim+"_"+d.index}}function _r(e){return e&&e.type!=="category"&&e.type!=="time"&&nu(e)}function Id(e,a){var t=e.getExtent(),n=t[0]+t[1];e.toGlobalCoord=e.dim==="x"?function(r){return r+a}:function(r){return n-r+a},e.toLocalCoord=e.dim==="x"?function(r){return r-a}:function(r){return n-r+a}}var Qe=Math.PI,et=function(){function e(a,t){this.group=new _e,this.opt=t,this.axisModel=a,fe(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var n=new _e({x:t.position[0],y:t.position[1],rotation:t.rotation});n.updateTransform(),this._transformGroup=n}return e.prototype.hasBuilder=function(a){return!!Tr[a]},e.prototype.add=function(a){Tr[a](this.opt,this.axisModel,this.group,this._transformGroup)},e.prototype.getGroup=function(){return this.group},e.innerTextLayout=function(a,t,n){var r=yi(t-a),i,o;return oa(r)?(o=n>0?"top":"bottom",i="center"):oa(r-Qe)?(o=n>0?"bottom":"top",i="center"):(o="middle",r>0&&r<Qe?i=n>0?"right":"left":i=n>0?"left":"right"),{rotation:r,textAlign:i,textVerticalAlign:o}},e.makeAxisEventDataBase=function(a){var t={componentType:a.mainType,componentIndex:a.componentIndex};return t[a.mainType+"Index"]=a.componentIndex,t},e.isLabelSilent=function(a){var t=a.get("tooltip");return a.get("silent")||!(a.get("triggerEvent")||t&&t.show)},e}(),Tr={axisLine:function(e,a,t,n){var r=a.get(["axisLine","show"]);if(r==="auto"&&e.handleAutoShown&&(r=e.handleAutoShown("axisLine")),!!r){var i=a.axis.getExtent(),o=n.transform,s=[i[0],0],l=[i[1],0],u=s[0]>l[0];o&&(xt(s,s,o),xt(l,l,o));var c=xe({lineCap:"round"},a.getModel(["axisLine","lineStyle"]).getLineStyle()),d=new ra({shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:c,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1});ia(d.shape,d.style.lineWidth),d.anid="line",t.add(d);var h=a.get(["axisLine","symbol"]);if(h!=null){var f=a.get(["axisLine","symbolSize"]);ae(h)&&(h=[h,h]),(ae(f)||Ht(f))&&(f=[f,f]);var v=fi(a.get(["axisLine","symbolOffset"])||0,f),p=f[0],m=f[1];M([{rotate:e.rotation+Math.PI/2,offset:v[0],r:0},{rotate:e.rotation-Math.PI/2,offset:v[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],function(g,y){if(h[y]!=="none"&&h[y]!=null){var b=zt(h[y],-p/2,-m/2,p,m,c.stroke,!0),x=g.r+g.offset,S=u?l:s;b.attr({rotation:g.rotate,x:S[0]+x*Math.cos(e.rotation),y:S[1]-x*Math.sin(e.rotation),silent:!0,z2:11}),t.add(b)}})}}},axisTickLabel:function(e,a,t,n){var r=kd(t,n,a,e),i=Md(t,n,a,e);if(Pd(a,i,r),Od(t,n,a,e.tickDirection),a.get(["axisLabel","hideOverlap"])){var o=iu(Oe(i,function(s){return{label:s,priority:s.z2,defaultAttr:{ignore:s.ignore}}}));ou(o)}},axisName:function(e,a,t,n){var r=Gt(e.axisName,a.get("name"));if(r){var i=a.get("nameLocation"),o=e.nameDirection,s=a.getModel("nameTextStyle"),l=a.get("nameGap")||0,u=a.axis.getExtent(),c=u[0]>u[1]?-1:1,d=[i==="start"?u[0]-c*l:i==="end"?u[1]+c*l:(u[0]+u[1])/2,Ir(i)?e.labelOffset+o*l:0],h,f=a.get("nameRotate");f!=null&&(f=f*Qe/180);var v;Ir(i)?h=et.innerTextLayout(e.rotation,f??e.rotation,o):(h=Ld(e.rotation,i,f||0,u),v=e.axisNameAvailableWidth,v!=null&&(v=Math.abs(v/Math.sin(h.rotation)),!isFinite(v)&&(v=null)));var p=s.getFont(),m=a.get("nameTruncate",!0)||{},g=m.ellipsis,y=Gt(e.nameTruncateMaxWidth,m.maxWidth,v),b=new ke({x:d[0],y:d[1],rotation:h.rotation,silent:et.isLabelSilent(a),style:Ct(s,{text:r,font:p,overflow:"truncate",width:y,ellipsis:g,fill:s.getTextColor()||a.get(["axisLine","lineStyle","color"]),align:s.get("align")||h.textAlign,verticalAlign:s.get("verticalAlign")||h.textVerticalAlign}),z2:1});if(nn({el:b,componentModel:a,itemName:r}),b.__fullText=r,b.anid="name",a.get("triggerEvent")){var x=et.makeAxisEventDataBase(a);x.targetType="axisName",x.name=r,ee(b).eventData=x}n.add(b),b.updateTransform(),t.add(b),b.decomposeTransform()}}};function Ld(e,a,t,n){var r=yi(t-e),i,o,s=n[0]>n[1],l=a==="start"&&!s||a!=="start"&&s;return oa(r-Qe/2)?(o=l?"bottom":"top",i="center"):oa(r-Qe*1.5)?(o=l?"top":"bottom",i="center"):(o="middle",r<Qe*1.5&&r>Qe/2?i=l?"left":"right":i=l?"right":"left"),{rotation:r,textAlign:i,textVerticalAlign:o}}function Pd(e,a,t){if(!ru(e.axis)){var n=e.get(["axisLabel","showMinLabel"]),r=e.get(["axisLabel","showMaxLabel"]);a=a||[],t=t||[];var i=a[0],o=a[1],s=a[a.length-1],l=a[a.length-2],u=t[0],c=t[1],d=t[t.length-1],h=t[t.length-2];n===!1?(ye(i),ye(u)):Dr(i,o)&&(n?(ye(o),ye(c)):(ye(i),ye(u))),r===!1?(ye(s),ye(d)):Dr(l,s)&&(r?(ye(l),ye(h)):(ye(s),ye(d)))}}function ye(e){e&&(e.ignore=!0)}function Dr(e,a){var t=e&&e.getBoundingRect().clone(),n=a&&a.getBoundingRect().clone();if(!(!t||!n)){var r=Zs([]);return bi(r,r,-e.rotation),t.applyTransform(Fn([],r,e.getLocalTransform())),n.applyTransform(Fn([],r,a.getLocalTransform())),t.intersect(n)}}function Ir(e){return e==="middle"||e==="center"}function Ki(e,a,t,n,r){for(var i=[],o=[],s=[],l=0;l<e.length;l++){var u=e[l].coord;o[0]=u,o[1]=0,s[0]=u,s[1]=t,a&&(xt(o,o,a),xt(s,s,a));var c=new ra({shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:n,z2:2,autoBatch:!0,silent:!0});ia(c.shape,c.style.lineWidth),c.anid=r+"_"+e[l].tickValue,i.push(c)}return i}function kd(e,a,t,n){var r=t.axis,i=t.getModel("axisTick"),o=i.get("show");if(o==="auto"&&n.handleAutoShown&&(o=n.handleAutoShown("axisTick")),!(!o||r.scale.isBlank())){for(var s=i.getModel("lineStyle"),l=n.tickDirection*i.get("length"),u=r.getTicksCoords(),c=Ki(u,a.transform,l,fe(s.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}),"ticks"),d=0;d<c.length;d++)e.add(c[d]);return c}}function Od(e,a,t,n){var r=t.axis,i=t.getModel("minorTick");if(!(!i.get("show")||r.scale.isBlank())){var o=r.getMinorTicksCoords();if(o.length)for(var s=i.getModel("lineStyle"),l=n*i.get("length"),u=fe(s.getLineStyle(),fe(t.getModel("axisTick").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})),c=0;c<o.length;c++)for(var d=Ki(o[c],a.transform,l,u,"minorticks_"+c),h=0;h<d.length;h++)e.add(d[h])}}function Md(e,a,t,n){var r=t.axis,i=Gt(n.axisLabelShow,t.get(["axisLabel","show"]));if(!(!i||r.scale.isBlank())){var o=t.getModel("axisLabel"),s=o.get("margin"),l=r.getViewLabels(),u=(Gt(n.labelRotate,o.get("rotate"))||0)*Qe/180,c=et.innerTextLayout(n.rotation,u,n.labelDirection),d=t.getCategories&&t.getCategories(!0),h=[],f=et.isLabelSilent(t),v=t.get("triggerEvent");return M(l,function(p,m){var g=r.scale.type==="ordinal"?r.scale.getRawOrdinalNumber(p.tickValue):p.tickValue,y=p.formattedLabel,b=p.rawLabel,x=o;if(d&&d[g]){var S=d[g];Pe(S)&&S.textStyle&&(x=new st(S.textStyle,o,t.ecModel))}var w=x.getTextColor()||t.get(["axisLine","lineStyle","color"]),A=r.dataToCoord(g),L=x.getShallow("align",!0)||c.textAlign,_=lt(x.getShallow("alignMinLabel",!0),L),D=lt(x.getShallow("alignMaxLabel",!0),L),T=x.getShallow("verticalAlign",!0)||x.getShallow("baseline",!0)||c.textVerticalAlign,P=lt(x.getShallow("verticalAlignMinLabel",!0),T),I=lt(x.getShallow("verticalAlignMaxLabel",!0),T),E=new ke({x:A,y:n.labelOffset+n.labelDirection*s,rotation:c.rotation,silent:f,z2:10+(p.level||0),style:Ct(x,{text:y,align:m===0?_:m===l.length-1?D:L,verticalAlign:m===0?P:m===l.length-1?I:T,fill:me(w)?w(r.type==="category"?b:r.type==="value"?g+"":g,m):w})});if(E.anid="label_"+g,nn({el:E,componentModel:t,itemName:y,formatterParamsExtra:{isTruncated:function(){return E.isTruncated},value:b,tickIndex:m}}),v){var O=et.makeAxisEventDataBase(t);O.targetType="axisLabel",O.value=b,O.tickIndex=m,r.type==="category"&&(O.dataIndex=g),ee(E).eventData=O}a.add(E),E.updateTransform(),h.push(E),e.add(E),E.decomposeTransform()}),h}}function Ed(e,a){var t={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return Rd(t,e,a),t.seriesInvolved&&Vd(t,e),t}function Rd(e,a,t){var n=a.getComponent("tooltip"),r=a.getComponent("axisPointer"),i=r.get("link",!0)||[],o=[];M(t.getCoordinateSystems(),function(s){if(!s.axisPointerEnabled)return;var l=Wt(s.model),u=e.coordSysAxesInfo[l]={};e.coordSysMap[l]=s;var c=s.model,d=c.getModel("tooltip",n);if(M(s.getAxes(),le(p,!1,null)),s.getTooltipAxes&&n&&d.get("show")){var h=d.get("trigger")==="axis",f=d.get(["axisPointer","type"])==="cross",v=s.getTooltipAxes(d.get(["axisPointer","axis"]));(h||f)&&M(v.baseAxes,le(p,f?"cross":!0,h)),f&&M(v.otherAxes,le(p,"cross",!1))}function p(m,g,y){var b=y.model.getModel("axisPointer",r),x=b.get("show");if(!(!x||x==="auto"&&!m&&!Xa(b))){g==null&&(g=b.get("triggerTooltip")),b=m?Nd(y,d,r,a,m,g):b;var S=b.get("snap"),w=b.get("triggerEmphasis"),A=Wt(y.model),L=g||S||y.type==="category",_=e.axesInfo[A]={key:A,axis:y,coordSys:s,axisPointerModel:b,triggerTooltip:g,triggerEmphasis:w,involveSeries:L,snap:S,useHandle:Xa(b),seriesModels:[],linkGroup:null};u[A]=_,e.seriesInvolved=e.seriesInvolved||L;var D=Bd(i,y);if(D!=null){var T=o[D]||(o[D]={axesInfo:{}});T.axesInfo[A]=_,T.mapper=i[D].mapper,_.linkGroup=T}}}})}function Nd(e,a,t,n,r,i){var o=a.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};M(s,function(h){l[h]=Ft(o.get(h))}),l.snap=e.type!=="category"&&!!i,o.get("type")==="cross"&&(l.type="line");var u=l.label||(l.label={});if(u.show==null&&(u.show=!1),r==="cross"){var c=o.get(["label","show"]);if(u.show=c??!0,!i){var d=l.lineStyle=o.get("crossStyle");d&&fe(u,d.textStyle)}}return e.model.getModel("axisPointer",new st(l,t,n))}function Vd(e,a){a.eachSeries(function(t){var n=t.coordinateSystem,r=t.get(["tooltip","trigger"],!0),i=t.get(["tooltip","show"],!0);!n||r==="none"||r===!1||r==="item"||i===!1||t.get(["axisPointer","show"],!0)===!1||M(e.coordSysAxesInfo[Wt(n.model)],function(o){var s=o.axis;n.getAxis(s.dim)===s&&(o.seriesModels.push(t),o.seriesDataCount==null&&(o.seriesDataCount=0),o.seriesDataCount+=t.getData().count())})})}function Bd(e,a){for(var t=a.model,n=a.dim,r=0;r<e.length;r++){var i=e[r]||{};if(Pa(i[n+"AxisId"],t.id)||Pa(i[n+"AxisIndex"],t.componentIndex)||Pa(i[n+"AxisName"],t.name))return r}}function Pa(e,a){return e==="all"||ie(e)&&bt(e,a)>=0||e===a}function zd(e){var a=hn(e);if(a){var t=a.axisPointerModel,n=a.axis.scale,r=t.option,i=t.get("status"),o=t.get("value");o!=null&&(o=n.parse(o));var s=Xa(t);i==null&&(r.status=s?"show":"hide");var l=n.getExtent().slice();l[0]>l[1]&&l.reverse(),(o==null||o>l[1])&&(o=l[1]),o<l[0]&&(o=l[0]),r.value=o,s&&(r.status=a.axis.scale.isBlank()?"hide":"show")}}function hn(e){var a=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return a&&a.axesInfo[Wt(e)]}function Gd(e){var a=hn(e);return a&&a.axisPointerModel}function Xa(e){return!!e.get(["handle","show"])}function Wt(e){return e.type+"||"+e.id}var Lr={},Yi=function(e){Y(a,e);function a(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=a.type,t}return a.prototype.render=function(t,n,r,i){this.axisPointerClass&&zd(t),e.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,r,!0)},a.prototype.updateAxisPointer=function(t,n,r,i){this._doUpdateAxisPointerClass(t,r,!1)},a.prototype.remove=function(t,n){var r=this._axisPointer;r&&r.remove(n)},a.prototype.dispose=function(t,n){this._disposeAxisPointer(n),e.prototype.dispose.apply(this,arguments)},a.prototype._doUpdateAxisPointerClass=function(t,n,r){var i=a.getAxisPointerClass(this.axisPointerClass);if(i){var o=Gd(t);o?(this._axisPointer||(this._axisPointer=new i)).render(t,o,n,r):this._disposeAxisPointer(n)}},a.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},a.registerAxisPointerClass=function(t,n){Lr[t]=n},a.getAxisPointerClass=function(t){return t&&Lr[t]},a.type="axis",a}(Tt),Ka=pa();function $d(e,a,t,n){var r=t.axis;if(!r.scale.isBlank()){var i=t.getModel("splitArea"),o=i.getModel("areaStyle"),s=o.get("color"),l=n.coordinateSystem.getRect(),u=r.getTicksCoords({tickModel:i,clamp:!0});if(u.length){var c=s.length,d=Ka(e).splitAreaColors,h=tt(),f=0;if(d)for(var v=0;v<u.length;v++){var p=d.get(u[v].tickValue);if(p!=null){f=(p+(c-1)*v)%c;break}}var m=r.toGlobalCoord(u[0].coord),g=o.getAreaStyle();s=ie(s)?s:[s];for(var v=1;v<u.length;v++){var y=r.toGlobalCoord(u[v].coord),b=void 0,x=void 0,S=void 0,w=void 0;r.isHorizontal()?(b=m,x=l.y,S=y-b,w=l.height,m=b+S):(b=l.x,x=m,S=l.width,w=y-x,m=x+w);var A=u[v-1].tickValue;A!=null&&h.set(A,f),a.add(new Me({anid:A!=null?"area_"+A:null,shape:{x:b,y:x,width:S,height:w},style:fe({fill:s[f]},g),autoBatch:!0,silent:!0})),f=(f+1)%c}Ka(e).splitAreaColors=h}}}function Fd(e){Ka(e).splitAreaColors=null}var Wd=["axisLine","axisTickLabel","axisName"],Hd=["splitArea","splitLine","minorSplitLine"],Zi=function(e){Y(a,e);function a(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=a.type,t.axisPointerClass="CartesianAxisPointer",t}return a.prototype.render=function(t,n,r,i){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new _e,this.group.add(this._axisGroup),!!t.get("show")){var s=t.getCoordSysModel(),l=Ua(s,t),u=new et(t,xe({handleAutoShown:function(d){for(var h=s.coordinateSystem.getCartesians(),f=0;f<h.length;f++)if(za(h[f].getOtherAxis(t.axis).scale))return!0;return!1}},l));M(Wd,u.add,u),this._axisGroup.add(u.getGroup()),M(Hd,function(d){t.get([d,"show"])&&Ud[d](this,this._axisGroup,t,s)},this);var c=i&&i.type==="changeAxisOrder"&&i.isInitSort;c||qs(o,this._axisGroup,t),e.prototype.render.call(this,t,n,r,i)}},a.prototype.remove=function(){Fd(this)},a.type="cartesianAxis",a}(Yi),Ud={splitLine:function(e,a,t,n){var r=t.axis;if(!r.scale.isBlank()){var i=t.getModel("splitLine"),o=i.getModel("lineStyle"),s=o.get("color"),l=i.get("showMinLine")!==!1,u=i.get("showMaxLine")!==!1;s=ie(s)?s:[s];for(var c=n.coordinateSystem.getRect(),d=r.isHorizontal(),h=0,f=r.getTicksCoords({tickModel:i}),v=[],p=[],m=o.getLineStyle(),g=0;g<f.length;g++){var y=r.toGlobalCoord(f[g].coord);if(!(g===0&&!l||g===f.length-1&&!u)){var b=f[g].tickValue;d?(v[0]=y,v[1]=c.y,p[0]=y,p[1]=c.y+c.height):(v[0]=c.x,v[1]=y,p[0]=c.x+c.width,p[1]=y);var x=h++%s.length,S=new ra({anid:b!=null?"line_"+b:null,autoBatch:!0,shape:{x1:v[0],y1:v[1],x2:p[0],y2:p[1]},style:fe({stroke:s[x]},m),silent:!0});ia(S.shape,m.lineWidth),a.add(S)}}}},minorSplitLine:function(e,a,t,n){var r=t.axis,i=t.getModel("minorSplitLine"),o=i.getModel("lineStyle"),s=n.coordinateSystem.getRect(),l=r.isHorizontal(),u=r.getMinorTicksCoords();if(u.length)for(var c=[],d=[],h=o.getLineStyle(),f=0;f<u.length;f++)for(var v=0;v<u[f].length;v++){var p=r.toGlobalCoord(u[f][v].coord);l?(c[0]=p,c[1]=s.y,d[0]=p,d[1]=s.y+s.height):(c[0]=s.x,c[1]=p,d[0]=s.x+s.width,d[1]=p);var m=new ra({anid:"minor_line_"+u[f][v].tickValue,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:d[0],y2:d[1]},style:h,silent:!0});ia(m.shape,h.lineWidth),a.add(m)}},splitArea:function(e,a,t,n){$d(e,a,t,n)}},qi=function(e){Y(a,e);function a(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=a.type,t}return a.type="xAxis",a}(Zi),Xd=function(e){Y(a,e);function a(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=qi.type,t}return a.type="yAxis",a}(Zi),Kd=function(e){Y(a,e);function a(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="grid",t}return a.prototype.render=function(t,n){this.group.removeAll(),t.get("show")&&this.group.add(new Me({shape:t.coordinateSystem.getRect(),style:fe({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},a.type="grid",a}(Tt),Pr={offset:0};function Yd(e){e.registerComponentView(Kd),e.registerComponentModel(yd),e.registerCoordinateSystem("cartesian2d",Dd),br(e,"x",Wa,Pr),br(e,"y",Wa,Pr),e.registerComponentView(qi),e.registerComponentView(Xd),e.registerPreprocessor(function(a){a.xAxis&&a.yAxis&&!a.grid&&(a.grid={})})}var rt=pa(),kr=Ft,ka=Le,Zd=function(){function e(){this._dragging=!1,this.animationThreshold=15}return e.prototype.render=function(a,t,n,r){var i=t.get("value"),o=t.get("status");if(this._axisModel=a,this._axisPointerModel=t,this._api=n,!(!r&&this._lastValue===i&&this._lastStatus===o)){this._lastValue=i,this._lastStatus=o;var s=this._group,l=this._handle;if(!o||o==="hide"){s&&s.hide(),l&&l.hide();return}s&&s.show(),l&&l.show();var u={};this.makeElOption(u,i,a,t,n);var c=u.graphicKey;c!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=c;var d=this._moveAnimation=this.determineAnimation(a,t);if(!s)s=this._group=new _e,this.createPointerEl(s,u,a,t),this.createLabelEl(s,u,a,t),n.getZr().add(s);else{var h=le(Or,t,d);this.updatePointerEl(s,u,h),this.updateLabelEl(s,u,h,t)}Er(s,t,!0),this._renderHandle(i)}},e.prototype.remove=function(a){this.clear(a)},e.prototype.dispose=function(a){this.clear(a)},e.prototype.determineAnimation=function(a,t){var n=t.get("animation"),r=a.axis,i=r.type==="category",o=t.get("snap");if(!o&&!i)return!1;if(n==="auto"||n==null){var s=this.animationThreshold;if(i&&r.getBandWidth()>s)return!0;if(o){var l=hn(a).seriesDataCount,u=r.getExtent();return Math.abs(u[0]-u[1])/l>s}return!1}return n===!0},e.prototype.makeElOption=function(a,t,n,r,i){},e.prototype.createPointerEl=function(a,t,n,r){var i=t.pointer;if(i){var o=rt(a).pointerEl=new js[i.type](kr(t.pointer));a.add(o)}},e.prototype.createLabelEl=function(a,t,n,r){if(t.label){var i=rt(a).labelEl=new ke(kr(t.label));a.add(i),Mr(i,r)}},e.prototype.updatePointerEl=function(a,t,n){var r=rt(a).pointerEl;r&&t.pointer&&(r.setStyle(t.pointer.style),n(r,{shape:t.pointer.shape}))},e.prototype.updateLabelEl=function(a,t,n,r){var i=rt(a).labelEl;i&&(i.setStyle(t.label.style),n(i,{x:t.label.x,y:t.label.y}),Mr(i,r))},e.prototype._renderHandle=function(a){if(!(this._dragging||!this.updateHandleTransform)){var t=this._axisPointerModel,n=this._api.getZr(),r=this._handle,i=t.getModel("handle"),o=t.get("status");if(!i.get("show")||!o||o==="hide"){r&&n.remove(r),this._handle=null;return}var s;this._handle||(s=!0,r=this._handle=Si(i.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){Qs(u.event)},onmousedown:ka(this._onHandleDragMove,this,0,0),drift:ka(this._onHandleDragMove,this),ondragend:ka(this._onHandleDragEnd,this)}),n.add(r)),Er(r,t,!1),r.setStyle(i.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=i.get("size");ie(l)||(l=[l,l]),r.scaleX=l[0]/2,r.scaleY=l[1]/2,xi(this,"_doDispatchAxisPointer",i.get("throttle")||0,"fixRate"),this._moveHandleToValue(a,s)}},e.prototype._moveHandleToValue=function(a,t){Or(this._axisPointerModel,!t&&this._moveAnimation,this._handle,Oa(this.getHandleTransform(a,this._axisModel,this._axisPointerModel)))},e.prototype._onHandleDragMove=function(a,t){var n=this._handle;if(n){this._dragging=!0;var r=this.updateHandleTransform(Oa(n),[a,t],this._axisModel,this._axisPointerModel);this._payloadInfo=r,n.stopAnimation(),n.attr(Oa(r)),rt(n).lastProp=null,this._doDispatchAxisPointer()}},e.prototype._doDispatchAxisPointer=function(){var a=this._handle;if(a){var t=this._payloadInfo,n=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:n.axis.dim,axisIndex:n.componentIndex}]})}},e.prototype._onHandleDragEnd=function(){this._dragging=!1;var a=this._handle;if(a){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},e.prototype.clear=function(a){this._lastValue=null,this._lastStatus=null;var t=a.getZr(),n=this._group,r=this._handle;t&&n&&(this._lastGraphicKey=null,n&&t.remove(n),r&&t.remove(r),this._group=null,this._handle=null,this._payloadInfo=null),Ba(this,"_doDispatchAxisPointer")},e.prototype.doClear=function(){},e.prototype.buildLabel=function(a,t,n){return n=n||0,{x:a[n],y:a[1-n],width:t[n],height:t[1-n]}},e}();function Or(e,a,t,n){ji(rt(t).lastProp,n)||(rt(t).lastProp=n,a?Te(t,n,e):(t.stopAnimation(),t.attr(n)))}function ji(e,a){if(Pe(e)&&Pe(a)){var t=!0;return M(a,function(n,r){t=t&&ji(e[r],n)}),!!t}else return e===a}function Mr(e,a){e[a.get(["label","show"])?"show":"hide"]()}function Oa(e){return{x:e.x||0,y:e.y||0,rotation:e.rotation||0}}function Er(e,a,t){var n=a.get("z"),r=a.get("zlevel");e&&e.traverse(function(i){i.type!=="group"&&(n!=null&&(i.z=n),r!=null&&(i.zlevel=r),i.silent=t)})}function qd(e){var a=e.get("type"),t=e.getModel(a+"Style"),n;return a==="line"?(n=t.getLineStyle(),n.fill=null):a==="shadow"&&(n=t.getAreaStyle(),n.stroke=null),n}function jd(e,a,t,n,r){var i=t.get("value"),o=Qi(i,a.axis,a.ecModel,t.get("seriesDataIndices"),{precision:t.get(["label","precision"]),formatter:t.get(["label","formatter"])}),s=t.getModel("label"),l=rn(s.get("padding")||0),u=s.getFont(),c=al(o,u),d=r.position,h=c.width+l[1]+l[3],f=c.height+l[0]+l[2],v=r.align;v==="right"&&(d[0]-=h),v==="center"&&(d[0]-=h/2);var p=r.verticalAlign;p==="bottom"&&(d[1]-=f),p==="middle"&&(d[1]-=f/2),Qd(d,h,f,n);var m=s.get("backgroundColor");(!m||m==="auto")&&(m=a.get(["axisLine","lineStyle","color"])),e.label={x:d[0],y:d[1],style:Ct(s,{text:o,font:u,fill:s.getTextColor(),padding:l,backgroundColor:m}),z2:10}}function Qd(e,a,t,n){var r=n.getWidth(),i=n.getHeight();e[0]=Math.min(e[0]+a,r)-a,e[1]=Math.min(e[1]+t,i)-t,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}function Qi(e,a,t,n,r){e=a.scale.parse(e);var i=a.scale.getLabel({value:e},{precision:r.precision}),o=r.formatter;if(o){var s={value:Ti(a,{value:e}),axisDimension:a.dim,axisIndex:a.index,seriesData:[]};M(n,function(l){var u=t.getSeriesByIndex(l.seriesIndex),c=l.dataIndexInside,d=u&&u.getDataParams(c);d&&s.seriesData.push(d)}),ae(o)?i=o.replace("{value}",i):me(o)&&(i=o(s))}return i}function Ji(e,a,t){var n=el();return bi(n,n,t.rotation),Js(n,n,t.position),tl([e.dataToCoord(a),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],n)}function Jd(e,a,t,n,r,i){var o=et.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=r.get(["label","margin"]),jd(a,n,r,i,{position:Ji(n.axis,e,t),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function ef(e,a,t){return t=t||0,{x1:e[t],y1:e[1-t],x2:a[t],y2:a[1-t]}}function tf(e,a,t){return t=t||0,{x:e[t],y:e[1-t],width:a[t],height:a[1-t]}}var af=function(e){Y(a,e);function a(){return e!==null&&e.apply(this,arguments)||this}return a.prototype.makeElOption=function(t,n,r,i,o){var s=r.axis,l=s.grid,u=i.get("type"),c=Rr(l,s).getOtherAxis(s).getGlobalExtent(),d=s.toGlobalCoord(s.dataToCoord(n,!0));if(u&&u!=="none"){var h=qd(i),f=nf[u](s,d,c);f.style=h,t.graphicKey=f.type,t.pointer=f}var v=Ua(l.model,r);Jd(n,t,v,r,i,o)},a.prototype.getHandleTransform=function(t,n,r){var i=Ua(n.axis.grid.model,n,{labelInside:!1});i.labelMargin=r.get(["handle","margin"]);var o=Ji(n.axis,t,i);return{x:o[0],y:o[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},a.prototype.updateHandleTransform=function(t,n,r,i){var o=r.axis,s=o.grid,l=o.getGlobalExtent(!0),u=Rr(s,o).getOtherAxis(o).getGlobalExtent(),c=o.dim==="x"?0:1,d=[t.x,t.y];d[c]+=n[c],d[c]=Math.min(l[1],d[c]),d[c]=Math.max(l[0],d[c]);var h=(u[1]+u[0])/2,f=[h,h];f[c]=d[c];var v=[{verticalAlign:"middle"},{align:"center"}];return{x:d[0],y:d[1],rotation:t.rotation,cursorPoint:f,tooltipOption:v[c]}},a}(Zd);function Rr(e,a){var t={};return t[a.dim+"AxisIndex"]=a.index,e.getCartesian(t)}var nf={line:function(e,a,t){var n=ef([a,t[0]],[a,t[1]],Nr(e));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(e,a,t){var n=Math.max(1,e.getBandWidth()),r=t[1]-t[0];return{type:"Rect",shape:tf([a-n/2,t[0]],[n,r],Nr(e))}}};function Nr(e){return e.dim==="x"?0:1}var rf=function(e){Y(a,e);function a(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=a.type,t}return a.type="axisPointer",a.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},a}(_t),Re=pa(),of=M;function eo(e,a,t){if(!ge.node){var n=a.getZr();Re(n).records||(Re(n).records={}),sf(n,a);var r=Re(n).records[e]||(Re(n).records[e]={});r.handler=t}}function sf(e,a){if(Re(e).initialized)return;Re(e).initialized=!0,t("click",le(Vr,"click")),t("mousemove",le(Vr,"mousemove")),t("globalout",uf);function t(n,r){e.on(n,function(i){var o=cf(a);of(Re(e).records,function(s){s&&r(s,i,o.dispatchAction)}),lf(o.pendings,a)})}}function lf(e,a){var t=e.showTip.length,n=e.hideTip.length,r;t?r=e.showTip[t-1]:n&&(r=e.hideTip[n-1]),r&&(r.dispatchAction=null,a.dispatchAction(r))}function uf(e,a,t){e.handler("leave",null,t)}function Vr(e,a,t,n){a.handler(e,t,n)}function cf(e){var a={showTip:[],hideTip:[]},t=function(n){var r=a[n.type];r?r.push(n):(n.dispatchAction=t,e.dispatchAction(n))};return{dispatchAction:t,pendings:a}}function Ya(e,a){if(!ge.node){var t=a.getZr(),n=(Re(t).records||{})[e];n&&(Re(t).records[e]=null)}}var df=function(e){Y(a,e);function a(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=a.type,t}return a.prototype.render=function(t,n,r){var i=n.getComponent("tooltip"),o=t.get("triggerOn")||i&&i.get("triggerOn")||"mousemove|click";eo("axisPointer",r,function(s,l,u){o!=="none"&&(s==="leave"||o.indexOf(s)>=0)&&u({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},a.prototype.remove=function(t,n){Ya("axisPointer",n)},a.prototype.dispose=function(t,n){Ya("axisPointer",n)},a.type="axisPointer",a}(Tt);function to(e,a){var t=[],n=e.seriesIndex,r;if(n==null||!(r=a.getSeriesByIndex(n)))return{point:[]};var i=r.getData(),o=Va(i,e);if(o==null||o<0||ie(o))return{point:[]};var s=i.getItemGraphicEl(o),l=r.coordinateSystem;if(r.getTooltipPosition)t=r.getTooltipPosition(o)||[];else if(l&&l.dataToPoint)if(e.isStacked){var u=l.getBaseAxis(),c=l.getOtherAxis(u),d=c.dim,h=u.dim,f=d==="x"||d==="radius"?1:0,v=i.mapDimension(h),p=[];p[f]=i.get(v,o),p[1-f]=i.get(i.getCalculationInfo("stackResultDimension"),o),t=l.dataToPoint(p)||[]}else t=l.dataToPoint(i.getValues(Oe(l.dimensions,function(g){return i.mapDimension(g)}),o))||[];else if(s){var m=s.getBoundingRect().clone();m.applyTransform(s.transform),t=[m.x+m.width/2,m.y+m.height/2]}return{point:t,el:s}}var Br=pa();function ff(e,a,t){var n=e.currTrigger,r=[e.x,e.y],i=e,o=e.dispatchAction||Le(t.dispatchAction,t),s=a.getComponent("axisPointer").coordSysAxesInfo;if(s){aa(r)&&(r=to({seriesIndex:i.seriesIndex,dataIndex:i.dataIndex},a).point);var l=aa(r),u=i.axesInfo,c=s.axesInfo,d=n==="leave"||aa(r),h={},f={},v={list:[],map:{}},p={showPointer:le(hf,f),showTooltip:le(pf,v)};M(s.coordSysMap,function(g,y){var b=l||g.containPoint(r);M(s.coordSysAxesInfo[y],function(x,S){var w=x.axis,A=bf(u,x);if(!d&&b&&(!u||A)){var L=A&&A.value;L==null&&!l&&(L=w.pointToData(r)),L!=null&&zr(x,L,p,!1,h)}})});var m={};return M(c,function(g,y){var b=g.linkGroup;b&&!f[y]&&M(b.axesInfo,function(x,S){var w=f[S];if(x!==g&&w){var A=w.value;b.mapper&&(A=g.axis.scale.parse(b.mapper(A,Gr(x),Gr(g)))),m[g.key]=A}})}),M(m,function(g,y){zr(c[y],g,p,!0,h)}),gf(f,c,h),mf(v,r,e,o),yf(c,o,t),h}}function zr(e,a,t,n,r){var i=e.axis;if(!(i.scale.isBlank()||!i.containData(a))){if(!e.involveSeries){t.showPointer(e,a);return}var o=vf(a,e),s=o.payloadBatch,l=o.snapToValue;s[0]&&r.seriesIndex==null&&xe(r,s[0]),!n&&e.snap&&i.containData(l)&&l!=null&&(a=l),t.showPointer(e,a,s),t.showTooltip(e,o,l)}}function vf(e,a){var t=a.axis,n=t.dim,r=e,i=[],o=Number.MAX_VALUE,s=-1;return M(a.seriesModels,function(l,u){var c=l.getData().mapDimensionsAll(n),d,h;if(l.getAxisTooltipData){var f=l.getAxisTooltipData(c,e,t);h=f.dataIndices,d=f.nestestValue}else{if(h=l.getData().indicesOfNearest(c[0],e,t.type==="category"?.5:null),!h.length)return;d=l.getData().get(c[0],h[0])}if(!(d==null||!isFinite(d))){var v=e-d,p=Math.abs(v);p<=o&&((p<o||v>=0&&s<0)&&(o=p,s=v,r=d,i.length=0),M(h,function(m){i.push({seriesIndex:l.seriesIndex,dataIndexInside:m,dataIndex:l.getData().getRawIndex(m)})}))}}),{payloadBatch:i,snapToValue:r}}function hf(e,a,t,n){e[a.key]={value:t,payloadBatch:n}}function pf(e,a,t,n){var r=t.payloadBatch,i=a.axis,o=i.model,s=a.axisPointerModel;if(!(!a.triggerTooltip||!r.length)){var l=a.coordSys.model,u=Wt(l),c=e.map[u];c||(c=e.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},e.list.push(c)),c.dataByAxis.push({axisDim:i.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:n,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:r.slice()})}}function gf(e,a,t){var n=t.axesInfo=[];M(a,function(r,i){var o=r.axisPointerModel.option,s=e[i];s?(!r.useHandle&&(o.status="show"),o.value=s.value,o.seriesDataIndices=(s.payloadBatch||[]).slice()):!r.useHandle&&(o.status="hide"),o.status==="show"&&n.push({axisDim:r.axis.dim,axisIndex:r.axis.model.componentIndex,value:o.value})})}function mf(e,a,t,n){if(aa(a)||!e.list.length){n({type:"hideTip"});return}var r=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:a[0],y:a[1],tooltipOption:t.tooltipOption,position:t.position,dataIndexInside:r.dataIndexInside,dataIndex:r.dataIndex,seriesIndex:r.seriesIndex,dataByCoordSys:e.list})}function yf(e,a,t){var n=t.getZr(),r="axisPointerLastHighlights",i=Br(n)[r]||{},o=Br(n)[r]={};M(e,function(u,c){var d=u.axisPointerModel.option;d.status==="show"&&u.triggerEmphasis&&M(d.seriesDataIndices,function(h){var f=h.seriesIndex+" | "+h.dataIndex;o[f]=h})});var s=[],l=[];M(i,function(u,c){!o[c]&&l.push(u)}),M(o,function(u,c){!i[c]&&s.push(u)}),l.length&&t.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&t.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function bf(e,a){for(var t=0;t<(e||[]).length;t++){var n=e[t];if(a.axis.dim===n.axisDim&&a.axis.model.componentIndex===n.axisIndex)return n}}function Gr(e){var a=e.axis.model,t={},n=t.axisDim=e.axis.dim;return t.axisIndex=t[n+"AxisIndex"]=a.componentIndex,t.axisName=t[n+"AxisName"]=a.name,t.axisId=t[n+"AxisId"]=a.id,t}function aa(e){return!e||e[0]==null||isNaN(e[0])||e[1]==null||isNaN(e[1])}function ao(e){Yi.registerAxisPointerClass("CartesianAxisPointer",af),e.registerComponentModel(rf),e.registerComponentView(df),e.registerPreprocessor(function(a){if(a){(!a.axisPointer||a.axisPointer.length===0)&&(a.axisPointer={});var t=a.axisPointer.link;t&&!ie(t)&&(a.axisPointer.link=[t])}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,function(a,t){a.getComponent("axisPointer").coordSysAxesInfo=Ed(a,t)}),e.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},ff)}function Sf(e){ft(Yd),ft(ao)}function xf(e,a){var t=rn(a.get("padding")),n=a.getItemStyle(["color","opacity"]);return n.fill=a.get("backgroundColor"),e=new Me({shape:{x:e.x-t[3],y:e.y-t[0],width:e.width+t[1]+t[3],height:e.height+t[0]+t[2],r:a.get("borderRadius")},style:n,silent:!0,z2:-1}),e}var Cf=function(e){Y(a,e);function a(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=a.type,t}return a.type="tooltip",a.dependencies=["axisPointer"],a.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},a}(_t);function no(e){var a=e.get("confine");return a!=null?!!a:e.get("renderMode")==="richText"}function ro(e){if(ge.domSupported){for(var a=document.documentElement.style,t=0,n=e.length;t<n;t++)if(e[t]in a)return e[t]}}var io=ro(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),wf=ro(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function oo(e,a){if(!e)return a;a=Ci(a,!0);var t=e.indexOf(a);return e=t===-1?a:"-"+e.slice(0,t)+"-"+a,e.toLowerCase()}function Af(e,a){var t=e.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e);return t?t[a]:null}var _f=oo(wf,"transition"),pn=oo(io,"transform"),Tf="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(ge.transform3dSupported?"will-change:transform;":"");function Df(e){return e=e==="left"?"right":e==="right"?"left":e==="top"?"bottom":"top",e}function If(e,a,t){if(!ae(t)||t==="inside")return"";var n=e.get("backgroundColor"),r=e.get("borderWidth");a=St(a);var i=Df(t),o=Math.max(Math.round(r)*1.5,6),s="",l=pn+":",u;bt(["left","right"],i)>-1?(s+="top:50%",l+="translateY(-50%) rotate("+(u=i==="left"?-225:-45)+"deg)"):(s+="left:50%",l+="translateX(-50%) rotate("+(u=i==="top"?225:45)+"deg)");var c=u*Math.PI/180,d=o+r,h=d*Math.abs(Math.cos(c))+d*Math.abs(Math.sin(c)),f=Math.round(((h-Math.SQRT2*r)/2+Math.SQRT2*r-(h-d)/2)*100)/100;s+=";"+i+":-"+f+"px";var v=a+" solid "+r+"px;",p=["position:absolute;width:"+o+"px;height:"+o+"px;z-index:-1;",s+";"+l+";","border-bottom:"+v,"border-right:"+v,"background-color:"+n+";"];return'<div style="'+p.join("")+'"></div>'}function Lf(e,a){var t="cubic-bezier(0.23,1,0.32,1)",n=" "+e/2+"s "+t,r="opacity"+n+",visibility"+n;return a||(n=" "+e+"s "+t,r+=ge.transformSupported?","+pn+n:",left"+n+",top"+n),_f+":"+r}function $r(e,a,t){var n=e.toFixed(0)+"px",r=a.toFixed(0)+"px";if(!ge.transformSupported)return t?"top:"+r+";left:"+n+";":[["top",r],["left",n]];var i=ge.transform3dSupported,o="translate"+(i?"3d":"")+"("+n+","+r+(i?",0":"")+")";return t?"top:0;left:0;"+pn+":"+o+";":[["top",0],["left",0],[io,o]]}function Pf(e){var a=[],t=e.get("fontSize"),n=e.getTextColor();n&&a.push("color:"+n),a.push("font:"+e.getFont());var r=lt(e.get("lineHeight"),Math.round(t*3/2));t&&a.push("line-height:"+r+"px");var i=e.get("textShadowColor"),o=e.get("textShadowBlur")||0,s=e.get("textShadowOffsetX")||0,l=e.get("textShadowOffsetY")||0;return i&&o&&a.push("text-shadow:"+s+"px "+l+"px "+o+"px "+i),M(["decoration","align"],function(u){var c=e.get(u);c&&a.push("text-"+u+":"+c)}),a.join(";")}function kf(e,a,t){var n=[],r=e.get("transitionDuration"),i=e.get("backgroundColor"),o=e.get("shadowBlur"),s=e.get("shadowColor"),l=e.get("shadowOffsetX"),u=e.get("shadowOffsetY"),c=e.getModel("textStyle"),d=wi(e,"html"),h=l+"px "+u+"px "+o+"px "+s;return n.push("box-shadow:"+h),a&&r&&n.push(Lf(r,t)),i&&n.push("background-color:"+i),M(["width","color","radius"],function(f){var v="border-"+f,p=Ci(v),m=e.get(p);m!=null&&n.push(v+":"+m+(f==="color"?"":"px"))}),n.push(Pf(c)),d!=null&&n.push("padding:"+rn(d).join("px ")+"px"),n.join(";")+";"}function Fr(e,a,t,n,r){var i=a&&a.painter;if(t){var o=i&&i.getViewportRoot();o&&rl(e,o,t,n,r)}else{e[0]=n,e[1]=r;var s=i&&i.getViewportRootOffset();s&&(e[0]+=s.offsetLeft,e[1]+=s.offsetTop)}e[2]=e[0]/a.getWidth(),e[3]=e[1]/a.getHeight()}var Of=function(){function e(a,t){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,ge.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var r=this._zr=a.getZr(),i=t.appendTo,o=i&&(ae(i)?document.querySelector(i):Wn(i)?i:me(i)&&i(a.getDom()));Fr(this._styleCoord,r,o,a.getWidth()/2,a.getHeight()/2),(o||a.getDom()).appendChild(n),this._api=a,this._container=o;var s=this;n.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},n.onmousemove=function(l){if(l=l||window.event,!s._enterable){var u=r.handler,c=r.painter.getViewportRoot();nl(c,l,!0),u.dispatch("mousemove",l)}},n.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return e.prototype.update=function(a){if(!this._container){var t=this._api.getDom(),n=Af(t,"position"),r=t.style;r.position!=="absolute"&&n!=="absolute"&&(r.position="relative")}var i=a.get("alwaysShowContent");i&&this._moveIfResized(),this._alwaysShowContent=i,this.el.className=a.get("className")||""},e.prototype.show=function(a,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,r=n.style,i=this._styleCoord;n.innerHTML?r.cssText=Tf+kf(a,!this._firstShow,this._longHide)+$r(i[0],i[1],!0)+("border-color:"+St(t)+";")+(a.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):r.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},e.prototype.setContent=function(a,t,n,r,i){var o=this.el;if(a==null){o.innerHTML="";return}var s="";if(ae(i)&&n.get("trigger")==="item"&&!no(n)&&(s=If(n,r,i)),ae(a))o.innerHTML=a+s;else if(a){o.innerHTML="",ie(a)||(a=[a]);for(var l=0;l<a.length;l++)Wn(a[l])&&a[l].parentNode!==o&&o.appendChild(a[l]);if(s&&o.childNodes.length){var u=document.createElement("div");u.innerHTML=s,o.appendChild(u)}}},e.prototype.setEnterable=function(a){this._enterable=a},e.prototype.getSize=function(){var a=this.el;return a?[a.offsetWidth,a.offsetHeight]:[0,0]},e.prototype.moveTo=function(a,t){if(this.el){var n=this._styleCoord;if(Fr(n,this._zr,this._container,a,t),n[0]!=null&&n[1]!=null){var r=this.el.style,i=$r(n[0],n[1]);M(i,function(o){r[o[0]]=o[1]})}}},e.prototype._moveIfResized=function(){var a=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(a*this._zr.getWidth(),t*this._zr.getHeight())},e.prototype.hide=function(){var a=this,t=this.el.style;t.visibility="hidden",t.opacity="0",ge.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return a._longHide=!0},500)},e.prototype.hideLater=function(a){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(a?(this._hideDelay=a,this._show=!1,this._hideTimeout=setTimeout(Le(this.hide,this),a)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var a=this.el.parentNode;a&&a.removeChild(this.el),this.el=this._container=null},e}(),Mf=function(){function e(a){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=a.getZr(),Hr(this._styleCoord,this._zr,a.getWidth()/2,a.getHeight()/2)}return e.prototype.update=function(a){var t=a.get("alwaysShowContent");t&&this._moveIfResized(),this._alwaysShowContent=t},e.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},e.prototype.setContent=function(a,t,n,r,i){var o=this;Pe(a)&&il(""),this.el&&this._zr.remove(this.el);var s=n.getModel("textStyle");this.el=new ke({style:{rich:t.richTextStyles,text:a,lineHeight:22,borderWidth:1,borderColor:r,textShadowColor:s.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:wi(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),M(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){o.el.style[u]=n.get(u)}),M(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){o.el.style[u]=s.get(u)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},e.prototype.setEnterable=function(a){this._enterable=a},e.prototype.getSize=function(){var a=this.el,t=this.el.getBoundingRect(),n=Wr(a.style);return[t.width+n.left+n.right,t.height+n.top+n.bottom]},e.prototype.moveTo=function(a,t){var n=this.el;if(n){var r=this._styleCoord;Hr(r,this._zr,a,t),a=r[0],t=r[1];var i=n.style,o=He(i.borderWidth||0),s=Wr(i);n.x=a+o+s.left,n.y=t+o+s.top,n.markRedraw()}},e.prototype._moveIfResized=function(){var a=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(a*this._zr.getWidth(),t*this._zr.getHeight())},e.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},e.prototype.hideLater=function(a){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(a?(this._hideDelay=a,this._show=!1,this._hideTimeout=setTimeout(Le(this.hide,this),a)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){this._zr.remove(this.el)},e}();function He(e){return Math.max(0,e)}function Wr(e){var a=He(e.shadowBlur||0),t=He(e.shadowOffsetX||0),n=He(e.shadowOffsetY||0);return{left:He(a-t),right:He(a+t),top:He(a-n),bottom:He(a+n)}}function Hr(e,a,t,n){e[0]=t,e[1]=n,e[2]=e[0]/a.getWidth(),e[3]=e[1]/a.getHeight()}var Ef=new Me({shape:{x:-1,y:-1,width:2,height:2}}),Rf=function(e){Y(a,e);function a(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=a.type,t}return a.prototype.init=function(t,n){if(!(ge.node||!n.getDom())){var r=t.getComponent("tooltip"),i=this._renderMode=ol(r.get("renderMode"));this._tooltipContent=i==="richText"?new Mf(n):new Of(n,{appendTo:r.get("appendToBody",!0)?"body":r.get("appendTo",!0)})}},a.prototype.render=function(t,n,r){if(!(ge.node||!r.getDom())){this.group.removeAll(),this._tooltipModel=t,this._ecModel=n,this._api=r;var i=this._tooltipContent;i.update(t),i.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&t.get("transitionDuration")?xi(this,"_updatePosition",50,"fixRate"):Ba(this,"_updatePosition")}},a.prototype._initGlobalListener=function(){var t=this._tooltipModel,n=t.get("triggerOn");eo("itemTooltip",this._api,Le(function(r,i,o){n!=="none"&&(n.indexOf(r)>=0?this._tryShow(i,o):r==="leave"&&this._hide(o))},this))},a.prototype._keepShow=function(){var t=this._tooltipModel,n=this._ecModel,r=this._api,i=t.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&i!=="none"&&i!=="click"){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!r.isDisposed()&&o.manuallyShowTip(t,n,r,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},a.prototype.manuallyShowTip=function(t,n,r,i){if(!(i.from===this.uid||ge.node||!r.getDom())){var o=Ur(i,r);this._ticket="";var s=i.dataByCoordSys,l=zf(i,n,r);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:i.position,positionDefault:"bottom"},o)}else if(i.tooltip&&i.x!=null&&i.y!=null){var c=Ef;c.x=i.x,c.y=i.y,c.update(),ee(c).tooltipConfig={name:null,option:i.tooltip},this._tryShow({offsetX:i.x,offsetY:i.y,target:c},o)}else if(s)this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,dataByCoordSys:s,tooltipOption:i.tooltipOption},o);else if(i.seriesIndex!=null){if(this._manuallyAxisShowTip(t,n,r,i))return;var d=to(i,n),h=d.point[0],f=d.point[1];h!=null&&f!=null&&this._tryShow({offsetX:h,offsetY:f,target:d.el,position:i.position,positionDefault:"bottom"},o)}else i.x!=null&&i.y!=null&&(r.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:r.getZr().findHover(i.x,i.y).target},o))}},a.prototype.manuallyHideTip=function(t,n,r,i){var o=this._tooltipContent;this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,i.from!==this.uid&&this._hide(Ur(i,r))},a.prototype._manuallyAxisShowTip=function(t,n,r,i){var o=i.seriesIndex,s=i.dataIndex,l=n.getComponent("axisPointer").coordSysAxesInfo;if(!(o==null||s==null||l==null)){var u=n.getSeriesByIndex(o);if(u){var c=u.getData(),d=Et([c.getItemModel(s),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(d.get("trigger")==="axis")return r.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:s,position:i.position}),!0}}},a.prototype._tryShow=function(t,n){var r=t.target,i=this._tooltipModel;if(i){this._lastX=t.offsetX,this._lastY=t.offsetY;var o=t.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,t);else if(r){var s=ee(r);if(s.ssrType==="legend")return;this._lastDataByCoordSys=null;var l,u;sl(r,function(c){if(ee(c).dataIndex!=null)return l=c,!0;if(ee(c).tooltipConfig!=null)return u=c,!0},!0),l?this._showSeriesItemTooltip(t,l,n):u?this._showComponentItemTooltip(t,u,n):this._hide(n)}else this._lastDataByCoordSys=null,this._hide(n)}},a.prototype._showOrMove=function(t,n){var r=t.get("showDelay");n=Le(n,this),clearTimeout(this._showTimout),r>0?this._showTimout=setTimeout(n,r):n()},a.prototype._showAxisTooltip=function(t,n){var r=this._ecModel,i=this._tooltipModel,o=[n.offsetX,n.offsetY],s=Et([n.tooltipOption],i),l=this._renderMode,u=[],c=Hn("section",{blocks:[],noHeader:!0}),d=[],h=new xa;M(t,function(y){M(y.dataByAxis,function(b){var x=r.getComponent(b.axisDim+"Axis",b.axisIndex),S=b.value;if(!(!x||S==null)){var w=Qi(S,x.axis,r,b.seriesDataIndices,b.valueLabelOpt),A=Hn("section",{header:w,noHeader:!ll(w),sortBlocks:!0,blocks:[]});c.blocks.push(A),M(b.seriesDataIndices,function(L){var _=r.getSeriesByIndex(L.seriesIndex),D=L.dataIndexInside,T=_.getDataParams(D);if(!(T.dataIndex<0)){T.axisDim=b.axisDim,T.axisIndex=b.axisIndex,T.axisType=b.axisType,T.axisId=b.axisId,T.axisValue=Ti(x.axis,{value:S}),T.axisValueLabel=w,T.marker=h.makeTooltipMarker("item",St(T.color),l);var P=Un(_.formatTooltip(D,!0,null)),I=P.frag;if(I){var E=Et([_],i).get("valueFormatter");A.blocks.push(E?xe({valueFormatter:E},I):I)}P.text&&d.push(P.text),u.push(T)}})}})}),c.blocks.reverse(),d.reverse();var f=n.position,v=s.get("order"),p=Xn(c,h,l,v,r.get("useUTC"),s.get("textStyle"));p&&d.unshift(p);var m=l==="richText"?`

`:"<br/>",g=d.join(m);this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(t,u)?this._updatePosition(s,f,o[0],o[1],this._tooltipContent,u):this._showTooltipContent(s,g,u,Math.random()+"",o[0],o[1],f,null,h)})},a.prototype._showSeriesItemTooltip=function(t,n,r){var i=this._ecModel,o=ee(n),s=o.seriesIndex,l=i.getSeriesByIndex(s),u=o.dataModel||l,c=o.dataIndex,d=o.dataType,h=u.getData(d),f=this._renderMode,v=t.positionDefault,p=Et([h.getItemModel(c),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,v?{position:v}:null),m=p.get("trigger");if(!(m!=null&&m!=="item")){var g=u.getDataParams(c,d),y=new xa;g.marker=y.makeTooltipMarker("item",St(g.color),f);var b=Un(u.formatTooltip(c,!1,d)),x=p.get("order"),S=p.get("valueFormatter"),w=b.frag,A=w?Xn(S?xe({valueFormatter:S},w):w,y,f,x,i.get("useUTC"),p.get("textStyle")):b.text,L="item_"+u.name+"_"+c;this._showOrMove(p,function(){this._showTooltipContent(p,A,g,L,t.offsetX,t.offsetY,t.position,t.target,y)}),r({type:"showTip",dataIndexInside:c,dataIndex:h.getRawIndex(c),seriesIndex:s,from:this.uid})}},a.prototype._showComponentItemTooltip=function(t,n,r){var i=this._renderMode==="html",o=ee(n),s=o.tooltipConfig,l=s.option||{},u=l.encodeHTMLContent;if(ae(l)){var c=l;l={content:c,formatter:c},u=!0}u&&i&&l.content&&(l=Ft(l),l.content=ul(l.content));var d=[l],h=this._ecModel.getComponent(o.componentMainType,o.componentIndex);h&&d.push(h),d.push({formatter:l.content});var f=t.positionDefault,v=Et(d,this._tooltipModel,f?{position:f}:null),p=v.get("content"),m=Math.random()+"",g=new xa;this._showOrMove(v,function(){var y=Ft(v.get("formatterParams")||{});this._showTooltipContent(v,p,y,m,t.offsetX,t.offsetY,t.position,n,g)}),r({type:"showTip",from:this.uid})},a.prototype._showTooltipContent=function(t,n,r,i,o,s,l,u,c){if(this._ticket="",!(!t.get("showContent")||!t.get("show"))){var d=this._tooltipContent;d.setEnterable(t.get("enterable"));var h=t.get("formatter");l=l||t.get("position");var f=n,v=this._getNearestPoint([o,s],r,t.get("trigger"),t.get("borderColor")),p=v.color;if(h)if(ae(h)){var m=t.ecModel.get("useUTC"),g=ie(r)?r[0]:r,y=g&&g.axisType&&g.axisType.indexOf("time")>=0;f=h,y&&(f=cl(g.axisValue,f,m)),f=dl(f,r,!0)}else if(me(h)){var b=Le(function(x,S){x===this._ticket&&(d.setContent(S,c,t,p,l),this._updatePosition(t,l,o,s,d,r,u))},this);this._ticket=i,f=h(r,i,b)}else f=h;d.setContent(f,c,t,p,l),d.show(t,p),this._updatePosition(t,l,o,s,d,r,u)}},a.prototype._getNearestPoint=function(t,n,r,i){if(r==="axis"||ie(n))return{color:i||(this._renderMode==="html"?"#fff":"none")};if(!ie(n))return{color:i||n.color||n.borderColor}},a.prototype._updatePosition=function(t,n,r,i,o,s,l){var u=this._api.getWidth(),c=this._api.getHeight();n=n||t.get("position");var d=o.getSize(),h=t.get("align"),f=t.get("verticalAlign"),v=l&&l.getBoundingRect().clone();if(l&&v.applyTransform(l.transform),me(n)&&(n=n([r,i],s,o.el,v,{viewSize:[u,c],contentSize:d.slice()})),ie(n))r=Kn(n[0],u),i=Kn(n[1],c);else if(Pe(n)){var p=n;p.width=d[0],p.height=d[1];var m=$t(p,{width:u,height:c});r=m.x,i=m.y,h=null,f=null}else if(ae(n)&&l){var g=Bf(n,v,d,t.get("borderWidth"));r=g[0],i=g[1]}else{var g=Nf(r,i,o,u,c,h?null:20,f?null:20);r=g[0],i=g[1]}if(h&&(r-=Xr(h)?d[0]/2:h==="right"?d[0]:0),f&&(i-=Xr(f)?d[1]/2:f==="bottom"?d[1]:0),no(t)){var g=Vf(r,i,o,u,c);r=g[0],i=g[1]}o.moveTo(r,i)},a.prototype._updateContentNotChangedOnAxis=function(t,n){var r=this._lastDataByCoordSys,i=this._cbParamsList,o=!!r&&r.length===t.length;return o&&M(r,function(s,l){var u=s.dataByAxis||[],c=t[l]||{},d=c.dataByAxis||[];o=o&&u.length===d.length,o&&M(u,function(h,f){var v=d[f]||{},p=h.seriesDataIndices||[],m=v.seriesDataIndices||[];o=o&&h.value===v.value&&h.axisType===v.axisType&&h.axisId===v.axisId&&p.length===m.length,o&&M(p,function(g,y){var b=m[y];o=o&&g.seriesIndex===b.seriesIndex&&g.dataIndex===b.dataIndex}),i&&M(h.seriesDataIndices,function(g){var y=g.seriesIndex,b=n[y],x=i[y];b&&x&&x.data!==b.data&&(o=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=n,!!o},a.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},a.prototype.dispose=function(t,n){ge.node||!n.getDom()||(Ba(this,"_updatePosition"),this._tooltipContent.dispose(),Ya("itemTooltip",n))},a.type="tooltip",a}(Tt);function Et(e,a,t){var n=a.ecModel,r;t?(r=new st(t,n,n),r=new st(a.option,r,n)):r=a;for(var i=e.length-1;i>=0;i--){var o=e[i];o&&(o instanceof st&&(o=o.get("tooltip",!0)),ae(o)&&(o={formatter:o}),o&&(r=new st(o,r,n)))}return r}function Ur(e,a){return e.dispatchAction||Le(a.dispatchAction,a)}function Nf(e,a,t,n,r,i,o){var s=t.getSize(),l=s[0],u=s[1];return i!=null&&(e+l+i+2>n?e-=l+i:e+=i),o!=null&&(a+u+o>r?a-=u+o:a+=o),[e,a]}function Vf(e,a,t,n,r){var i=t.getSize(),o=i[0],s=i[1];return e=Math.min(e+o,n)-o,a=Math.min(a+s,r)-s,e=Math.max(e,0),a=Math.max(a,0),[e,a]}function Bf(e,a,t,n){var r=t[0],i=t[1],o=Math.ceil(Math.SQRT2*n)+8,s=0,l=0,u=a.width,c=a.height;switch(e){case"inside":s=a.x+u/2-r/2,l=a.y+c/2-i/2;break;case"top":s=a.x+u/2-r/2,l=a.y-i-o;break;case"bottom":s=a.x+u/2-r/2,l=a.y+c+o;break;case"left":s=a.x-r-o,l=a.y+c/2-i/2;break;case"right":s=a.x+u+o,l=a.y+c/2-i/2}return[s,l]}function Xr(e){return e==="center"||e==="middle"}function zf(e,a,t){var n=fl(e).queryOptionMap,r=n.keys()[0];if(!(!r||r==="series")){var i=vl(a,r,n.get(r),{useDefault:!1,enableAll:!1,enableNone:!1}),o=i.models[0];if(o){var s=t.getViewOfComponentModel(o),l;if(s.group.traverse(function(u){var c=ee(u).tooltipConfig;if(c&&c.name===e.name)return l=u,!0}),l)return{componentMainType:r,componentIndex:o.componentIndex,el:l}}}}function Gf(e){ft(ao),e.registerComponentModel(Cf),e.registerComponentView(Rf),e.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Yn),e.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Yn)}var $f=function(e){Y(a,e);function a(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=a.type,t.layoutMode={type:"box",ignoreSize:!0},t}return a.type="title",a.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},a}(_t),Ff=function(e){Y(a,e);function a(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=a.type,t}return a.prototype.render=function(t,n,r){if(this.group.removeAll(),!!t.get("show")){var i=this.group,o=t.getModel("textStyle"),s=t.getModel("subtextStyle"),l=t.get("textAlign"),u=lt(t.get("textBaseline"),t.get("textVerticalAlign")),c=new ke({style:Ct(o,{text:t.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),d=c.getBoundingRect(),h=t.get("subtext"),f=new ke({style:Ct(s,{text:h,fill:s.getTextColor(),y:d.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),v=t.get("link"),p=t.get("sublink"),m=t.get("triggerEvent",!0);c.silent=!v&&!m,f.silent=!p&&!m,v&&c.on("click",function(){Zn(v,"_"+t.get("target"))}),p&&f.on("click",function(){Zn(p,"_"+t.get("subtarget"))}),ee(c).eventData=ee(f).eventData=m?{componentType:"title",componentIndex:t.componentIndex}:null,i.add(c),h&&i.add(f);var g=i.getBoundingRect(),y=t.getBoxLayoutParams();y.width=g.width,y.height=g.height;var b=$t(y,{width:r.getWidth(),height:r.getHeight()},t.get("padding"));l||(l=t.get("left")||t.get("right"),l==="middle"&&(l="center"),l==="right"?b.x+=b.width:l==="center"&&(b.x+=b.width/2)),u||(u=t.get("top")||t.get("bottom"),u==="center"&&(u="middle"),u==="bottom"?b.y+=b.height:u==="middle"&&(b.y+=b.height/2),u=u||"top"),i.x=b.x,i.y=b.y,i.markRedraw();var x={align:l,verticalAlign:u};c.setStyle(x),f.setStyle(x),g=i.getBoundingRect();var S=b.margin,w=t.getItemStyle(["color","opacity"]);w.fill=t.get("backgroundColor");var A=new Me({shape:{x:g.x-S[3],y:g.y-S[0],width:g.width+S[1]+S[3],height:g.height+S[0]+S[2],r:t.get("borderRadius")},style:w,subPixelOptimize:!0,silent:!0});i.add(A)}},a.type="title",a}(Tt);function Wf(e){e.registerComponentModel($f),e.registerComponentView(Ff)}var Hf=function(e,a){if(a==="all")return{type:"all",title:e.getLocaleModel().get(["legend","selector","all"])};if(a==="inverse")return{type:"inverse",title:e.getLocaleModel().get(["legend","selector","inverse"])}},Za=function(e){Y(a,e);function a(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=a.type,t.layoutMode={type:"box",ignoreSize:!0},t}return a.prototype.init=function(t,n,r){this.mergeDefaultAndTheme(t,r),t.selected=t.selected||{},this._updateSelector(t)},a.prototype.mergeOption=function(t,n){e.prototype.mergeOption.call(this,t,n),this._updateSelector(t)},a.prototype._updateSelector=function(t){var n=t.selector,r=this.ecModel;n===!0&&(n=t.selector=["all","inverse"]),ie(n)&&M(n,function(i,o){ae(i)&&(i={type:i}),n[o]=je(i,Hf(r,i.type))})},a.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&this.get("selectedMode")==="single"){for(var n=!1,r=0;r<t.length;r++){var i=t[r].get("name");if(this.isSelected(i)){this.select(i),n=!0;break}}!n&&this.select(t[0].get("name"))}},a.prototype._updateData=function(t){var n=[],r=[];t.eachRawSeries(function(l){var u=l.name;r.push(u);var c;if(l.legendVisualProvider){var d=l.legendVisualProvider,h=d.getAllNames();t.isSeriesFiltered(l)||(r=r.concat(h)),h.length?n=n.concat(h):c=!0}else c=!0;c&&hl(l)&&n.push(l.name)}),this._availableNames=r;var i=this.get("data")||n,o=tt(),s=Oe(i,function(l){return(ae(l)||Ht(l))&&(l={name:l}),o.get(l.name)?null:(o.set(l.name,!0),new st(l,this,this.ecModel))},this);this._data=ci(s,function(l){return!!l})},a.prototype.getData=function(){return this._data},a.prototype.select=function(t){var n=this.option.selected,r=this.get("selectedMode");if(r==="single"){var i=this._data;M(i,function(o){n[o.get("name")]=!1})}n[t]=!0},a.prototype.unSelect=function(t){this.get("selectedMode")!=="single"&&(this.option.selected[t]=!1)},a.prototype.toggleSelected=function(t){var n=this.option.selected;n.hasOwnProperty(t)||(n[t]=!0),this[n[t]?"unSelect":"select"](t)},a.prototype.allSelect=function(){var t=this._data,n=this.option.selected;M(t,function(r){n[r.get("name",!0)]=!0})},a.prototype.inverseSelect=function(){var t=this._data,n=this.option.selected;M(t,function(r){var i=r.get("name",!0);n.hasOwnProperty(i)||(n[i]=!0),n[i]=!n[i]})},a.prototype.isSelected=function(t){var n=this.option.selected;return!(n.hasOwnProperty(t)&&!n[t])&&bt(this._availableNames,t)>=0},a.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},a.type="legend.plain",a.dependencies=["series"],a.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},a}(_t),pt=le,qa=M,ea=_e,so=function(e){Y(a,e);function a(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=a.type,t.newlineDisabled=!1,t}return a.prototype.init=function(){this.group.add(this._contentGroup=new ea),this.group.add(this._selectorGroup=new ea),this._isFirstRender=!0},a.prototype.getContentGroup=function(){return this._contentGroup},a.prototype.getSelectorGroup=function(){return this._selectorGroup},a.prototype.render=function(t,n,r){var i=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!t.get("show",!0)){var o=t.get("align"),s=t.get("orient");(!o||o==="auto")&&(o=t.get("left")==="right"&&s==="vertical"?"right":"left");var l=t.get("selector",!0),u=t.get("selectorPosition",!0);l&&(!u||u==="auto")&&(u=s==="horizontal"?"end":"start"),this.renderInner(o,t,n,r,l,s,u);var c=t.getBoxLayoutParams(),d={width:r.getWidth(),height:r.getHeight()},h=t.get("padding"),f=$t(c,d,h),v=this.layoutInner(t,o,f,i,l,u),p=$t(fe({width:v.width,height:v.height},c),d,h);this.group.x=p.x-v.x,this.group.y=p.y-v.y,this.group.markRedraw(),this.group.add(this._backgroundEl=xf(v,t))}},a.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},a.prototype.renderInner=function(t,n,r,i,o,s,l){var u=this.getContentGroup(),c=tt(),d=n.get("selectedMode"),h=[];r.eachRawSeries(function(f){!f.get("legendHoverLink")&&h.push(f.id)}),qa(n.getData(),function(f,v){var p=f.get("name");if(!this.newlineDisabled&&(p===""||p===`
`)){var m=new ea;m.newline=!0,u.add(m);return}var g=r.getSeriesByName(p)[0];if(!c.get(p))if(g){var y=g.getData(),b=y.getVisual("legendLineStyle")||{},x=y.getVisual("legendIcon"),S=y.getVisual("style"),w=this._createItem(g,p,v,f,n,t,b,S,x,d,i);w.on("click",pt(Kr,p,null,i,h)).on("mouseover",pt(ja,g.name,null,i,h)).on("mouseout",pt(Qa,g.name,null,i,h)),r.ssr&&w.eachChild(function(A){var L=ee(A);L.seriesIndex=g.seriesIndex,L.dataIndex=v,L.ssrType="legend"}),c.set(p,!0)}else r.eachRawSeries(function(A){if(!c.get(p)&&A.legendVisualProvider){var L=A.legendVisualProvider;if(!L.containName(p))return;var _=L.indexOfName(p),D=L.getItemVisual(_,"style"),T=L.getItemVisual(_,"legendIcon"),P=pl(D.fill);P&&P[3]===0&&(P[3]=.2,D=xe(xe({},D),{fill:gl(P,"rgba")}));var I=this._createItem(A,p,v,f,n,t,{},D,T,d,i);I.on("click",pt(Kr,null,p,i,h)).on("mouseover",pt(ja,null,p,i,h)).on("mouseout",pt(Qa,null,p,i,h)),r.ssr&&I.eachChild(function(E){var O=ee(E);O.seriesIndex=A.seriesIndex,O.dataIndex=v,O.ssrType="legend"}),c.set(p,!0)}},this)},this),o&&this._createSelector(o,n,i,s,l)},a.prototype._createSelector=function(t,n,r,i,o){var s=this.getSelectorGroup();qa(t,function(u){var c=u.type,d=new ke({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){r.dispatchAction({type:c==="all"?"legendAllSelect":"legendInverseSelect",legendId:n.id})}});s.add(d);var h=n.getModel("selectorLabel"),f=n.getModel(["emphasis","selectorLabel"]);va(d,{normal:h,emphasis:f},{defaultText:u.title}),qn(d)})},a.prototype._createItem=function(t,n,r,i,o,s,l,u,c,d,h){var f=t.visualDrawType,v=o.get("itemWidth"),p=o.get("itemHeight"),m=o.isSelected(n),g=i.get("symbolRotate"),y=i.get("symbolKeepAspect"),b=i.get("icon");c=b||c||"roundRect";var x=Uf(c,i,l,u,f,m,h),S=new ea,w=i.getModel("textStyle");if(me(t.getLegendIcon)&&(!b||b==="inherit"))S.add(t.getLegendIcon({itemWidth:v,itemHeight:p,icon:c,iconRotate:g,itemStyle:x.itemStyle,lineStyle:x.lineStyle,symbolKeepAspect:y}));else{var A=b==="inherit"&&t.getData().getVisual("symbol")?g==="inherit"?t.getData().getVisual("symbolRotate"):g:0;S.add(Xf({itemWidth:v,itemHeight:p,icon:c,iconRotate:A,itemStyle:x.itemStyle,symbolKeepAspect:y}))}var L=s==="left"?v+5:-5,_=s,D=o.get("formatter"),T=n;ae(D)&&D?T=D.replace("{name}",n??""):me(D)&&(T=D(n));var P=m?w.getTextColor():i.get("inactiveColor");S.add(new ke({style:Ct(w,{text:T,x:L,y:p/2,fill:P,align:_,verticalAlign:"middle"},{inheritColor:P})}));var I=new Me({shape:S.getBoundingRect(),style:{fill:"transparent"}}),E=i.getModel("tooltip");return E.get("show")&&nn({el:I,componentModel:o,itemName:n,itemTooltipOption:E.option}),S.add(I),S.eachChild(function(O){O.silent=!0}),I.silent=!d,this.getContentGroup().add(S),qn(S),S.__legendDataIndex=r,S},a.prototype.layoutInner=function(t,n,r,i,o,s){var l=this.getContentGroup(),u=this.getSelectorGroup();Vt(t.get("orient"),l,t.get("itemGap"),r.width,r.height);var c=l.getBoundingRect(),d=[-c.x,-c.y];if(u.markRedraw(),l.markRedraw(),o){Vt("horizontal",u,t.get("selectorItemGap",!0));var h=u.getBoundingRect(),f=[-h.x,-h.y],v=t.get("selectorButtonGap",!0),p=t.getOrient().index,m=p===0?"width":"height",g=p===0?"height":"width",y=p===0?"y":"x";s==="end"?f[p]+=c[m]+v:d[p]+=h[m]+v,f[1-p]+=c[g]/2-h[g]/2,u.x=f[0],u.y=f[1],l.x=d[0],l.y=d[1];var b={x:0,y:0};return b[m]=c[m]+v+h[m],b[g]=Math.max(c[g],h[g]),b[y]=Math.min(0,h[y]+f[1-p]),b}else return l.x=d[0],l.y=d[1],this.group.getBoundingRect()},a.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},a.type="legend.plain",a}(Tt);function Uf(e,a,t,n,r,i,o){function s(m,g){m.lineWidth==="auto"&&(m.lineWidth=g.lineWidth>0?2:0),qa(m,function(y,b){m[b]==="inherit"&&(m[b]=g[b])})}var l=a.getModel("itemStyle"),u=l.getItemStyle(),c=e.lastIndexOf("empty",0)===0?"fill":"stroke",d=l.getShallow("decal");u.decal=!d||d==="inherit"?n.decal:ml(d,o),u.fill==="inherit"&&(u.fill=n[r]),u.stroke==="inherit"&&(u.stroke=n[c]),u.opacity==="inherit"&&(u.opacity=(r==="fill"?n:t).opacity),s(u,n);var h=a.getModel("lineStyle"),f=h.getLineStyle();if(s(f,t),u.fill==="auto"&&(u.fill=n.fill),u.stroke==="auto"&&(u.stroke=n.fill),f.stroke==="auto"&&(f.stroke=n.fill),!i){var v=a.get("inactiveBorderWidth"),p=u[c];u.lineWidth=v==="auto"?n.lineWidth>0&&p?2:0:u.lineWidth,u.fill=a.get("inactiveColor"),u.stroke=a.get("inactiveBorderColor"),f.stroke=h.get("inactiveColor"),f.lineWidth=h.get("inactiveWidth")}return{itemStyle:u,lineStyle:f}}function Xf(e){var a=e.icon||"roundRect",t=zt(a,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill,e.symbolKeepAspect);return t.setStyle(e.itemStyle),t.rotation=(e.iconRotate||0)*Math.PI/180,t.setOrigin([e.itemWidth/2,e.itemHeight/2]),a.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill="#fff",t.style.lineWidth=2),t}function Kr(e,a,t,n){Qa(e,a,t,n),t.dispatchAction({type:"legendToggleSelect",name:e??a}),ja(e,a,t,n)}function lo(e){for(var a=e.getZr().storage.getDisplayList(),t,n=0,r=a.length;n<r&&!(t=a[n].states.emphasis);)n++;return t&&t.hoverLayer}function ja(e,a,t,n){lo(t)||t.dispatchAction({type:"highlight",seriesName:e,name:a,excludeSeriesId:n})}function Qa(e,a,t,n){lo(t)||t.dispatchAction({type:"downplay",seriesName:e,name:a,excludeSeriesId:n})}function Kf(e){var a=e.findComponents({mainType:"legend"});a&&a.length&&e.filterSeries(function(t){for(var n=0;n<a.length;n++)if(!a[n].isSelected(t.name))return!1;return!0})}function Rt(e,a,t){var n=e==="allSelect"||e==="inverseSelect",r={},i=[];t.eachComponent({mainType:"legend",query:a},function(s){n?s[e]():s[e](a.name),Yr(s,r),i.push(s.componentIndex)});var o={};return t.eachComponent("legend",function(s){M(r,function(l,u){s[l?"select":"unSelect"](u)}),Yr(s,o)}),n?{selected:o,legendIndex:i}:{name:a.name,selected:o}}function Yr(e,a){var t=a||{};return M(e.getData(),function(n){var r=n.get("name");if(!(r===`
`||r==="")){var i=e.isSelected(r);yl(t,r)?t[r]=t[r]&&i:t[r]=i}}),t}function Yf(e){e.registerAction("legendToggleSelect","legendselectchanged",le(Rt,"toggleSelected")),e.registerAction("legendAllSelect","legendselectall",le(Rt,"allSelect")),e.registerAction("legendInverseSelect","legendinverseselect",le(Rt,"inverseSelect")),e.registerAction("legendSelect","legendselected",le(Rt,"select")),e.registerAction("legendUnSelect","legendunselected",le(Rt,"unSelect"))}function uo(e){e.registerComponentModel(Za),e.registerComponentView(so),e.registerProcessor(e.PRIORITY.PROCESSOR.SERIES_FILTER,Kf),e.registerSubTypeDefaulter("legend",function(){return"plain"}),Yf(e)}var Zf=function(e){Y(a,e);function a(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=a.type,t}return a.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},a.prototype.init=function(t,n,r){var i=gi(t);e.prototype.init.call(this,t,n,r),Zr(this,t,i)},a.prototype.mergeOption=function(t,n){e.prototype.mergeOption.call(this,t,n),Zr(this,this.option,t)},a.type="legend.scroll",a.defaultOption=pi(Za.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),a}(Za);function Zr(e,a,t){var n=e.getOrient(),r=[1,1];r[n.index]=0,mi(a,t,{type:"box",ignoreSize:!!r})}var qr=_e,Ma=["width","height"],Ea=["x","y"],qf=function(e){Y(a,e);function a(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=a.type,t.newlineDisabled=!0,t._currentIndex=0,t}return a.prototype.init=function(){e.prototype.init.call(this),this.group.add(this._containerGroup=new qr),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new qr)},a.prototype.resetInner=function(){e.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},a.prototype.renderInner=function(t,n,r,i,o,s,l){var u=this;e.prototype.renderInner.call(this,t,n,r,i,o,s,l);var c=this._controllerGroup,d=n.get("pageIconSize",!0),h=ie(d)?d:[d,d];v("pagePrev",0);var f=n.getModel("pageTextStyle");c.add(new ke({name:"pageText",style:{text:"xx/xx",fill:f.getTextColor(),font:f.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),v("pageNext",1);function v(p,m){var g=p+"DataIndex",y=Si(n.get("pageIcons",!0)[n.getOrient().name][m],{onclick:Le(u._pageGo,u,g,n,i)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});y.name=p,c.add(y)}},a.prototype.layoutInner=function(t,n,r,i,o,s){var l=this.getSelectorGroup(),u=t.getOrient().index,c=Ma[u],d=Ea[u],h=Ma[1-u],f=Ea[1-u];o&&Vt("horizontal",l,t.get("selectorItemGap",!0));var v=t.get("selectorButtonGap",!0),p=l.getBoundingRect(),m=[-p.x,-p.y],g=Ft(r);o&&(g[c]=r[c]-p[c]-v);var y=this._layoutContentAndController(t,i,g,u,c,h,f,d);if(o){if(s==="end")m[u]+=y[c]+v;else{var b=p[c]+v;m[u]-=b,y[d]-=b}y[c]+=p[c]+v,m[1-u]+=y[f]+y[h]/2-p[h]/2,y[h]=Math.max(y[h],p[h]),y[f]=Math.min(y[f],p[f]+m[1-u]),l.x=m[0],l.y=m[1],l.markRedraw()}return y},a.prototype._layoutContentAndController=function(t,n,r,i,o,s,l,u){var c=this.getContentGroup(),d=this._containerGroup,h=this._controllerGroup;Vt(t.get("orient"),c,t.get("itemGap"),i?r.width:null,i?null:r.height),Vt("horizontal",h,t.get("pageButtonItemGap",!0));var f=c.getBoundingRect(),v=h.getBoundingRect(),p=this._showController=f[o]>r[o],m=[-f.x,-f.y];n||(m[i]=c[u]);var g=[0,0],y=[-v.x,-v.y],b=lt(t.get("pageButtonGap",!0),t.get("itemGap",!0));if(p){var x=t.get("pageButtonPosition",!0);x==="end"?y[i]+=r[o]-v[o]:g[i]+=v[o]+b}y[1-i]+=f[s]/2-v[s]/2,c.setPosition(m),d.setPosition(g),h.setPosition(y);var S={x:0,y:0};if(S[o]=p?r[o]:f[o],S[s]=Math.max(f[s],v[s]),S[l]=Math.min(0,v[l]+y[1-i]),d.__rectSize=r[o],p){var w={x:0,y:0};w[o]=Math.max(r[o]-v[o]-b,0),w[s]=S[s],d.setClipPath(new Me({shape:w})),d.__rectSize=w[o]}else h.eachChild(function(L){L.attr({invisible:!0,silent:!0})});var A=this._getPageInfo(t);return A.pageIndex!=null&&Te(c,{x:A.contentPosition[0],y:A.contentPosition[1]},p?t:null),this._updatePageInfoView(t,A),S},a.prototype._pageGo=function(t,n,r){var i=this._getPageInfo(n)[t];i!=null&&r.dispatchAction({type:"legendScroll",scrollDataIndex:i,legendId:n.id})},a.prototype._updatePageInfoView=function(t,n){var r=this._controllerGroup;M(["pagePrev","pageNext"],function(c){var d=c+"DataIndex",h=n[d]!=null,f=r.childOfName(c);f&&(f.setStyle("fill",h?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),f.cursor=h?"pointer":"default")});var i=r.childOfName("pageText"),o=t.get("pageFormatter"),s=n.pageIndex,l=s!=null?s+1:0,u=n.pageCount;i&&o&&i.setStyle("text",ae(o)?o.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):o({current:l,total:u}))},a.prototype._getPageInfo=function(t){var n=t.get("scrollDataIndex",!0),r=this.getContentGroup(),i=this._containerGroup.__rectSize,o=t.getOrient().index,s=Ma[o],l=Ea[o],u=this._findTargetItemIndex(n),c=r.children(),d=c[u],h=c.length,f=h?1:0,v={contentPosition:[r.x,r.y],pageCount:f,pageIndex:f-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!d)return v;var p=x(d);v.contentPosition[o]=-p.s;for(var m=u+1,g=p,y=p,b=null;m<=h;++m)b=x(c[m]),(!b&&y.e>g.s+i||b&&!S(b,g.s))&&(y.i>g.i?g=y:g=b,g&&(v.pageNextDataIndex==null&&(v.pageNextDataIndex=g.i),++v.pageCount)),y=b;for(var m=u-1,g=p,y=p,b=null;m>=-1;--m)b=x(c[m]),(!b||!S(y,b.s))&&g.i<y.i&&(y=g,v.pagePrevDataIndex==null&&(v.pagePrevDataIndex=g.i),++v.pageCount,++v.pageIndex),g=b;return v;function x(w){if(w){var A=w.getBoundingRect(),L=A[l]+w[l];return{s:L,e:L+A[s],i:w.__legendDataIndex}}}function S(w,A){return w.e>=A&&w.s<=A+i}},a.prototype._findTargetItemIndex=function(t){if(!this._showController)return 0;var n,r=this.getContentGroup(),i;return r.eachChild(function(o,s){var l=o.__legendDataIndex;i==null&&l!=null&&(i=s),l===t&&(n=s)}),n??i},a.type="legend.scroll",a}(so);function jf(e){e.registerAction("legendScroll","legendscroll",function(a,t){var n=a.scrollDataIndex;n!=null&&t.eachComponent({mainType:"legend",subType:"scroll",query:a},function(r){r.setScrollDataIndex(n)})})}function Qf(e){ft(uo),e.registerComponentModel(Zf),e.registerComponentView(qf),jf(e)}function Jf(e){ft(uo),ft(Qf)}const ev={class:"uncertainty-container"},tv={class:"form-section"},av={key:0,class:"loading-container"},nv={key:1,class:"results-section"},rv={class:"visualization-tabs"},iv={class:"globe-container"},ov={class:"analysis-details"},sv={class:"uncertainty-factors"},lv={class:"factor-label"},uv="/seaice/picture/sea_ice_map.png",cv={__name:"UncertaintyAnalysisView",setup(e){ft([zl,td,md,Wf,Gf,Sf,Jf]);const a=Ae({forecastType:"daily",baseDate:null,forecastLength:7}),t=K(!1),n=K(!1),r=K("spatial"),i=V(()=>a.forecastType==="daily"?[{value:7,label:"7天"},{value:14,label:"14天"},{value:30,label:"30天"}]:[{value:3,label:"3个月"},{value:6,label:"6个月"},{value:12,label:"12个月"}]),o=Ae({meanUncertainty:12.5,maxUncertaintyRegion:"北极中央海盆",uncertaintyTrend:"随预测时长增加而增大",confidenceLevel:87}),s=Ae([{name:"初始条件不确定性",contribution:42,color:"#409EFF"},{name:"模型结构不确定性",contribution:28,color:"#67C23A"},{name:"边界条件不确定性",contribution:18,color:"#E6A23C"},{name:"数据采样不确定性",contribution:12,color:"#F56C6C"}]),l=Ae({title:{text:"海冰面积预测的时间序列不确定性",left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:["预测值","上限 (95%CI)","下限 (95%CI)"],bottom:10},grid:{left:"3%",right:"4%",bottom:"15%",top:"15%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:["1日","2日","3日","4日","5日","6日","7日"]},yAxis:{type:"value",name:"海冰面积 (百万平方公里)",nameLocation:"middle",nameGap:30},series:[{name:"预测值",type:"line",data:[10.2,10,9.8,9.5,9.2,8.8,8.5],lineStyle:{width:3},symbol:"circle",symbolSize:8,itemStyle:{color:"#409EFF"}},{name:"上限 (95%CI)",type:"line",data:[10.5,10.4,10.3,10.1,9.9,9.7,9.5],lineStyle:{width:2,type:"dashed"},itemStyle:{color:"#67C23A"}},{name:"下限 (95%CI)",type:"line",data:[9.9,9.6,9.3,8.9,8.5,7.9,7.5],lineStyle:{width:2,type:"dashed"},itemStyle:{color:"#F56C6C"}},{name:"不确定性范围",type:"line",data:[10.5,10.4,10.3,10.1,9.9,9.7,9.5],lineStyle:{opacity:0},areaStyle:{opacity:.2,color:"#409EFF"},stack:"confidence-band",symbol:"none"},{name:"下界",type:"line",data:[-.6,-.8,-1,-1.2,-1.4,-1.8,-2].map(f=>10.5+f),lineStyle:{opacity:0},areaStyle:{opacity:.2,color:"#409EFF"},stack:"confidence-band",symbol:"none"}]}),u=Ae({title:{text:"海冰面积预测的概率分布",left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:"{b}百万平方公里: {c}%"},grid:{left:"3%",right:"4%",bottom:"12%",top:"15%",containLabel:!0},xAxis:{type:"category",data:["7.5-8.0","8.0-8.5","8.5-9.0","9.0-9.5","9.5-10.0","10.0-10.5"],name:"海冰面积 (百万平方公里)",nameLocation:"middle",nameGap:30},yAxis:{type:"value",name:"概率 (%)",nameLocation:"middle",nameGap:30},series:[{type:"bar",data:[5,12,25,35,18,5],barWidth:"50%",itemStyle:{color:function(f){return["#F56C6C","#E6A23C","#67C23A","#409EFF","#E6A23C","#F56C6C"][f.dataIndex]}}}]}),c=()=>{de(()=>{(r.value==="temporal"||r.value==="distribution")&&document.querySelectorAll(".chart-container").forEach(v=>{v.classList.contains("active")&&(v.style.height=`${v.offsetHeight}px`)})})},d=f=>{r.value=f,de(()=>{c()})},h=()=>{if(!a.baseDate){Qn.warning("请选择基准日期");return}t.value=!0,setTimeout(()=>{t.value=!1,n.value=!0,a.forecastType==="monthly"?(l.xAxis.data=["1月","2月","3月","4月","5月","6月"],l.series[0].data=[8.2,7.5,6.8,6.2,5.8,5.5],l.series[1].data=[8.8,8.2,7.6,7.2,6.9,6.7],l.series[2].data=[7.6,6.8,6,5.2,4.7,4.3],l.series[3].data=[8.8,8.2,7.6,7.2,6.9,6.7],l.series[4].data=[-1.2,-1.4,-1.6,-2,-2.2,-2.4].map(f=>8.8+f),u.xAxis.data=["4.0-5.0","5.0-6.0","6.0-7.0","7.0-8.0","8.0-9.0"],u.series[0].data=[8,20,40,25,7]):(l.xAxis.data=["1日","2日","3日","4日","5日","6日","7日"],l.series[0].data=[10.2,10,9.8,9.5,9.2,8.8,8.5],l.series[1].data=[10.5,10.4,10.3,10.1,9.9,9.7,9.5],l.series[2].data=[9.9,9.6,9.3,8.9,8.5,7.9,7.5],l.series[3].data=[10.5,10.4,10.3,10.1,9.9,9.7,9.5],l.series[4].data=[-.6,-.8,-1,-1.2,-1.4,-1.8,-2].map(f=>10.5+f),u.xAxis.data=["7.5-8.0","8.0-8.5","8.5-9.0","9.0-9.5","9.5-10.0","10.0-10.5"],u.series[0].data=[5,12,25,35,18,5]),Qn.success("不确定性分析完成"),de(()=>{c()})},2e3)};return At(()=>{window.addEventListener("resize",c,{passive:!0})}),li(()=>{window.removeEventListener("resize",c)}),(f,v)=>{const p=Tl,m=_l,g=Al,y=Vl,b=ac,x=tc,S=Bl,w=wl,A=yc,L=mc,_=zu,D=Bu,T=Il,P=Cl;return N(),U("div",ev,[R(P,{class:"analysis-card"},{header:W(()=>v[4]||(v[4]=[z("div",{class:"card-header"},[z("h2",null,"北极海冰预测不确定性分析"),z("p",{class:"subtitle"},"基于多模型集成的不确定性量化")],-1)])),default:W(()=>[z("div",tv,[R(w,{model:a,"label-width":"120px"},{default:W(()=>[R(g,{label:"预测类型"},{default:W(()=>[R(m,{modelValue:a.forecastType,"onUpdate:modelValue":v[0]||(v[0]=I=>a.forecastType=I)},{default:W(()=>[R(p,{value:"daily"},{default:W(()=>v[5]||(v[5]=[Ce("逐日预测")])),_:1}),R(p,{value:"monthly"},{default:W(()=>v[6]||(v[6]=[Ce("逐月预测")])),_:1})]),_:1},8,["modelValue"])]),_:1}),R(g,{label:"基准日期"},{default:W(()=>[R(y,{modelValue:a.baseDate,"onUpdate:modelValue":v[1]||(v[1]=I=>a.baseDate=I),type:a.forecastType==="daily"?"date":"month",placeholder:"选择基准日期",class:"date-picker"},null,8,["modelValue","type"])]),_:1}),R(g,{label:"预测时长"},{default:W(()=>[R(x,{modelValue:a.forecastLength,"onUpdate:modelValue":v[2]||(v[2]=I=>a.forecastLength=I),placeholder:"请选择预测时长",class:"length-select"},{default:W(()=>[(N(!0),U(we,null,Je(i.value,I=>(N(),re(b,{key:I.value,label:I.label,value:I.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),R(g,null,{default:W(()=>[R(S,{type:"primary",onClick:h,loading:t.value},{default:W(()=>v[7]||(v[7]=[Ce(" 生成分析结果 ")])),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),t.value?(N(),U("div",av,[R(Sl),v[8]||(v[8]=z("p",null,"正在计算不确定性分析结果，请稍候...",-1))])):J("",!0),n.value&&!t.value?(N(),U("div",nv,[z("div",rv,[R(L,{modelValue:r.value,"onUpdate:modelValue":v[3]||(v[3]=I=>r.value=I),onTabChange:d},{default:W(()=>[R(A,{label:"空间不确定性分布",name:"spatial"},{default:W(()=>[z("div",iv,[R(xl,{class:"globe-chart",baseTexture:uv,"auto-rotate":!0,"target-coord":[0,90],distance:250}),v[9]||(v[9]=z("div",{class:"legend"},[z("div",{class:"legend-title"},"不确定性强度 (标准差)"),z("div",{class:"legend-gradient"}),z("div",{class:"legend-labels"},[z("span",null,"低"),z("span",null,"高")])],-1))])]),_:1}),R(A,{label:"时间序列不确定性",name:"temporal"},{default:W(()=>[z("div",{class:B(["chart-container",{active:r.value==="temporal"}])},[R(F(jn),{class:"time-series-chart",option:l,autoresize:""},null,8,["option"])],2)]),_:1}),R(A,{label:"概率分布",name:"distribution"},{default:W(()=>[z("div",{class:B(["chart-container",{active:r.value==="distribution"}])},[R(F(jn),{class:"distribution-chart",option:u,autoresize:""},null,8,["option"])],2)]),_:1})]),_:1},8,["modelValue"])]),z("div",ov,[v[11]||(v[11]=z("h3",null,"不确定性分析摘要",-1)),R(D,{column:2,border:""},{default:W(()=>[R(_,{label:"平均不确定性"},{default:W(()=>[Ce(se(o.meanUncertainty)+"%",1)]),_:1}),R(_,{label:"最大不确定性区域"},{default:W(()=>[Ce(se(o.maxUncertaintyRegion),1)]),_:1}),R(_,{label:"不确定性趋势"},{default:W(()=>[Ce(se(o.uncertaintyTrend),1)]),_:1}),R(_,{label:"预测置信度"},{default:W(()=>[Ce(se(o.confidenceLevel)+"%",1)]),_:1})]),_:1}),z("div",sv,[v[10]||(v[10]=z("h4",null,"主要不确定性来源",-1)),(N(!0),U(we,null,Je(s,(I,E)=>(N(),re(T,{key:E,percentage:I.contribution,color:I.color,"stroke-width":16,format:O=>`${O}%`,class:"factor-progress"},{default:W(()=>[z("span",lv,se(I.name),1)]),_:2},1032,["percentage","color","format"]))),128))])])])):J("",!0)]),_:1})])}}},Sv=bl(cv,[["__scopeId","data-v-bf98a0c5"]]);export{Sv as default};
