import{aI as F,an as R,n as be,aJ as _e,aK as Ce,B as Ve,m as ue,C as xe,p as Me,r as k,aL as J,E as D,aM as j,U as G,o as ce,aN as Ne,c as M,e as _,a8 as se,F as S,b,g as c,ar as W,G as te,s as H,w as x,f as X,aO as we,aP as Ie,K as oe,aQ as ke,aF as Ee,ab as Se,as as Y,aB as re,S as $e,al as Ae,af as Fe,_ as le,a as f,ap as Pe,aq as De,H as I,M as T,aH as Ue,aD as ae,L as Oe,aR as Re,aS as Ye}from"./index-BO7lXyMJ.js";import{E as Ge,a as Ke,b as ze,c as Le,d as Ze}from"./el-form-item-DRKRQLA8.js";import{U,I as Q,C as de,f as Be,g as je,a as We,v as ie,h as He,j as Xe,d as qe,E as Je,c as Qe,e as q}from"./el-button-DYtvFSI2.js";import"./file_commonjsHelpers-0AiMCqXO.js";const Te=be({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:Ce,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:p=>p===null||F(p)||["min","max"].includes(p),default:null},name:String,placeholder:String,precision:{type:Number,validator:p=>p>=0&&p===Number.parseInt(`${p}`,10)},validateEvent:{type:Boolean,default:!0},..._e(["ariaLabel"])}),et={[de]:(p,n)=>n!==p,blur:p=>p instanceof FocusEvent,focus:p=>p instanceof FocusEvent,[Q]:p=>F(p)||R(p),[U]:p=>F(p)||R(p)},tt=ue({name:"ElInputNumber"}),at=ue({...tt,props:Te,emits:et,setup(p,{expose:n,emit:v}){const o=p,{t:g}=xe(),h=Me("input-number"),y=k(),a=J({currentValue:o.modelValue,userInput:null}),{formItem:t}=Be(),$=D(()=>F(o.modelValue)&&o.modelValue<=o.min),m=D(()=>F(o.modelValue)&&o.modelValue>=o.max),l=D(()=>{const e=K(o.step);return j(o.precision)?Math.max(K(o.modelValue),e):(e>o.precision,o.precision)}),d=D(()=>o.controls&&o.controlsPosition==="right"),r=je(),i=We(),E=D(()=>{if(a.userInput!==null)return a.userInput;let e=a.currentValue;if(R(e))return"";if(F(e)){if(Number.isNaN(e))return"";j(o.precision)||(e=e.toFixed(o.precision))}return e}),P=(e,s)=>{if(j(s)&&(s=l.value),s===0)return Math.round(e);let u=String(e);const C=u.indexOf(".");if(C===-1||!u.replace(".","").split("")[C+s])return e;const Z=u.length;return u.charAt(Z-1)==="5"&&(u=`${u.slice(0,Math.max(0,Z-1))}6`),Number.parseFloat(Number(u).toFixed(s))},K=e=>{if(R(e))return 0;const s=e.toString(),u=s.indexOf(".");let C=0;return u!==-1&&(C=s.length-u-1),C},z=(e,s=1)=>F(e)?P(e+o.step*s):a.currentValue,O=()=>{if(o.readonly||i.value||m.value)return;const e=Number(E.value)||0,s=z(e);L(s),v(Q,a.currentValue),ee()},N=()=>{if(o.readonly||i.value||$.value)return;const e=Number(E.value)||0,s=z(e,-1);L(s),v(Q,a.currentValue),ee()},ne=(e,s)=>{const{max:u,min:C,step:V,precision:A,stepStrictly:Z,valueOnClear:B}=o;u<C&&$e("InputNumber","min should not be greater than max.");let w=Number(e);if(R(e)||Number.isNaN(w))return null;if(e===""){if(B===null)return null;w=Ae(B)?{min:C,max:u}[B]:B}return Z&&(w=P(Math.round(w/V)*V,A),w!==e&&s&&v(U,w)),j(A)||(w=P(w,A)),(w>u||w<C)&&(w=w>u?u:C,s&&v(U,w)),w},L=(e,s=!0)=>{var u;const C=a.currentValue,V=ne(e);if(!s){v(U,V);return}C===V&&e||(a.userInput=null,v(U,V),C!==V&&v(de,V,C),o.validateEvent&&((u=t==null?void 0:t.validate)==null||u.call(t,"change").catch(A=>re())),a.currentValue=V)},pe=e=>{a.userInput=e;const s=e===""?null:Number(e);v(Q,s),L(s,!1)},me=e=>{const s=e!==""?Number(e):"";(F(s)&&!Number.isNaN(s)||e==="")&&L(s),ee(),a.userInput=null},fe=()=>{var e,s;(s=(e=y.value)==null?void 0:e.focus)==null||s.call(e)},ve=()=>{var e,s;(s=(e=y.value)==null?void 0:e.blur)==null||s.call(e)},he=e=>{v("focus",e)},ge=e=>{var s,u;a.userInput=null,Xe()&&a.currentValue===null&&((s=y.value)!=null&&s.input)&&(y.value.input.value=""),v("blur",e),o.validateEvent&&((u=t==null?void 0:t.validate)==null||u.call(t,"blur").catch(C=>re()))},ee=()=>{a.currentValue!==o.modelValue&&(a.currentValue=o.modelValue)},ye=e=>{document.activeElement===e.target&&e.preventDefault()};return G(()=>o.modelValue,(e,s)=>{const u=ne(e,!0);a.userInput===null&&u!==s&&(a.currentValue=u)},{immediate:!0}),ce(()=>{var e;const{min:s,max:u,modelValue:C}=o,V=(e=y.value)==null?void 0:e.input;if(V.setAttribute("role","spinbutton"),Number.isFinite(u)?V.setAttribute("aria-valuemax",String(u)):V.removeAttribute("aria-valuemax"),Number.isFinite(s)?V.setAttribute("aria-valuemin",String(s)):V.removeAttribute("aria-valuemin"),V.setAttribute("aria-valuenow",a.currentValue||a.currentValue===0?String(a.currentValue):""),V.setAttribute("aria-disabled",String(i.value)),!F(C)&&C!=null){let A=Number(C);Number.isNaN(A)&&(A=null),v(U,A)}V.addEventListener("wheel",ye,{passive:!1})}),Ne(()=>{var e,s;const u=(e=y.value)==null?void 0:e.input;u==null||u.setAttribute("aria-valuenow",`${(s=a.currentValue)!=null?s:""}`)}),n({focus:fe,blur:ve}),(e,s)=>(_(),M("div",{class:te([c(h).b(),c(h).m(c(r)),c(h).is("disabled",c(i)),c(h).is("without-controls",!e.controls),c(h).is("controls-right",c(d))]),onDragstart:Y(()=>{},["prevent"])},[e.controls?se((_(),M("span",{key:0,role:"button","aria-label":c(g)("el.inputNumber.decrease"),class:te([c(h).e("decrease"),c(h).is("disabled",c($))]),onKeydown:W(N,["enter"])},[H(e.$slots,"decrease-icon",{},()=>[b(c(oe),null,{default:x(()=>[c(d)?(_(),X(c(we),{key:0})):(_(),X(c(Ie),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[c(ie),N]]):S("v-if",!0),e.controls?se((_(),M("span",{key:1,role:"button","aria-label":c(g)("el.inputNumber.increase"),class:te([c(h).e("increase"),c(h).is("disabled",c(m))]),onKeydown:W(O,["enter"])},[H(e.$slots,"increase-icon",{},()=>[b(c(oe),null,{default:x(()=>[c(d)?(_(),X(c(ke),{key:0})):(_(),X(c(Ee),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[c(ie),O]]):S("v-if",!0),b(c(He),{id:e.id,ref_key:"input",ref:y,type:"number",step:e.step,"model-value":c(E),placeholder:e.placeholder,readonly:e.readonly,disabled:c(i),size:c(r),max:e.max,min:e.min,name:e.name,"aria-label":e.ariaLabel,"validate-event":!1,onKeydown:[W(Y(O,["prevent"]),["up"]),W(Y(N,["prevent"]),["down"])],onBlur:ge,onFocus:he,onInput:pe,onChange:me},Se({_:2},[e.$slots.prefix?{name:"prefix",fn:x(()=>[H(e.$slots,"prefix")])}:void 0,e.$slots.suffix?{name:"suffix",fn:x(()=>[H(e.$slots,"suffix")])}:void 0]),1032,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],42,["onDragstart"]))}});var lt=Ve(at,[["__file","input-number.vue"]]);const nt=Fe(lt),st={class:"dynamics-viewer"},ot={class:"image-container"},rt={key:0,class:"loading-overlay"},it=["src","alt","onClick","onLoad"],ut={class:"image-date-label"},ct={key:0,class:"empty-state"},dt=["src"],pt={class:"image-date"},mt={__name:"DynamicsAnalysisViewer",props:{images:{type:Array,required:!0}},setup(p){const n=p,v=k(null),o=k(1),g=k([]),h=D(()=>!n.images||n.images.length===0?1:Math.ceil(n.images.length/2)),y=l=>new Promise((d,r)=>{const i=new Image;i.onload=()=>d(),i.onerror=r,i.src=l}),a=()=>{!n.images||n.images.length===0||n.images.forEach((l,d)=>{y(l.path).then(()=>{g.value[d]=!1}).catch(r=>{console.error(`Failed to load image: ${l.path}`,r),g.value[d]=!1})})};G(()=>n.images,l=>{l&&l.length>0&&(g.value=new Array(l.length).fill(!0),a())},{immediate:!0});const t=l=>{g.value[l]=!1},$=l=>{l&&(v.value=l,o.value=1)},m=l=>{const d=Math.sign(l.deltaY),r=Math.max(1,Math.min(3,o.value-d*.2));o.value=r,l.preventDefault()};return ce(()=>{a()}),(l,d)=>(_(),M("div",st,[d[4]||(d[4]=f("h2",{class:"section-title"},"动力学分析结果热图",-1)),f("div",{class:"image-grid",style:T({"--images-per-row":h.value})},[(_(!0),M(Pe,null,De(p.images,(r,i)=>(_(),M("div",{key:i,class:"image-card"},[f("div",ot,[g.value[i]?(_(),M("div",rt,d[2]||(d[2]=[f("div",{class:"loading-spinner"},null,-1)]))):S("",!0),f("img",{src:r.path,alt:`${r.date} - 动力学分析结果`,class:"analysis-image",onClick:E=>$(r),onLoad:E=>t(i)},null,40,it)]),f("div",ut,I(r.date),1)]))),128))],4),!p.images||p.images.length===0?(_(),M("div",ct,[b(c(qe),{description:"暂无分析结果"})])):S("",!0),v.value?(_(),M("div",{key:1,class:"modal-overlay",onWheel:m,onClick:d[1]||(d[1]=Y(r=>v.value=null,["self"]))},[f("div",{class:"modal-content",style:T({transform:`scale(${o.value})`})},[f("img",{src:v.value.path,alt:"放大查看",class:"modal-image"},null,8,dt),f("p",pt,I(v.value.date),1)],4),f("button",{onClick:d[0]||(d[0]=r=>v.value=null),class:"close-button"},d[3]||(d[3]=[f("svg",{class:"close-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))],32)):S("",!0)]))}},ft=le(mt,[["__scopeId","data-v-25b0c470"]]),vt="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='1200'%20height='1200'%20fill='none'%3e%3crect%20width='1200'%20height='1200'%20fill='%23EAEAEA'%20rx='3'/%3e%3cg%20opacity='.5'%3e%3cg%20opacity='.5'%3e%3cpath%20fill='%23FAFAFA'%20d='M600.709%20736.5c-75.454%200-136.621-61.167-136.621-136.62%200-75.454%2061.167-136.621%20136.621-136.621%2075.453%200%20136.62%2061.167%20136.62%20136.621%200%2075.453-61.167%20136.62-136.62%20136.62Z'/%3e%3cpath%20stroke='%23C9C9C9'%20stroke-width='2.418'%20d='M600.709%20736.5c-75.454%200-136.621-61.167-136.621-136.62%200-75.454%2061.167-136.621%20136.621-136.621%2075.453%200%20136.62%2061.167%20136.62%20136.621%200%2075.453-61.167%20136.62-136.62%20136.62Z'/%3e%3c/g%3e%3cpath%20stroke='url(%23a)'%20stroke-width='2.418'%20d='M0-1.209h553.581'%20transform='scale(1%20-1)%20rotate(45%201163.11%2091.165)'/%3e%3cpath%20stroke='url(%23b)'%20stroke-width='2.418'%20d='M404.846%20598.671h391.726'/%3e%3cpath%20stroke='url(%23c)'%20stroke-width='2.418'%20d='M599.5%20795.742V404.017'/%3e%3cpath%20stroke='url(%23d)'%20stroke-width='2.418'%20d='m795.717%20796.597-391.441-391.44'/%3e%3cpath%20fill='%23fff'%20d='M600.709%20656.704c-31.384%200-56.825-25.441-56.825-56.824%200-31.384%2025.441-56.825%2056.825-56.825%2031.383%200%2056.824%2025.441%2056.824%2056.825%200%2031.383-25.441%2056.824-56.824%2056.824Z'/%3e%3cg%20clip-path='url(%23e)'%3e%3cpath%20fill='%23666'%20fill-rule='evenodd'%20d='M616.426%20586.58h-31.434v16.176l3.553-3.554.531-.531h9.068l.074-.074%208.463-8.463h2.565l7.18%207.181V586.58Zm-15.715%2014.654%203.698%203.699%201.283%201.282-2.565%202.565-1.282-1.283-5.2-5.199h-6.066l-5.514%205.514-.073.073v2.876a2.418%202.418%200%200%200%202.418%202.418h26.598a2.418%202.418%200%200%200%202.418-2.418v-8.317l-8.463-8.463-7.181%207.181-.071.072Zm-19.347%205.442v4.085a6.045%206.045%200%200%200%206.046%206.045h26.598a6.044%206.044%200%200%200%206.045-6.045v-7.108l1.356-1.355-1.282-1.283-.074-.073v-17.989h-38.689v23.43l-.146.146.146.147Z'%20clip-rule='evenodd'/%3e%3c/g%3e%3cpath%20stroke='%23C9C9C9'%20stroke-width='2.418'%20d='M600.709%20656.704c-31.384%200-56.825-25.441-56.825-56.824%200-31.384%2025.441-56.825%2056.825-56.825%2031.383%200%2056.824%2025.441%2056.824%2056.825%200%2031.383-25.441%2056.824-56.824%2056.824Z'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient%20id='a'%20x1='554.061'%20x2='-.48'%20y1='.083'%20y2='.087'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23C9C9C9'%20stop-opacity='0'/%3e%3cstop%20offset='.208'%20stop-color='%23C9C9C9'/%3e%3cstop%20offset='.792'%20stop-color='%23C9C9C9'/%3e%3cstop%20offset='1'%20stop-color='%23C9C9C9'%20stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient%20id='b'%20x1='796.912'%20x2='404.507'%20y1='599.963'%20y2='599.965'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23C9C9C9'%20stop-opacity='0'/%3e%3cstop%20offset='.208'%20stop-color='%23C9C9C9'/%3e%3cstop%20offset='.792'%20stop-color='%23C9C9C9'/%3e%3cstop%20offset='1'%20stop-color='%23C9C9C9'%20stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient%20id='c'%20x1='600.792'%20x2='600.794'%20y1='403.677'%20y2='796.082'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23C9C9C9'%20stop-opacity='0'/%3e%3cstop%20offset='.208'%20stop-color='%23C9C9C9'/%3e%3cstop%20offset='.792'%20stop-color='%23C9C9C9'/%3e%3cstop%20offset='1'%20stop-color='%23C9C9C9'%20stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient%20id='d'%20x1='404.85'%20x2='796.972'%20y1='403.903'%20y2='796.02'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23C9C9C9'%20stop-opacity='0'/%3e%3cstop%20offset='.208'%20stop-color='%23C9C9C9'/%3e%3cstop%20offset='.792'%20stop-color='%23C9C9C9'/%3e%3cstop%20offset='1'%20stop-color='%23C9C9C9'%20stop-opacity='0'/%3e%3c/linearGradient%3e%3cclipPath%20id='e'%3e%3cpath%20fill='%23fff'%20d='M581.364%20580.535h38.689v38.689h-38.689z'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",ht={class:"image-selector"},gt={key:0,class:"selection-info-container"},yt={class:"selection-info"},bt={__name:"ImageSelector",props:{topLeft:{type:Object,default:()=>({x:null,y:null})},bottomRight:{type:Object,default:()=>({x:null,y:null})}},emits:["update:topLeft","update:bottomRight"],setup(p,{emit:n}){const v=p,o=n,g=k(null),h=k(!1),y=J({x:0,y:0}),a=J({left:0,top:0,width:0,height:0}),t=J({left:0,top:0,width:0,height:0,isVisible:!1}),$=r=>{r.preventDefault(),h.value=!0;const i=g.value.getBoundingClientRect();y.x=r.clientX-i.left,y.y=r.clientY-i.top,a.left=y.x,a.top=y.y,a.width=0,a.height=0},m=r=>{if(!h.value)return;const i=g.value.getBoundingClientRect(),E=Math.min(Math.max(r.clientX-i.left,0),i.width),P=Math.min(Math.max(r.clientY-i.top,0),i.height);a.left=Math.min(E,y.x),a.top=Math.min(P,y.y),a.width=Math.abs(E-y.x),a.height=Math.abs(P-y.y)},l=()=>{h.value=!1,a.width>0&&a.height>0&&(t.left=a.left,t.top=a.top,t.width=a.width,t.height=a.height,t.isVisible=!0,o("update:topLeft",{x:Math.round(t.left),y:Math.round(t.top)}),o("update:bottomRight",{x:Math.round(t.left+t.width),y:Math.round(t.top+t.height)}))};G(()=>[v.topLeft,v.bottomRight],([r,i])=>{(r==null?void 0:r.x)!==null&&(r==null?void 0:r.y)!==null&&(i==null?void 0:i.x)!==null&&(i==null?void 0:i.y)!==null?(t.left=r.x,t.top=r.y,t.width=i.x-r.x,t.height=i.y-r.y,t.isVisible=!0):t.isVisible=!1},{immediate:!0});const d=()=>{t.left=0,t.top=0,t.width=0,t.height=0,t.isVisible=!1,a.left=0,a.top=0,a.width=0,a.height=0,o("update:topLeft",{x:null,y:null}),o("update:bottomRight",{x:null,y:null})};return(r,i)=>(_(),M("div",ht,[f("div",{class:"image-container",ref_key:"imageContainer",ref:g,onMousedown:$,onMousemove:m,onMouseup:l,onMouseleave:l},[i[0]||(i[0]=f("img",{src:vt,alt:"Selectable Image",draggable:"false"},null,-1)),h.value?(_(),M("div",{key:0,class:"selection",style:T({left:`${a.left}px`,top:`${a.top}px`,width:`${a.width}px`,height:`${a.height}px`})},null,4)):S("",!0),t.isVisible?(_(),M("div",{key:1,class:"last-selection",style:T({left:`${t.left}px`,top:`${t.top}px`,width:`${t.width}px`,height:`${t.height}px`})},null,4)):S("",!0)],544),t.isVisible?(_(),M("div",gt,[f("div",yt,[i[1]||(i[1]=f("p",null,"最后选择区域尺寸:",-1)),f("p",null,"宽度: "+I(Math.round(t.width))+"px",1),f("p",null,"高度: "+I(Math.round(t.height))+"px",1),i[2]||(i[2]=f("p",null,"角坐标:",-1)),f("p",null,"左上: ("+I(Math.round(t.left))+", "+I(Math.round(t.top))+")",1),f("p",null," 右上: ("+I(Math.round(t.left+t.width))+", "+I(Math.round(t.top))+") ",1),f("p",null," 左下: ("+I(Math.round(t.left))+", "+I(Math.round(t.top+t.height))+") ",1),f("p",null," 右下: ("+I(Math.round(t.left+t.width))+", "+I(Math.round(t.top+t.height))+") ",1)]),f("button",{class:"clear-button",onClick:d},"清除选择")])):S("",!0)]))}},_t=le(bt,[["__scopeId","data-v-1c88fc6e"]]),Ct={class:"container-layout"},Vt={class:"main-content"},xt={key:0,class:"loading-container"},Mt={key:1,class:"result-section"},Nt={__name:"DynamicsAnalysisView",setup(p){const n=k({dataRange:[],grad_forecast_month:1,grad_month:"",grad_lat_lon:"",grad_type:"sum",x1:null,y1:null,x2:null,y2:null}),v=k([]),o=k(!1),g=k(!1),h=k(null),y=k({x:null,y:null}),a=k({x:null,y:null});G([y,a],([m,l])=>{n.value.x1=m.y,n.value.y1=m.x,n.value.x2=l.y,n.value.y2=l.x},{immediate:!0,deep:!0}),G([()=>n.value.dataRange,()=>n.value.grad_forecast_month],([m,l])=>{if(m&&m[1]&&l){const d=new Date(m[1].substring(0,4),parseInt(m[1].substring(4))-1);d.setMonth(d.getMonth()+l),n.value.grad_month=String(d.getMonth()+1).padStart(2,"0")}else n.value.grad_month=""});const t=async()=>{if(h.value)try{const m=await Ye(h.value);m.length!==0&&(v.value=m,o.value=!0,q.success("分析完成"),g.value=!1,h.value=null)}catch(m){if(m.response&&m.response.status===400){console.log("Task not completed yet, continuing polling...");return}console.error("轮询分析结果出错:",m),g.value=!1,o.value=!1,q.error("获取分析结果失败")}},$=async()=>{if(!n.value.dataRange||!n.value.dataRange[0]||!n.value.dataRange[1]||!n.value.grad_month||!n.value.grad_forecast_month){q.error("请填写完整的分析参数");return}try{g.value=!0,o.value=!1;const m=await Re(n.value.dataRange[0],n.value.dataRange[1],n.value.grad_type,n.value.grad_month,n.value.x1,n.value.y1,n.value.x2,n.value.y2);h.value=m.task_id;const l=setInterval(async()=>{await t(),g.value||clearInterval(l)},2e3)}catch(m){o.value=!1,g.value=!1,q.error("提交分析请求失败，请重试"),console.error("Analysis error:",m)}};return Ue(()=>{h.value&&(h.value=null)}),(m,l)=>{const d=Je,r=ze,i=nt,E=Ze,P=Le,K=Qe,z=Ke,O=Ge;return _(),M("div",Ct,[f("div",Vt,[b(O,{class:"box-card"},{default:x(()=>[b(z,{model:n.value,onSubmit:Y($,["prevent"]),class:"analysis-form"},{default:x(()=>[b(r,{label:"数据范围"},{default:x(()=>[b(d,{modelValue:n.value.dataRange,"onUpdate:modelValue":l[0]||(l[0]=N=>n.value.dataRange=N),type:"monthrange","range-separator":"至","start-placeholder":"开始月份","end-placeholder":"结束月份",format:"YYYY-MM","value-format":"YYYYMM"},null,8,["modelValue"])]),_:1}),b(r,{label:"预报提前期"},{default:x(()=>[b(i,{modelValue:n.value.grad_forecast_month,"onUpdate:modelValue":l[1]||(l[1]=N=>n.value.grad_forecast_month=N),min:1,placeholder:"请输入提前期（月）"},null,8,["modelValue"])]),_:1}),b(r,{label:"目标月份"},{default:x(()=>[b(d,{modelValue:n.value.grad_month,"onUpdate:modelValue":l[2]||(l[2]=N=>n.value.grad_month=N),type:"month",placeholder:"目标月份由数据范围和预报提前期决定",format:"MM","value-format":"MM",disabled:""},null,8,["modelValue"])]),_:1}),b(r,{label:"分析范围"},{default:x(()=>[b(_t,{topLeft:y.value,"onUpdate:topLeft":l[3]||(l[3]=N=>y.value=N),bottomRight:a.value,"onUpdate:bottomRight":l[4]||(l[4]=N=>a.value=N)},null,8,["topLeft","bottomRight"])]),_:1}),b(r,{label:"分析目标"},{default:x(()=>[b(P,{modelValue:n.value.grad_type,"onUpdate:modelValue":l[5]||(l[5]=N=>n.value.grad_type=N)},{default:x(()=>[b(E,{value:"sum"},{default:x(()=>l[6]||(l[6]=[ae("海冰面积")])),_:1}),b(E,{value:"variation"},{default:x(()=>l[7]||(l[7]=[ae("海冰变化")])),_:1})]),_:1},8,["modelValue"])]),_:1}),b(r,null,{default:x(()=>[b(K,{type:"primary",loading:g.value,onClick:$},{default:x(()=>[ae(I(g.value?"分析中...":"提交分析"),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),g.value?(_(),M("div",xt,[b(Oe)])):S("",!0),!g.value&&o.value?(_(),M("div",Mt,[b(ft,{images:v.value,class:"full-width"},null,8,["images"])])):S("",!0)]),_:1})])])}}},St=le(Nt,[["__scopeId","data-v-8e77228e"]]);export{St as default};
