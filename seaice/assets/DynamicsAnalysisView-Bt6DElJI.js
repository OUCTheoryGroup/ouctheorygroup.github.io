import{aR as F,aS as Y,ai as be,aT as _e,aU as Ce,ae as Ve,af as ue,aj as xe,ag as Me,v as k,aV as J,w as P,aW as j,x as L,y as ce,aX as Ne,B as M,J as _,H as ne,X as S,E as b,O as c,aY as B,am as te,al as H,N as x,K as q,aZ as Ie,a_ as we,aQ as oe,a$ as ke,b0 as Ee,b1 as Se,Y as G,b2 as re,b3 as $e,aO as Ae,an as Fe,_ as le,D as v,b4 as De,b5 as Pe,F as w,Z as T,A as Ue,$ as ae,L as Oe,a0 as R,b6 as Re,b7 as Ye}from"./index-yh27qCC3.js";import{E as Ge,a as Le,b as ze,c as Ke,d as Ze}from"./el-radio-D289QCiq.js";import{U,I as Q,C as de,u as We,c as Xe,d as je,v as ie,a as Be,i as He,E as qe,b as Je}from"./el-button-CL3Zv7NF.js";import{E as Qe}from"./index-J7JyOWcF.js";const Te=be({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:Ce,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:m=>m===null||F(m)||["min","max"].includes(m),default:null},name:String,placeholder:String,precision:{type:Number,validator:m=>m>=0&&m===Number.parseInt(`${m}`,10)},validateEvent:{type:Boolean,default:!0},..._e(["ariaLabel"])}),et={[de]:(m,s)=>s!==m,blur:m=>m instanceof FocusEvent,focus:m=>m instanceof FocusEvent,[Q]:m=>F(m)||Y(m),[U]:m=>F(m)||Y(m)},tt=ue({name:"ElInputNumber"}),at=ue({...tt,props:Te,emits:et,setup(m,{expose:s,emit:h}){const o=m,{t:g}=xe(),f=Me("input-number"),y=k(),a=J({currentValue:o.modelValue,userInput:null}),{formItem:t}=We(),$=P(()=>F(o.modelValue)&&o.modelValue<=o.min),d=P(()=>F(o.modelValue)&&o.modelValue>=o.max),l=P(()=>{const e=z(o.step);return j(o.precision)?Math.max(z(o.modelValue),e):(e>o.precision,o.precision)}),p=P(()=>o.controls&&o.controlsPosition==="right"),r=Xe(),i=je(),E=P(()=>{if(a.userInput!==null)return a.userInput;let e=a.currentValue;if(Y(e))return"";if(F(e)){if(Number.isNaN(e))return"";j(o.precision)||(e=e.toFixed(o.precision))}return e}),D=(e,n)=>{if(j(n)&&(n=l.value),n===0)return Math.round(e);let u=String(e);const C=u.indexOf(".");if(C===-1||!u.replace(".","").split("")[C+n])return e;const W=u.length;return u.charAt(W-1)==="5"&&(u=`${u.slice(0,Math.max(0,W-1))}6`),Number.parseFloat(Number(u).toFixed(n))},z=e=>{if(Y(e))return 0;const n=e.toString(),u=n.indexOf(".");let C=0;return u!==-1&&(C=n.length-u-1),C},K=(e,n=1)=>F(e)?D(e+o.step*n):a.currentValue,O=()=>{if(o.readonly||i.value||d.value)return;const e=Number(E.value)||0,n=K(e);Z(n),h(Q,a.currentValue),ee()},N=()=>{if(o.readonly||i.value||$.value)return;const e=Number(E.value)||0,n=K(e,-1);Z(n),h(Q,a.currentValue),ee()},se=(e,n)=>{const{max:u,min:C,step:V,precision:A,stepStrictly:W,valueOnClear:X}=o;u<C&&$e("InputNumber","min should not be greater than max.");let I=Number(e);if(Y(e)||Number.isNaN(I))return null;if(e===""){if(X===null)return null;I=Ae(X)?{min:C,max:u}[X]:X}return W&&(I=D(Math.round(I/V)*V,A),I!==e&&n&&h(U,I)),j(A)||(I=D(I,A)),(I>u||I<C)&&(I=I>u?u:C,n&&h(U,I)),I},Z=(e,n=!0)=>{var u;const C=a.currentValue,V=se(e);if(!n){h(U,V);return}C===V&&e||(a.userInput=null,h(U,V),C!==V&&h(de,V,C),o.validateEvent&&((u=t==null?void 0:t.validate)==null||u.call(t,"change").catch(A=>re())),a.currentValue=V)},pe=e=>{a.userInput=e;const n=e===""?null:Number(e);h(Q,n),Z(n,!1)},me=e=>{const n=e!==""?Number(e):"";(F(n)&&!Number.isNaN(n)||e==="")&&Z(n),ee(),a.userInput=null},fe=()=>{var e,n;(n=(e=y.value)==null?void 0:e.focus)==null||n.call(e)},ve=()=>{var e,n;(n=(e=y.value)==null?void 0:e.blur)==null||n.call(e)},he=e=>{h("focus",e)},ge=e=>{var n,u;a.userInput=null,He()&&a.currentValue===null&&((n=y.value)!=null&&n.input)&&(y.value.input.value=""),h("blur",e),o.validateEvent&&((u=t==null?void 0:t.validate)==null||u.call(t,"blur").catch(C=>re()))},ee=()=>{a.currentValue!==o.modelValue&&(a.currentValue=o.modelValue)},ye=e=>{document.activeElement===e.target&&e.preventDefault()};return L(()=>o.modelValue,(e,n)=>{const u=se(e,!0);a.userInput===null&&u!==n&&(a.currentValue=u)},{immediate:!0}),ce(()=>{var e;const{min:n,max:u,modelValue:C}=o,V=(e=y.value)==null?void 0:e.input;if(V.setAttribute("role","spinbutton"),Number.isFinite(u)?V.setAttribute("aria-valuemax",String(u)):V.removeAttribute("aria-valuemax"),Number.isFinite(n)?V.setAttribute("aria-valuemin",String(n)):V.removeAttribute("aria-valuemin"),V.setAttribute("aria-valuenow",a.currentValue||a.currentValue===0?String(a.currentValue):""),V.setAttribute("aria-disabled",String(i.value)),!F(C)&&C!=null){let A=Number(C);Number.isNaN(A)&&(A=null),h(U,A)}V.addEventListener("wheel",ye,{passive:!1})}),Ne(()=>{var e,n;const u=(e=y.value)==null?void 0:e.input;u==null||u.setAttribute("aria-valuenow",`${(n=a.currentValue)!=null?n:""}`)}),s({focus:fe,blur:ve}),(e,n)=>(_(),M("div",{class:te([c(f).b(),c(f).m(c(r)),c(f).is("disabled",c(i)),c(f).is("without-controls",!e.controls),c(f).is("controls-right",c(p))]),onDragstart:G(()=>{},["prevent"])},[e.controls?ne((_(),M("span",{key:0,role:"button","aria-label":c(g)("el.inputNumber.decrease"),class:te([c(f).e("decrease"),c(f).is("disabled",c($))]),onKeydown:B(N,["enter"])},[H(e.$slots,"decrease-icon",{},()=>[b(c(oe),null,{default:x(()=>[c(p)?(_(),q(c(Ie),{key:0})):(_(),q(c(we),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[c(ie),N]]):S("v-if",!0),e.controls?ne((_(),M("span",{key:1,role:"button","aria-label":c(g)("el.inputNumber.increase"),class:te([c(f).e("increase"),c(f).is("disabled",c(d))]),onKeydown:B(O,["enter"])},[H(e.$slots,"increase-icon",{},()=>[b(c(oe),null,{default:x(()=>[c(p)?(_(),q(c(ke),{key:0})):(_(),q(c(Ee),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[c(ie),O]]):S("v-if",!0),b(c(Be),{id:e.id,ref_key:"input",ref:y,type:"number",step:e.step,"model-value":c(E),placeholder:e.placeholder,readonly:e.readonly,disabled:c(i),size:c(r),max:e.max,min:e.min,name:e.name,"aria-label":e.ariaLabel,"validate-event":!1,onKeydown:[B(G(O,["prevent"]),["up"]),B(G(N,["prevent"]),["down"])],onBlur:ge,onFocus:he,onInput:pe,onChange:me},Se({_:2},[e.$slots.prefix?{name:"prefix",fn:x(()=>[H(e.$slots,"prefix")])}:void 0,e.$slots.suffix?{name:"suffix",fn:x(()=>[H(e.$slots,"suffix")])}:void 0]),1032,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],42,["onDragstart"]))}});var lt=Ve(at,[["__file","input-number.vue"]]);const st=Fe(lt),nt={class:"dynamics-viewer"},ot={class:"image-container"},rt={key:0,class:"loading-overlay"},it=["src","alt","onClick","onLoad"],ut={class:"image-date-label"},ct={key:0,class:"empty-state"},dt=["src"],pt={class:"image-date"},mt={__name:"DynamicsAnalysisViewer",props:{images:{type:Array,required:!0}},setup(m){const s=m,h=k(null),o=k(1),g=k([]),f=P(()=>!s.images||s.images.length===0?1:Math.ceil(s.images.length/2)),y=l=>new Promise((p,r)=>{const i=new Image;i.onload=()=>p(),i.onerror=r,i.src=l}),a=()=>{!s.images||s.images.length===0||s.images.forEach((l,p)=>{y(l.path).then(()=>{g.value[p]=!1}).catch(r=>{console.error(`Failed to load image: ${l.path}`,r),g.value[p]=!1})})};L(()=>s.images,l=>{l&&l.length>0&&(g.value=new Array(l.length).fill(!0),a())},{immediate:!0});const t=l=>{g.value[l]=!1},$=l=>{l&&(h.value=l,o.value=1)},d=l=>{const p=Math.sign(l.deltaY),r=Math.max(1,Math.min(3,o.value-p*.2));o.value=r,l.preventDefault()};return ce(()=>{a()}),(l,p)=>(_(),M("div",nt,[p[4]||(p[4]=v("h2",{class:"section-title"},"动力学分析结果热图",-1)),v("div",{class:"image-grid",style:T({"--images-per-row":f.value})},[(_(!0),M(De,null,Pe(m.images,(r,i)=>(_(),M("div",{key:i,class:"image-card"},[v("div",ot,[g.value[i]?(_(),M("div",rt,p[2]||(p[2]=[v("div",{class:"loading-spinner"},null,-1)]))):S("",!0),v("img",{src:r.path,alt:`${r.date} - 动力学分析结果`,class:"analysis-image",onClick:E=>$(r),onLoad:E=>t(i)},null,40,it)]),v("div",ut,w(r.date),1)]))),128))],4),!m.images||m.images.length===0?(_(),M("div",ct,[b(c(Qe),{description:"暂无分析结果"})])):S("",!0),h.value?(_(),M("div",{key:1,class:"modal-overlay",onWheel:d,onClick:p[1]||(p[1]=G(r=>h.value=null,["self"]))},[v("div",{class:"modal-content",style:T({transform:`scale(${o.value})`})},[v("img",{src:h.value.path,alt:"放大查看",class:"modal-image"},null,8,dt),v("p",pt,w(h.value.date),1)],4),v("button",{onClick:p[0]||(p[0]=r=>h.value=null),class:"close-button"},p[3]||(p[3]=[v("svg",{class:"close-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[v("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))],32)):S("",!0)]))}},ft=le(mt,[["__scopeId","data-v-25b0c470"]]),vt="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='1200'%20height='1200'%20fill='none'%3e%3crect%20width='1200'%20height='1200'%20fill='%23EAEAEA'%20rx='3'/%3e%3cg%20opacity='.5'%3e%3cg%20opacity='.5'%3e%3cpath%20fill='%23FAFAFA'%20d='M600.709%20736.5c-75.454%200-136.621-61.167-136.621-136.62%200-75.454%2061.167-136.621%20136.621-136.621%2075.453%200%20136.62%2061.167%20136.62%20136.621%200%2075.453-61.167%20136.62-136.62%20136.62Z'/%3e%3cpath%20stroke='%23C9C9C9'%20stroke-width='2.418'%20d='M600.709%20736.5c-75.454%200-136.621-61.167-136.621-136.62%200-75.454%2061.167-136.621%20136.621-136.621%2075.453%200%20136.62%2061.167%20136.62%20136.621%200%2075.453-61.167%20136.62-136.62%20136.62Z'/%3e%3c/g%3e%3cpath%20stroke='url(%23a)'%20stroke-width='2.418'%20d='M0-1.209h553.581'%20transform='scale(1%20-1)%20rotate(45%201163.11%2091.165)'/%3e%3cpath%20stroke='url(%23b)'%20stroke-width='2.418'%20d='M404.846%20598.671h391.726'/%3e%3cpath%20stroke='url(%23c)'%20stroke-width='2.418'%20d='M599.5%20795.742V404.017'/%3e%3cpath%20stroke='url(%23d)'%20stroke-width='2.418'%20d='m795.717%20796.597-391.441-391.44'/%3e%3cpath%20fill='%23fff'%20d='M600.709%20656.704c-31.384%200-56.825-25.441-56.825-56.824%200-31.384%2025.441-56.825%2056.825-56.825%2031.383%200%2056.824%2025.441%2056.824%2056.825%200%2031.383-25.441%2056.824-56.824%2056.824Z'/%3e%3cg%20clip-path='url(%23e)'%3e%3cpath%20fill='%23666'%20fill-rule='evenodd'%20d='M616.426%20586.58h-31.434v16.176l3.553-3.554.531-.531h9.068l.074-.074%208.463-8.463h2.565l7.18%207.181V586.58Zm-15.715%2014.654%203.698%203.699%201.283%201.282-2.565%202.565-1.282-1.283-5.2-5.199h-6.066l-5.514%205.514-.073.073v2.876a2.418%202.418%200%200%200%202.418%202.418h26.598a2.418%202.418%200%200%200%202.418-2.418v-8.317l-8.463-8.463-7.181%207.181-.071.072Zm-19.347%205.442v4.085a6.045%206.045%200%200%200%206.046%206.045h26.598a6.044%206.044%200%200%200%206.045-6.045v-7.108l1.356-1.355-1.282-1.283-.074-.073v-17.989h-38.689v23.43l-.146.146.146.147Z'%20clip-rule='evenodd'/%3e%3c/g%3e%3cpath%20stroke='%23C9C9C9'%20stroke-width='2.418'%20d='M600.709%20656.704c-31.384%200-56.825-25.441-56.825-56.824%200-31.384%2025.441-56.825%2056.825-56.825%2031.383%200%2056.824%2025.441%2056.824%2056.825%200%2031.383-25.441%2056.824-56.824%2056.824Z'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient%20id='a'%20x1='554.061'%20x2='-.48'%20y1='.083'%20y2='.087'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23C9C9C9'%20stop-opacity='0'/%3e%3cstop%20offset='.208'%20stop-color='%23C9C9C9'/%3e%3cstop%20offset='.792'%20stop-color='%23C9C9C9'/%3e%3cstop%20offset='1'%20stop-color='%23C9C9C9'%20stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient%20id='b'%20x1='796.912'%20x2='404.507'%20y1='599.963'%20y2='599.965'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23C9C9C9'%20stop-opacity='0'/%3e%3cstop%20offset='.208'%20stop-color='%23C9C9C9'/%3e%3cstop%20offset='.792'%20stop-color='%23C9C9C9'/%3e%3cstop%20offset='1'%20stop-color='%23C9C9C9'%20stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient%20id='c'%20x1='600.792'%20x2='600.794'%20y1='403.677'%20y2='796.082'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23C9C9C9'%20stop-opacity='0'/%3e%3cstop%20offset='.208'%20stop-color='%23C9C9C9'/%3e%3cstop%20offset='.792'%20stop-color='%23C9C9C9'/%3e%3cstop%20offset='1'%20stop-color='%23C9C9C9'%20stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient%20id='d'%20x1='404.85'%20x2='796.972'%20y1='403.903'%20y2='796.02'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23C9C9C9'%20stop-opacity='0'/%3e%3cstop%20offset='.208'%20stop-color='%23C9C9C9'/%3e%3cstop%20offset='.792'%20stop-color='%23C9C9C9'/%3e%3cstop%20offset='1'%20stop-color='%23C9C9C9'%20stop-opacity='0'/%3e%3c/linearGradient%3e%3cclipPath%20id='e'%3e%3cpath%20fill='%23fff'%20d='M581.364%20580.535h38.689v38.689h-38.689z'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",ht={class:"image-selector"},gt={key:0,class:"selection-info-container"},yt={class:"selection-info"},bt={__name:"ImageSelector",props:{topLeft:{type:Object,default:()=>({x:null,y:null})},bottomRight:{type:Object,default:()=>({x:null,y:null})}},emits:["update:topLeft","update:bottomRight"],setup(m,{emit:s}){const h=m,o=s,g=k(null),f=k(!1),y=J({x:0,y:0}),a=J({left:0,top:0,width:0,height:0}),t=J({left:0,top:0,width:0,height:0,isVisible:!1}),$=r=>{r.preventDefault(),f.value=!0;const i=g.value.getBoundingClientRect();y.x=r.clientX-i.left,y.y=r.clientY-i.top,a.left=y.x,a.top=y.y,a.width=0,a.height=0},d=r=>{if(!f.value)return;const i=g.value.getBoundingClientRect(),E=Math.min(Math.max(r.clientX-i.left,0),i.width),D=Math.min(Math.max(r.clientY-i.top,0),i.height);a.left=Math.min(E,y.x),a.top=Math.min(D,y.y),a.width=Math.abs(E-y.x),a.height=Math.abs(D-y.y)},l=()=>{f.value=!1,a.width>0&&a.height>0&&(t.left=a.left,t.top=a.top,t.width=a.width,t.height=a.height,t.isVisible=!0,o("update:topLeft",{x:Math.round(t.left),y:Math.round(t.top)}),o("update:bottomRight",{x:Math.round(t.left+t.width),y:Math.round(t.top+t.height)}))};L(()=>[h.topLeft,h.bottomRight],([r,i])=>{(r==null?void 0:r.x)!==null&&(r==null?void 0:r.y)!==null&&(i==null?void 0:i.x)!==null&&(i==null?void 0:i.y)!==null?(t.left=r.x,t.top=r.y,t.width=i.x-r.x,t.height=i.y-r.y,t.isVisible=!0):t.isVisible=!1},{immediate:!0});const p=()=>{t.left=0,t.top=0,t.width=0,t.height=0,t.isVisible=!1,a.left=0,a.top=0,a.width=0,a.height=0,o("update:topLeft",{x:null,y:null}),o("update:bottomRight",{x:null,y:null})};return(r,i)=>(_(),M("div",ht,[v("div",{class:"image-container",ref_key:"imageContainer",ref:g,onMousedown:$,onMousemove:d,onMouseup:l,onMouseleave:l},[i[0]||(i[0]=v("img",{src:vt,alt:"Selectable Image",draggable:"false"},null,-1)),f.value?(_(),M("div",{key:0,class:"selection",style:T({left:`${a.left}px`,top:`${a.top}px`,width:`${a.width}px`,height:`${a.height}px`})},null,4)):S("",!0),t.isVisible?(_(),M("div",{key:1,class:"last-selection",style:T({left:`${t.left}px`,top:`${t.top}px`,width:`${t.width}px`,height:`${t.height}px`})},null,4)):S("",!0)],544),t.isVisible?(_(),M("div",gt,[v("div",yt,[i[1]||(i[1]=v("p",null,"最后选择区域尺寸:",-1)),v("p",null,"宽度: "+w(Math.round(t.width))+"px",1),v("p",null,"高度: "+w(Math.round(t.height))+"px",1),i[2]||(i[2]=v("p",null,"角坐标:",-1)),v("p",null,"左上: ("+w(Math.round(t.left))+", "+w(Math.round(t.top))+")",1),v("p",null," 右上: ("+w(Math.round(t.left+t.width))+", "+w(Math.round(t.top))+") ",1),v("p",null," 左下: ("+w(Math.round(t.left))+", "+w(Math.round(t.top+t.height))+") ",1),v("p",null," 右下: ("+w(Math.round(t.left+t.width))+", "+w(Math.round(t.top+t.height))+") ",1)]),v("button",{class:"clear-button",onClick:p},"清除选择")])):S("",!0)]))}},_t=le(bt,[["__scopeId","data-v-1c88fc6e"]]),Ct={class:"container-layout"},Vt={class:"main-content"},xt={key:0,class:"loading-container"},Mt={key:1,class:"result-section"},Nt={__name:"DynamicsAnalysisView",setup(m){const s=k({dataRange:[],grad_forecast_month:1,grad_month:"",grad_lat_lon:"",grad_type:"sum",x1:null,y1:null,x2:null,y2:null}),h=k([]),o=k(!1),g=k(!1),f=k(null),y=k({x:null,y:null}),a=k({x:null,y:null});L([y,a],([d,l])=>{s.value.x1=d.y,s.value.y1=d.x,s.value.x2=l.y,s.value.y2=l.x},{immediate:!0,deep:!0}),L([()=>s.value.dataRange,()=>s.value.grad_forecast_month],([d,l])=>{if(d&&d[1]&&l){const p=new Date(d[1].substring(0,4),parseInt(d[1].substring(4))-1);p.setMonth(p.getMonth()+l),s.value.grad_month=String(p.getMonth()+1).padStart(2,"0")}else s.value.grad_month=""});const t=async()=>{if(f.value)try{const d=await Ye(f.value);d.success&&d.status==="COMPLETED"?(h.value=d.data.images,o.value=!0,R.success(d.message||"分析完成"),g.value=!1,f.value=null):d.status==="IN_PROGRESS"?console.log("Task not completed yet, continuing polling..."):d.status==="FAILED"&&(console.error("分析任务失败:",d.message),g.value=!1,o.value=!1,R.error(d.message||"分析任务失败"),f.value=null)}catch(d){console.error("轮询分析结果出错:",d),g.value=!1,o.value=!1,R.error("获取分析结果失败"),f.value=null}},$=async()=>{if(!s.value.dataRange||!s.value.dataRange[0]||!s.value.dataRange[1]||!s.value.grad_month||!s.value.grad_forecast_month){R.error("请填写完整的分析参数");return}try{g.value=!0,o.value=!1;const d=await Re(s.value.dataRange[0],s.value.dataRange[1],s.value.grad_type,s.value.grad_month,s.value.x1,s.value.y1,s.value.x2,s.value.y2);f.value=d.task_id;const l=setInterval(async()=>{await t(),g.value||clearInterval(l)},2e3)}catch(d){o.value=!1,g.value=!1,R.error("提交分析请求失败，请重试"),console.error("Analysis error:",d)}};return Ue(()=>{f.value&&(f.value=null)}),(d,l)=>{const p=qe,r=ze,i=st,E=Ze,D=Ke,z=Je,K=Le,O=Ge;return _(),M("div",Ct,[v("div",Vt,[b(O,{class:"box-card"},{default:x(()=>[b(K,{model:s.value,onSubmit:G($,["prevent"]),class:"analysis-form"},{default:x(()=>[b(r,{label:"数据范围"},{default:x(()=>[b(p,{modelValue:s.value.dataRange,"onUpdate:modelValue":l[0]||(l[0]=N=>s.value.dataRange=N),type:"monthrange","range-separator":"至","start-placeholder":"开始月份","end-placeholder":"结束月份",format:"YYYY-MM","value-format":"YYYYMM"},null,8,["modelValue"])]),_:1}),b(r,{label:"预报提前期"},{default:x(()=>[b(i,{modelValue:s.value.grad_forecast_month,"onUpdate:modelValue":l[1]||(l[1]=N=>s.value.grad_forecast_month=N),min:1,placeholder:"请输入提前期（月）"},null,8,["modelValue"])]),_:1}),b(r,{label:"目标月份"},{default:x(()=>[b(p,{modelValue:s.value.grad_month,"onUpdate:modelValue":l[2]||(l[2]=N=>s.value.grad_month=N),type:"month",placeholder:"目标月份由数据范围和预报提前期决定",format:"MM","value-format":"MM",disabled:""},null,8,["modelValue"])]),_:1}),b(r,{label:"分析范围"},{default:x(()=>[b(_t,{topLeft:y.value,"onUpdate:topLeft":l[3]||(l[3]=N=>y.value=N),bottomRight:a.value,"onUpdate:bottomRight":l[4]||(l[4]=N=>a.value=N)},null,8,["topLeft","bottomRight"])]),_:1}),b(r,{label:"分析目标"},{default:x(()=>[b(D,{modelValue:s.value.grad_type,"onUpdate:modelValue":l[5]||(l[5]=N=>s.value.grad_type=N)},{default:x(()=>[b(E,{value:"sum"},{default:x(()=>l[6]||(l[6]=[ae("海冰面积")])),_:1}),b(E,{value:"variation"},{default:x(()=>l[7]||(l[7]=[ae("海冰变化")])),_:1})]),_:1},8,["modelValue"])]),_:1}),b(r,null,{default:x(()=>[b(z,{type:"primary",loading:g.value,onClick:$},{default:x(()=>[ae(w(g.value?"分析中...":"提交分析"),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),g.value?(_(),M("div",xt,[b(Oe)])):S("",!0),!g.value&&o.value?(_(),M("div",Mt,[b(ft,{images:h.value,class:"full-width"},null,8,["images"])])):S("",!0)]),_:1})])])}}},St=le(Nt,[["__scopeId","data-v-f64f05cc"]]);export{St as default};
